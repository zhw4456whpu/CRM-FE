webpackJsonp([1],{"+EMq":function(e,t){},"+skl":function(e,t){},"/+A6":function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/7QBIUGhvdG9zaG9wIDMuMAA4QklNBAQAAAAAAA8cAVoAAxslRxwCAAACAAIAOEJJTQQlAAAAAAAQ/OEfici3yXgvNGI0B1h36//hABhFeGlmAABJSSoACAAAAAAAAAAAAAAA/+ED/Gh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMjEgNzkuMTU0OTExLCAyMDEzLzEwLzI5LTExOjQ3OjE2ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InV1aWQ6NUQyMDg5MjQ5M0JGREIxMTkxNEE4NTkwRDMxNTA4QzgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUNCQTIxMDQ1RUQwMTFFNzk2RDJDNDVFN0E2NTdCNjUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUNCQTIxMDM1RUQwMTFFNzk2RDJDNDVFN0E2NTdCNjUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgSWxsdXN0cmF0b3IgQ0MgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5YWQ4ODI1OC1lOWMxLTRlMjUtYjllNS05MDc4NDAzNWMxODIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6OWFkODgyNTgtZTljMS00ZTI1LWI5ZTUtOTA3ODQwMzVjMTgyIi8+IDxkYzp0aXRsZT4gPHJkZjpBbHQ+IDxyZGY6bGkgeG1sOmxhbmc9IngtZGVmYXVsdCI+5omT5Y2wPC9yZGY6bGk+IDwvcmRmOkFsdD4gPC9kYzp0aXRsZT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7/2wBDAAoHBwgHBgoICAgLCgoLDhgQDg0NDh0VFhEYIx8lJCIfIiEmKzcvJik0KSEiMEExNDk7Pj4+JS5ESUM8SDc9Pjv/2wBDAQoLCw4NDhwQEBw7KCIoOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozv/wAARCAEJAVoDASIAAhEBAxEB/8QAGwABAAMBAQEBAAAAAAAAAAAAAAUGBwQDAgH/xABREAABAwIBBQkJDAkCBwEBAAAAAQIDBAURBgcSIdETFRYXMVRVkZQUQVFTVpKTotIiMjdhcXN0gaGxs9MzNDU2QnKywfAj4iRHUoSkw+Figv/EABoBAQACAwEAAAAAAAAAAAAAAAADBAECBQb/xAAhEQEAAwEAAgICAwAAAAAAAAAAAQIDEQQhIjEFEjJB8f/aAAwDAQACEQMRAD8A2YAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwnnhpoHTTysiiYmLpJHI1qfKqge4I3hHYumrf2pm0cI7F01b+1M2gSQI3hHYumrf2pm0cI7F01b+1M2gSQI3hHYumrf2pm0cI7F01b+1M2gSQI3hHYumrf2pm0cI7F01b+1M2gSQI3hHYumrf2pm0cI7F01b+1M2gSQI3hHYumrf2pm0cI7F01b+1M2gSQI3hHYumrf2pm0cI7F01b+1M2gSQI3hHYumrf2pm0cI7F01b+1M2gSQI3hHYumrf2pm0cI7F01b+1M2gSQI3hHYumrf2pm0cI7F01b+1M2gSQI3hHYumrf2pm0cI7F01b+1M2gSQI3hHYumrf2pm0cI7F01b+1M2gSQI3hHYumrf2pm0cI7F01b+1M2gSQI3hHYumrf2pm09qW50Ferm0ddTVKt1uSGVr8PlwUDsAAAAAAAAAAAAAAAAAAAzvO+5y2O3RaS6ElYmkiLy+5XaaIZ5ng/ZFs+mp/SoEhxV5J8zn7Q7aOKvJPmc/aHbS5gCmcVeSfM5+0O2jiryT5nP2h20uYApnFXknzOftDto4q8k+Zz9odtLmAKZxV5J8zn7Q7aOKvJPmc/aHbS5gCmcVeSfM5+0O2jiryT5nP2h20uYApnFXknzOftDto4q8k+Zz9odtLmAKZxV5J8zn7Q7aOKvJPmc/aHbS5gCmcVeSfM5+0O2jiryT5nP2h20uYApnFXknzOftDto4q8k+Zz9odtLmAKZxV5J8zn7Q7aOKvJPmc/aHbS5gCmcVeSfM5+0O2jiryT5nP2h20uYApnFXknzOftDto4q8k+Zz9odtLmAKZxV5J8zn7Q7aOKvJPmc/aHbS5gCmcVeSfM5+0O2kBT2OiyZzu2ihtbZIoJ6N75GuersV0ZfD3vct6jUjP7v8N1j+gO+6cDQAAAAAAAAAAAAAAAAAAAM8zwfsi2fTU/pU0MzzPB+yLZ9NT+lQNDAAAAAVOsuWE93e6K5USwwNV6TSxticmkqJKxUkxamDVxxVuKYd8rWSt1ZLlNOxLk2pWqrEkZFDXte6REhY1VVqVC44aC44o7U3wYIlnyhtt4q6m4dxxxJTzW7cVc5VV8j8ZMGtRFTD3yKqqvxImvFPFbRdI8pLO57nTwwVD5pZGvmVrEWGVifpJHJji5qYImOvwYgfDq24tyjhoY7xXLUrVuWSimbTrGkGi9zXoqRI/QXBG444ouKa8MT7iq71VZWWl+lbpIJaGpdjDLIrXM3Sn0l1p75MUw+VeQ7YrLXzX5L5VVLYamNzoYoYvdM7n14sXHDFzl0XqurBWtTWiLj80lE2PK6J1LSVEdNT01Xukj24M3SaSF6Ixe+i6D11cn1gRVyfXOylgSSx3qpiXdnNi7vibHJg5mi5GbqiYJjyOTHWeOT9wuLaukZLbLlTuS4VUKq6rp1ZIx8r36LmLJiqsRUXFqKuDVwxRTvr7NDUZRLI6219xSKCVXsqZnLA9XKxWtYjnaHhxwTva8TxoaC72m/z1k9vZU1FwkjdG+BXOho0VzGzM1rinuGtdpYJpKi6k1Ioc0WUUm/E9Yy60VVcFqZaFLRGrEm0IpZUbhi/U5yI1VVUw5ORCTs8lfQRW6NbnS1bKmskinakKo7dVSR8iI5XcqOa7VhyILdb761UppaGkipI7pUVKTLVOWVzHTyPb/ppHhrRyfx8nx6jqloFmylpZYbdUQsiqX1c9Q5zUjkekLoW4JpKuKo/wJ73X3gKtXT1sVnu1W11VG/Ru6NqO63rjoPlRiI3H3OjgiIqeAm6Gpo5Mo6HuCV7KVyvRr5Kipc6d2g7Fmg9uhqwVcdLH3PIRNys+Npre5rTVb41Vurp5lSnf7pZmvVrMeRX4rhopr+ImbZSV0GUrqh9FOy2SSyrSR4NxhkeuMj3onI1yo5W8qppOxw0kwDhvdZWVN3gqWy1U1NSyO0KagiVFavvUkdLI1I1dgq+5VU5dSqqa+/J+5VK1UslyqrjGr26MVFU0rsWYa1cr0jRHOw7zVVEwXWve/K6xLlDdFbJDc6SjbMjp3yXGZqT6PI2OJsmi1uKJi7BOTUmK6Se9ot8kWUHdFO27Q0kdM5jmV1bNK2SRzm4KjXvd71Grr1e/Ag5LvW1FI64S1VPblq7nHoQVup7I2PYjdSOTBMMHOTlRXKmPg78nLrWVN2eqvg0K+ommexzHJIjI2xsa5MXakcixuRMP4vCp91NsvD7jUPo7fSzskSpjV1XULEjdNWaKpgx6ryL3k5OU+7FQ3CjvjrhPQrHDXQRwo1HYugdG3DTen/7RETVrTQYi8uoOO/Xt9Pb7tR1tLcnuSuYsL20Ez49z0o1TB6N0eXHv8pM0V5luV9ctPTXJlHFRuVyVFFJAjpNJMETdGpiuGJErQ32HJ+os8dmWVXVsszZkqY0arXVLpU1KuPIuHykgxbpWZYW6pqLTLSQQUdSxZFlY9Fc90KonuV1e8UDkcyK40CrNFc4mMuSNkp56p8csKP0dLB0MmtqK9Ha1VETHkREw8cj4o4Fiq0fWS4UCvmkmq55tN6vXBGtc9WqqIxccEx1t5MdclFk+y43Kvkvdpt1RSrUufStqIWzSa2sarteKNRdDkTWurHDkPzJXJi12610NTvJR01wjYuMqUzGytVcUX3WGPIuHyARdLcrjcaeVyU89tlulWsc1TMv6tGjljZGxE5ZFRvyNVyqq8iLM2KSW31UthjatTSUWEcVQ1yKsCaLXNikRdeKNc3ByY4py4Ly+DKGunq6alWmcyBlxmrJpnqmCtR71ja3Xjiqq13gwRfCSFopKinvV+mliVsdTWRyRKv8bUp4mqqf/wBNVPqAmQAAM/u/w3WP6A77pzQDP7v8N1j+gO+6cDQAAAAAAAAAAAAAAAAADjqauOlVjX4qr3YImrrNL3rSP2tPIZrWbTyHYZ5ng/ZFs+mp/SpoZn2dumnlsFFURQvkZBVI6TQTHRTBda/Fjq+s3YaCDO+OK2dEV/q7RxxWzoiv9XaBogM744rZ0RX+rtHHFbOiK/1doGiAzvjitnRFf6u0ccVs6Ir/AFdoGiAzvjitnRFf6u0ccVs6Ir/V2gaIDO+OK2dEV/q7RxxWzoiv9XaBogM744rZ0RX+rtHHFbOiK/1doGiAo9ozpWa6XCOhlgqKF8q4Mkn0dBV8Cqi6i8AACj3fOlZrXcJKGKCornxLg+SDR0EXwIqrrAvAM744rZ0RX+rtHHFbOiK/1doGiAzvjitnRFf6u0ccVs6Ir/V2gaIDO+OK2dEV/q7RxxWzoiv9XaBogM744rZ0RX+rtHHFbOiK/wBXaBogM744rZ0RX+rtHHFbOiK/1doGiGf3f4brH9Ad90558cVs6Ir/AFdpH2q8rlfnTt11pKGoip6OkcyVZE97qkwXV8b0QDVAAAAAAAAAAAAAAAARV3jVYUma9WOaqN5eVF7xDue97tJ7tJyYe+J6vo31iMYkiMai4rimJGVlskgwcxVkaupVwwVFx1Hm/wAl42ttJ0rX4+v946XjaUisVmfaQorg6qXRdCqLh79Naf8Aw6auBailkhRcFd31+XE+4o2xxoxqYNTVgex3sKXpSI0t2VC81m3axyEFvHU+Mi612DeOp8ZF1rsJ0EzRBbx1PjIutdg3jqfGRda7CdAEFvHU+Mi612DeOp8ZF1rsJ0AQW8dT4yLrXYN46nxkXWuwnQBBbx1PjIutdg3jqfGRda7CdAEFvHU+Mi612DeOp8ZF1rsJ0AUXKjI5t2t2jUaKSMx3OdmtY1+P4lI3JDLOotFWmTeVEm5vj1U9XI73Kt7yOcve8C/UppTmo9qtciKi8qKVLKbJGhubEWoplkjauLXNVUdH9ad4CByvyzqbxVrk5kvIkr5NVRVxu9yje+jXJ3vC76kJPJfI5tpt2jT6KyPw3Sd+pZF+L4kOvJnJGhtjF7np1ijcuLnOXF8n1+AtrWoxqNaiIiciIBCbx1PjIutdg3jqfGRda7CdAEFvHU+Mi612DeOp8ZF1rsJ0AQW8dT4yLrXYN46nxkXWuwnQBBbx1PjIutdg3jqfGRda7CdAEFvHU+Mi612DeOp8ZF1rsJ0AQW8dT4yLrXYddut8tI97pHNVXJgiNJIAAAAAAAAAAAAAAAAAAAAMvynylypTLyWxWe4xUsbWNViPiaqe80lVVVrlNQMlu3w1SfNp+CgHTuucnyhofRM/KG65yfKGh9Ez8osQAru65yfKGh9Ez8obrnJ8oaH0TPyixACu7rnJ8oaH0TPyhuucnyhofRM/KLEAK7uucnyhofRM/KG65yfKGh9Ez8osQAru65yfKGh9Ez8obrnJ8oaH0TPyixACu7rnJ8oaH0TPyhuucnyhofRM/KJx9QjZNzSOSRyJiug3HAd0O5rUeYBB7rnJ8oaH0TPyhuucnyhofRM/KJzuh3NajzB3Q7mtR5gEHuucnyhofRM/KG65yfKGh9Ez8onO6Hc1qPMPuKVszdJqKmC4Kjk1ooEBuucnyhofRM/KG65yfKGh9Ez8osQAru65yfKGh9Ez8obrnJ8oaH0TPyixACu7rnJ8oaH0TPyj9yYylyp4eRWK83GKqjcxyvRkTET3mkioqNRSwlUtPw1R/Nr+CoGtAADyRyOcrUw1eBdaHqQDqhIry6RrkRmlg5fsUkY7jTSVCQxu0nL30TVjr2FHHzc9JmJnkxPPv7T3xtXkx79O4AF5AAAAAAAAAAAAAAAAAAAAZLdvhqk+bT8FDWjJbt8NUnzafgoBawAAAAAAAAAAAAH1bf2lUfyISpBLDIkrpYZ3xOcmC4d8+sKvn0vUgE2CEwq+fS9SDCr59L1IBNkDHqrahI8Vh011r/1d/A+8Kvn0vUghi3JqppK5XLpKq99QPQAAAAAKpafhqj+bX8FS1lUtPw1R/Nr+CoGtENX1tRT1jWsXBioi8ia9esmSMulM6eFr40VXsXHBPAvL8pS86NJwmc55Me02E1i/y+kNOzcpXtRdLRVUTXyovJ9n3n1Qaq+FE5dJOr/FOttrmnZGrtGNzW4Ki8vgRerV9R101pjp3tkdI6R7eRcEREODj4O9tYtFeR3vtfvvnFJiZ9pQAHq3KAAAAAAAAAAAAAAAAAAAMlu3w1SfNp+ChrRkt2+GqT5tPwUAtYAAAAAAAOWsqpIHQQ08O7T1D9CNmkjUx+NT17jyk6Ij7S08pf25aPpP9i4VdYyjYj5GuVHLgmigFU7jyk6Ij7S0dx5SdER9paWmatigpmVDmuVkmGCIiY60xPySvjjpm1KterHciYJj94FX7jyk6Ij7S0dx5SdER9paWl1dG2jSqVrtBe9qx5cB3bH3F3Xou0PBqx5cAKt3HlJ0RH2lo7jyk6Ij7S0tDK+J1I6pRr9BurDBMfvPSlqmVcW6Ro5Exw90msCl1j7xbadaqutbY6dqoj3sna5W4rhyfWdpOX63Pu1lqKGNyMfIiaKryYo5FT7isUFW6pbIyaPc6iB6xysTWiOTwKB1gAAAABVLT8NUfza/gqWN9fRxvVklXA1ycrXSIip9RVrZWUzc8EdQ6pibDua/6ivTR/Q4cvIBsAOHfq1dJ0fp27Rv1auk6P07doHcDh36tXSdH6du0b9WrpOj9O3aB3A56erpqtqupqiKdrVwVY3o5EX6joAAAAAAAAAAAAAAAAAAAAZLdvhqk+bT8FDWjJbt8NUnzafgoBawAAAAAAAcky4Xy0Kur/iS6zQRTtRsrEciLimJTauihrY0ZM1fcrpNVq4K1fiPDemPnVZ6dQLu+CGSJsT40VjeRq97A/XU0LokidGisbyN8BR96Y+dVnp1G9MfOqz06gXhaeFYdxWNNzTkb3h3PFuG4aDdz/6e9y4lH3pj51WenUb0x86rPTqBeEpoUhWFI00F5Wn1FDHCzQjajW444IUXemPnVZ6dRvTHzqs9OoFkyrqpqLJurnp5FjlRGo1ycqYuRFw+pVIOlpYaKnSGFuDU5V77l8K/Gc62emerd1knma1cdGSVVTH5DvAAAAfEkrIkxe5GovIp9nFdP0LP5v7AVfIzJK15V3G+SXLdnLBUpoLHJo++V+OOr4kLbxSZMeCs9N/8M/ybpb5U1t0Wz3Z1AjZv9REVU09bsOTwa+sn968t/Kt/nOAmKnNdk1A5EbS3CXFOVkuOH2Hjxa5O9H3T0n+0jd68t/Kt/nOG9eW/lW/znATkGarJmaJHuhro1X+F02v7j14pMmPBWem/+Fe3ry38q3+c4b15b+Vb/OcBIZsKWKgv2VdFBjuVNVMiZpLiuDXSomK/IhpBmeahs7LtlMyplWads8aSyL/G7SlxX61xNMAAAAAAAAAAAAAAAAAAAAZLdvhqk+bT8FDWjJbt8NUnzafgoBawAAAAA8nPmfUNggY1znNVy6S4HqfFErYLo/dNFd0Zi16rrb8QH13NcvExecO5rl4mLziU3eLxrPOG7xeNZ5wEX3NcvExecO5rl4mLziU3eLxrPOG7xeNZ5wEPG+TdZIpWta+NURcFxPU81Vq3GqVqoqYtwwX4j0AAAAAAAAAHFdP0LP5v7HacV0/Qs/m/sBWsgP1u9fPt+95cim5Afrd6+fb97y5AAAAAAETmx/eLKz6W3+uU0UzrNj+8WVn0tv8AXKaKAAAAAAAAAAAAAAAAAAAAyW7fDVJ82n4KGtGPZS0N1qs7M0dmkiZWOga9iyciIkaIvKi94C5Ar3B3ORz2g62+yODucjntB1t9kCwgr3B3ORz2g62+yODucjntB1t9kCwnnJDFNgsjEcqci+AguDucjntB1t9kcHc5HPaDrb7IE13JT+KQdyU/ikIXg7nI57QdbfZHB3ORz2g62+yBNdyU/ikHclP4pCF4O5yOe0HW32Rwdzkc9oOtvsgT0cTIkVI2o3HlwPsr3B3ORz2g62+yODucjntB1t9kCwgr3B3ORz2g62+yODucjntB1t9kCwgr3B3ORz2g62+yODucjntB1t9kCwgr3B3ORz2g62+yODucjntB1t9kCwnFdP0LP5v7EXwdzkc9oOtvsnLXWHOBHE1airolartWGjy+aB4ZAfrd6+fb97yz1S1MtfRUVNM2F1S9yLIrdLDBMeQqub1sjJ7wyZUWVJmo9U5NL3WJaamZ1HdbdW7hNNHA96vSFuk7W3DkA7kyeuauciX2BVbypuCavl1n4lhuKxrIl/g0EXBXbi3DrxPVmVFvZJJIlquiOlT3S7hy/afKZR21tO6BLVddzcukqbh3+v4gPGew3aKjlqGXiOTQjV6I2nT3WCY4IeFuqu7KGKZXNV7mpp6Ped30O+XK2FlE+KlttyZIkapErqfUi4asdZGWqmWmoWaaO3WVd0l0uVXLygc2bH94srPpbf65TRTOs2P7xZWfS2/1ymigAAAAAAAAAAAAAAAAAAAM7/55f9p/6zRDO/8Anl/2n/rA0QAAAAAAAAAAAAAAAAAAAAAAAAi73+rx/wA/9iUIu9/q8f8AP/YDNMhv2hffpKfe8uBT8hv2hffpKfe8uAAAAAABE5sf3iys+lt/rlNFM6zY/vFlZ9Lb/XKXe5TPgpHPjx0sURVRMcE/z7yPTSM6Tef6bVrNrRWHcCtRXKqjTDdFf3/d61QnaaXuinZIqYaSa0Kvi+dl5M8r9pdcLZ+5dAALyAAAAAAAAAAAAAACg5R5GX6sysdfrJdKejesSMxkx0kwTBf4VTDAvwAzzg1nI8qqb7fYHBrOR5VU32+waGAM84NZyPKqm+32BwazkeVVN9vsGhgDPODWcjyqpvt9gcGs5HlVTfb7BoZC3/Ki05NMhddKh0W7q5I0axXK7DDHk+VOsCrcGs5HlVTfb7Bx3S2ZwLTa6m4VOVNPuVPGsjkbjiuHeT3HKvITnGpknzyfs7thXcucv7ResmZbbaZpJZqiRjXI6JW+5Rce/wDGiJ9YHFaanLy726KuiyhbHHLjopIiY6lVMdTfiO3ufOB5TRdX+wu1pyap6C00lIr5EdDC1jtFyYaSJr73hxO3eOm8ZL1psAzzufOB5TRdX+wdz5wPKaLq/wBhoe8dN4yXrTYN46bxkvWmwDPO584HlNF1f7Dkyany7ynbV9y5RshfSSIyRkyYLrx8DV8C9Rp+8tL4ZOszqlulFkHnHvMVdJJHQ1kaSNVGK7Fy4OTUnyvQCT4NZyPKqm+32BwazkeVVN9vsEhxqZJ88n7O7YTNgyotWUrZ3Wud0nc6tSRHRq1Uxxw5fkXqAq3BrOR5VU32+wODWcjyqpvt9g0MAZ5wazkeVVN9vsHlNkpnDqGo2XKeleiLiiLj7BpAAwXJ+9z5PVtzhmopq6V0+Ej4eTSarkVeTvqpOcPH9BVv+fUTebD9r5UfTE/qkNDAyHh4/oKt/wA+ocPH9BVv+fUazPKkMD5F1o1McCOobrJUVKRSNbg/kVveAzfh4/oKt/z6hw8f0FW/59RrwAzLNNUd1XTKapWN0azTxv0HcrcXSrgpo8saSxujdyOTDAoubz97ss/p6fiTGgGJiJjkkTxDw2dqKqzv0kRVwRE/zvEmxiMbopqROQ9QQY+NlhHM44kvpa/8pAAWEYAAAAAAAAAAAAAHjNMynhdK/HRbhjgn1HsclfG+WikjjbpPdhgnJ30A8d+6TwSeaN+6TwSeaRu9Vb4j1m7RvVW+I9Zu0CS37pPBJ5o37pPBJ5pG71VviPWbtG9Vb4j1m7QJLfuk8EnmlAzkXKikvmTE07caaCqc6dJGYorNKJV1d/Ui6i271VviPWbtOWsyZW4sa2st0U6MXFunoro/JrAjuFWbfm1D2BPZP2PK7N5DK2WGOjjkYuk17KHBWr4UXRPbgHQdCU3U3aOAdB0JTdTdoHVxmZJ9Iu9C7YOMzJPpF3oXbDl4B0HQlN1N2jgHQdCU3U3aB1cZmSfSLvQu2DjMyT6Rd6F2w5eAdB0JTdTdo4B0HQlN1N2gdXGZkn0i70LthyVeXGQte5rqx9PUubqas1Ir1RPixafvAOg6Epupu0cA6DoSm6m7QPDhVm35tQ9gT2SNzb3KijvmU80DcKaeqa6BI2YIjNKVU1d7UqaiZ4B0HQlN1N2nVRZNb3Nc2it8VOj1xdueimPgx1gTm/dJ4JPNG/dJ4JPNI3eqt8R6zdo3qrfEes3aBJb90ngk80b90ngk80jd6q3xHrN2jeqt8R6zdoFGyJyps2T92yg31rFplqKvGNFie7HBz8feouHKnKXHjMyP6X/8ab2TxkyRppZXSS2WjfI9dJznRRqqr4VU/OBlJ0FQ+hjA9JM5GRskbmPu+LXJgv8Aw03snLTZcZEU026tvLnKnvdKml1eoe3Ayk6CofQxjgZSdBUPoYwPfjMyP6X/APGm9kcZmR/S/wD403snhwMpOgqH0MY4GUnQVD6GMCDzfXWkXKHKqrjc6SGqq2yROa3DFqvlVFwXBU1KholNXw1bnNjR2LUxXFCvU2TjqJHJSW6GnRy4uSJrG6Xy4Eta6OemlkWVmijm4JrRQJUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH/2Q=="},0:function(e,t){},"0FOk":function(e,t,s){e.exports=s.p+"static/img/500.d4fe614.png"},"0xDb":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s.d(t,"formatDate",function(){return o}),s.d(t,"deepClone",function(){return r}),s.d(t,"isNull",function(){return i}),s.d(t,"trim",function(){return c}),s.d(t,"Base64",function(){return m}),s.d(t,"generateId",function(){return f});var a=s("pFYg"),n=s.n(a),o=function(e,t){var s={"M+":e.getMonth()+1,"d+":e.getDate(),"H+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),"S+":e.getMilliseconds()};for(var a in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),s)new RegExp("("+a+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?s[a]:("00"+s[a]).substr((""+s[a]).length)));return t},r=function e(t){var s=Array.isArray(t)?[]:{};if(t&&"object"===(void 0===t?"undefined":n()(t)))for(var a in t)t.hasOwnProperty(a)&&(!t[a]||"object"!==n()(t[a])&&"function"!=typeof t[a]?s[a]=t[a]:s[a]=e(t[a]));return s},i=function(e){return void 0===e||null==e||"null"==e||""==e},c=function(e){var t=e.replace(/(^\s*)|(\s*$)/g,"");return console.log("str.replace(/^s([ws])*[\r\ns]$/mg,'')",t),t},l=(function(){if("ActiveXObject"in window)try{return new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(e){return 0}else if(navigator.plugins&&navigator.plugins.length>0)return navigator.plugins["Shockwave Flash"]}(),"undefined"!=typeof FormData),u=function(e){e=e||!0;var t=function(){try{return new window.XMLHttpRequest}catch(e){return!1}}()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){return!1}}();return"withCredentials"in t?t:e?void 0===window.XDomainRequest?t:function(){var e=new XDomainRequest;e.readyState=0,e.status=100,e.onreadystatechange=EMPTYFN,e.onload=function(){e.readyState=4,e.status=200;var t=new ActiveXObject("Microsoft.XMLDOM");t.async="false",t.loadXML(e.responseText),e.responseXML=t,e.response=e.responseText,e.onreadystatechange()},e.ontimeout=e.onerror=function(){e.readyState=4,e.status=500,e.onreadystatechange()}}():t}(),d=u.setRequestHeader||!1,m=(u.overrideMimeType,d&&l||_hasFlash,{keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,s,a,n,o,r,i,c="",l=0;for(e=m.utf8Encode(e);l<e.length;)n=(t=e.charCodeAt(l++))>>2,o=(3&t)<<4|(s=e.charCodeAt(l++))>>4,r=(15&s)<<2|(a=e.charCodeAt(l++))>>6,i=63&a,isNaN(s)?r=i=64:isNaN(a)&&(i=64),c=c+this.keyStr.charAt(n)+this.keyStr.charAt(o)+this.keyStr.charAt(r)+this.keyStr.charAt(i);return c},decode:function(e){var t,s,a,n,o,r,i="",c=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");c<e.length;)t=this.keyStr.indexOf(e.charAt(c++))<<2|(n=this.keyStr.indexOf(e.charAt(c++)))>>4,s=(15&n)<<4|(o=this.keyStr.indexOf(e.charAt(c++)))>>2,a=(3&o)<<6|(r=this.keyStr.indexOf(e.charAt(c++))),i+=String.fromCharCode(t),64!=o&&(i+=String.fromCharCode(s)),64!=r&&(i+=String.fromCharCode(a));return i=m.utf8Decode(i)},utf8Encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",s=0;s<e.length;s++){var a=e.charCodeAt(s);a<128?t+=String.fromCharCode(a):a>127&&a<2048?(t+=String.fromCharCode(a>>6|192),t+=String.fromCharCode(63&a|128)):(t+=String.fromCharCode(a>>12|224),t+=String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t},utf8Decode:function(e){for(var t="",s=0,a=c1=c2=0;s<e.length;)(a=e.charCodeAt(s))<128?(t+=String.fromCharCode(a),s++):a>191&&a<224?(c2=e.charCodeAt(s+1),t+=String.fromCharCode((31&a)<<6|63&c2),s+=2):(c2=e.charCodeAt(s+1),c3=e.charCodeAt(s+2),t+=String.fromCharCode((15&a)<<12|(63&c2)<<6|63&c3),s+=3);return t}}),p=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],f=function(e){for(var t="",s=0;s<e;s++){var a=Math.ceil(35*Math.random());t+=p[a]}return t}},1:function(e,t){},2:function(e,t){},3:function(e,t){},"43y4":function(e,t){},"4Vh3":function(e,t){e.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},"4ayF":function(e,t){},"4fkz":function(e,t){},"4wP/":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s.d(t,"webimConfig",function(){return n});var a=s("gHSG"),n={xmppURL:"im-api.easemob.com",apiURL:("https:"===location.protocol?"https:":"http:")+"//a1.easemob.com",appkey:a.production.appkey,https:!1,isMultiLoginSessions:!1,isAutoLogin:!0,isDebug:!1,autoReconnectNumMax:2,autoReconnectInterval:2,heartBeatWait:4500,delivery:!0,isWindowSDK:!1,isSandBox:!1,isWebRTC:(/Firefox/.test(navigator.userAgent)||/WebKit/.test(navigator.userAgent))&&/^https\:$/.test(window.location.protocol),isHttpDNS:!1,msgStatus:!0,read:!0,saveLocal:!1,encrypt:{type:"none"}}},"66w0":function(e,t){},"6ZSt":function(e,t){e.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},"72zt":function(e,t){},"7vKx":function(e,t,s){e.exports=s.p+"static/img/loading.84ef447.gif"},"8YCc":function(e,t){e.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},CEHE:function(e,t){},DaNP:function(e,t){},E4LF:function(e,t){},EEjf:function(e,t){},"Es+K":function(e,t){},HxCj:function(e,t,s){e.exports=s.p+"static/img/error.e08c80d.jpg"},KYqO:function(e,t){e.exports={_args:[["elliptic@6.4.1","D:\\projects\\PD-FE\\OMS"]],_development:!0,_from:"elliptic@6.4.1",_id:"elliptic@6.4.1",_inBundle:!1,_integrity:"sha512-BsXLz5sqX8OHcsh7CqBMztyXARmGQ3LWPtGjJi6DiJHq5C/qvi9P3OqgswKSDftbu8+IoI/QDTAm2fFnQ9SZSQ==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"elliptic@6.4.1",name:"elliptic",escapedName:"elliptic",rawSpec:"6.4.1",saveSpec:null,fetchSpec:"6.4.1"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.1.tgz",_spec:"6.4.1",_where:"D:\\projects\\PD-FE\\OMS",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.1"}},"Lq8/":function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={};s.d(a,"WebIM",function(){return qn}),s.d(a,"conn",function(){return Hn}),s.d(a,"options",function(){return Wn}),s.d(a,"methods",function(){return Vn});var n=s("Dd8w"),o=s.n(n),r=s("Xxa5"),i=s.n(r),c=s("exGp"),l=s.n(c),u=s("7+uW"),d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var m=s("VU/8")({name:"App"},d,!1,function(e){s("dS29")},null,null).exports,p=s("/ocq"),f=s("//Fk"),h=s.n(f),g=s("fZjL"),v=s.n(g),y=s("mtWM"),b=s.n(y),C=s("pFYg"),w=s.n(C),I={isObject:function(e){return"object"===(void 0===e?"undefined":w()(e))&&!(e instanceof Array)},isNullObject:function(e){return void 0===e||null==e||"null"==e||""==e}},A=I,x=s("mw3O"),k=s.n(x);function _(e){var t=e.urlObj||{},s=t.url,a=t.type,n=e.data||{},o=e.headers;A.isObject(e.path)&&e.path&&v()(e.path).forEach(function(t){s=s.replace(":"+t,e.path[t])});var r={};return r.url=s,r.method=a,"get"==a?r.params=n:r.data=n,r.headers=o||{"Content-Type":"application/x-www-form-urlencoded"},new h.a(function(t,s){e.hasProxy,b()(r).then(function(e){"200"==e.status?t(e):s(e)},function(e){e.response&&e.response.status?s(e.response.statusText):s("网络错误")})})}b.a.interceptors.request.use(function(e){return h.a.resolve(e)},function(e){return h.a.reject(e)}),b.a.interceptors.response.use(function(e){return e.data&&"100008"==e.data.code&&(window.location.href="/"),h.a.resolve(e)},function(e){return h.a.reject(e)});var S,T=function(e){return new h.a(function(t,s){_(e).then(function(e){"200"!=e.status&&"304"!=e.status||t(e.data)},function(e){s(e)})})},M={url:"/login",type:"post"},N={url:"/sys/auth/getValidateCode",type:"get"},R={url:"/busi/cs/session/selectSysUserServeTenantInfo",type:"post"},F={url:"/sys/auth/thirdLogin",type:"post"},B=function(e){return e.urlObj=F,new h.a(function(t,s){_(e).then(function(e){"200"!=e.status&&"304"!=e.status||t(e.data)},function(e){s(e)})})},j=function(e){return e.urlObj=R,T(e)},$=function(e){return e.urlObj=N,T(e)},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.urlObj=M,new h.a(function(t,s){_(e).then(function(e){"200"!=e.status&&"304"!=e.status||t(e.data)},function(e){s(e)})})},D=function(e){return e.headers&&"application/x-www-form-urlencoded"==e.headers["Content-Type"]&&(e.data=k.a.stringify(e.data)),new h.a(function(t,s){_(e).then(function(e){"200"!=e.status&&"304"!=e.status||t(e.data)},function(e){s(e)})})},P={url:"/sys/tenant/saveTenant",type:"post"},L={url:"/sys/tenant/queryListForPage",type:"post"},E={url:"/sys/tenant/deleteTenantById",type:"post"},q={url:"/sys/tenant/updateTenantById",type:"post"},H={url:"/sys/role/queryListForPage",type:"post"},U={url:"/sys/tenant/queryTenantForPage",type:"post"},W={url:"/sys/role/queryTenantRoleForPage",type:"post"},V={url:"/sys/role/addRoleAndPermi",type:"post"},z={url:"/sys/role/updateRoleById",type:"post"},G={url:"/sys/role/deleteRoleAndPermi",type:"post"},K={url:"/sys/menu/queryMenuByRoleId",type:"post"},Q={url:"/sys/csCenter/queryAllForList",type:"post"},J={url:"/sys/csCenter/queryCenterTenantForPage",type:"post"},X={url:"/sys/csCenter/addCsCenter",type:"post"},Z={url:"/sys/csCenter/updateCsCenter",type:"post"},Y={url:"/sys/csCenter/deleteCsCenter",type:"post"},ee={url:"/sys/csCenter/queryTenantNotInCenter",type:"post"},te={url:"/sys/csCenter/queryTenantInCenter",type:"post"},se={url:"/sys/csCenter/addTenantInCenter",type:"post"},ae={url:"/sys/csCenter/deleteTenantInCenter",type:"post"},ne={url:"/sys/csCenter/updateTenantForAdmin",type:"post"},oe={url:"/sys/menu/queryAllForList",type:"post"},re={url:"/sys/csCenter/queryAllTenantForList",type:"post"},ie={url:"/sys/sensitiveWord/querySensitiveWordListForPage",type:"post"},ce={url:"/sys/sensitiveWord/updateSensitiveWordById",type:"post"},le={url:"/sys/sensitiveWord/deleteSensitiveWordById",type:"post"},ue={url:"/sys/sensitiveWord/saveSensitiveWord",type:"post"},de={url:"/sys/sensitiveWord/synchronizeVersionNo",type:"post"},me={synchronizeVersionNo:function(e){return e.urlObj=de,D(e)},saveSensitiveWord:function(e){return e.urlObj=ue,D(e)},deleteSensitiveWordById:function(e){return e.urlObj=le,D(e)},updateSensitiveWordById:function(e){return e.urlObj=ce,D(e)},querySensitiveWordListForPage:function(e){return e.urlObj=ie,D(e)},queryAllTenantForList:function(e){return e.urlObj=re,D(e)},queryAllForList:function(e){return e.urlObj=oe,D(e)},setDefaultCompany:function(e){return e.urlObj=ne,D(e)},removeCenterCompany:function(e){return e.urlObj=ae,D(e)},addCenterCompany:function(e){return e.urlObj=se,D(e)},getCenterAllCompany:function(e){return e.urlObj=te,D(e)},getNoCenterCompany:function(e){return e.urlObj=ee,D(e)},delCustomerCenter:function(e){return e.urlObj=Y,D(e)},editCustomerCenter:function(e){return e.urlObj=Z,D(e)},addCustomerCenter:function(e){return e.urlObj=X,D(e)},getCenterCompany:function(e){return e.urlObj=J,D(e)},getCustomerCenter:function(e){return e.urlObj=Q,D(e)},getAuthority:function(e){return e.urlObj=K,D(e)},getCompany:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.urlObj=L,D(e)},addCompany:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.urlObj=P,D(e)},editCompany:function(e){return e.urlObj=q,D(e)},delCompany:function(e){return e.urlObj=E,D(e)},getDefaultRole:function(e){return e.urlObj=H,D(e)},getCompanyRole:function(e){return e.urlObj=U,D(e)},getTenantRole:function(e){return e.urlObj=W,D(e)},addRole:function(e){return e.urlObj=V,D(e)},editRole:function(e){return e.urlObj=z,D(e)},delRole:function(e){return e.urlObj=G,D(e)}},pe=s("VI/i"),fe=s.n(pe),he=s("bOdI"),ge=s.n(he),ve={json:{"Content-Type":"application/json;charset=UTF-8"},urlencoded:{"Content-Type":"application/x-www-form-urlencoded"}},ye="展开",be="收起",Ce="删除成功",we="修改成功",Ie="查询失败",Ae=["[/&哈哈#/]","[/&戴口罩#/]","[/&呲牙#/]","[/&大笑#/]","[/&微笑#/]","[/&开心#/]","[/&紧张#/]","[/&闭眼#/]","[/&蒙圈#/]","[/&眨眼#/]","[/&害羞#/]","[/&馋嘴#/]","[/&思考#/]","[/&喜欢#/]","[/&得意#/]","[/&假笑#/]","[/&不高兴#/]","[/&不开心#/]","[/&鄙视#/]","[/&紧张#/]","[/&困#/]","[/&不屑#/]","[/&困惑#/]","[/&嘟嘴#/]","[/&飞吻#/]","[/&亲嘴#/]","[/&爱你#/]","[/&调皮#/]","[/&鬼脸#/]","[/&失望#/]","[/&难过#/]","[/&生气#/]","[/&愤怒#/]","[/&哭泣#/]","[/&气愤#/]","[/&不明白#/]","[/&害怕#/]","[/&叹气#/]","[/&大哭#/]","[/&冷汗#/]","[/&惊恐#/]","[/&不敢看#/]","[/&发呆#/]","[/&睡觉#/]","[/&恶魔#/]","[/&不#/]","[/&高兴#/]","[/&握拳#/]","[/&布#/]","[/&手势#/]","[/&爱心#/]","[/&秘密#/]","[/&中国#/]","[/&德国#/]","[/&西班牙#/]","[/&法国#/]","[/&英国#/]","[/&意大利#/]","[/&日本#/]","[/&韩国#/]","[/&俄罗斯#/]","[/&美国#/]","[/&衰#/]","[/&阳光#/]","[/&面#/]","[/&礼物#/]","[/&蛋糕#/]","[/&游泳#/]","[/&上#/]","[/&下#/]","[/&左#/]","[/&右#/]","[/&拳头#/]","[/&挥手#/]","[/&OK#/]","[/&棒#/]","[/&差#/]","[/&鼓掌#/]","[/&手影#/]","[/&头冠#/]","[/&天使#/]","[/&外星人#/]","[/&骷髅#/]","[/&服务员#/]","[/&打针#/]","[/&药#/]","[/&戒指#/]","[/&钻石#/]","[/&心碎#/]","[/&强壮#/]","[/&蒙眼#/]","[/&捂耳朵#/]","[/&捂嘴巴#/]","[/&举手#/]","[/&保佑#/]","[/&男士#/]","[/&女士#/]","[/&卫生间#/]"],xe={path:"../../static/emoji/",map:(S={"[/&哈哈#/]":"1.png","[/&戴口罩#/]":"2.png","[/&呲牙#/]":"3.png","[/&大笑#/]":"4.png","[/&微笑#/]":"5.png","[/&开心#/]":"6.png","[/&紧张#/]":"7.png","[/&闭眼#/]":"8.png","[/&蒙圈#/]":"9.png","[/&眨眼#/]":"10.png","[/&害羞#/]":"11.png","[/&馋嘴#/]":"12.png","[/&思考#/]":"13.png","[/&喜欢#/]":"14.png","[/&得意#/]":"15.png","[/&假笑#/]":"16.png","[/&不高兴#/]":"17.png","[/&不开心#/]":"18.png","[/&鄙视#/]":"19.png"},ge()(S,"[/&紧张#/]","20.png"),ge()(S,"[/&困#/]","21.png"),ge()(S,"[/&不屑#/]","22.png"),ge()(S,"[/&困惑#/]","23.png"),ge()(S,"[/&嘟嘴#/]","24.png"),ge()(S,"[/&飞吻#/]","25.png"),ge()(S,"[/&亲嘴#/]","26.png"),ge()(S,"[/&爱你#/]","27.png"),ge()(S,"[/&调皮#/]","28.png"),ge()(S,"[/&鬼脸#/]","29.png"),ge()(S,"[/&失望#/]","30.png"),ge()(S,"[/&难过#/]","31.png"),ge()(S,"[/&生气#/]","32.png"),ge()(S,"[/&愤怒#/]","33.png"),ge()(S,"[/&哭泣#/]","34.png"),ge()(S,"[/&气愤#/]","35.png"),ge()(S,"[/&不明白#/]","36.png"),ge()(S,"[/&害怕#/]","37.png"),ge()(S,"[/&叹气#/]","38.png"),ge()(S,"[/&大哭#/]","39.png"),ge()(S,"[/&冷汗#/]","40.png"),ge()(S,"[/&惊恐#/]","41.png"),ge()(S,"[/&不敢看#/]","42.png"),ge()(S,"[/&发呆#/]","43.png"),ge()(S,"[/&睡觉#/]","44.png"),ge()(S,"[/&恶魔#/]","45.png"),ge()(S,"[/&不#/]","46.png"),ge()(S,"[/&高兴#/]","47.png"),ge()(S,"[/&握拳#/]","48.png"),ge()(S,"[/&布#/]","49.png"),ge()(S,"[/&手势#/]","50.png"),ge()(S,"[/&爱心#/]","51.png"),ge()(S,"[/&秘密#/]","52.png"),ge()(S,"[/&中国#/]","53.png"),ge()(S,"[/&德国#/]","54.png"),ge()(S,"[/&西班牙#/]","55.png"),ge()(S,"[/&法国#/]","56.png"),ge()(S,"[/&英国#/]","57.png"),ge()(S,"[/&意大利#/]","58.png"),ge()(S,"[/&日本#/]","59.png"),ge()(S,"[/&韩国#/]","60.png"),ge()(S,"[/&俄罗斯#/]","61.png"),ge()(S,"[/&美国#/]","62.png"),ge()(S,"[/&衰#/]","63.png"),ge()(S,"[/&阳光#/]","64.png"),ge()(S,"[/&面#/]","65.png"),ge()(S,"[/&礼物#/]","66.png"),ge()(S,"[/&蛋糕#/]","67.png"),ge()(S,"[/&游泳#/]","68.png"),ge()(S,"[/&上#/]","69.png"),ge()(S,"[/&下#/]","70.png"),ge()(S,"[/&左#/]","71.png"),ge()(S,"[/&右#/]","72.png"),ge()(S,"[/&拳头#/]","73.png"),ge()(S,"[/&挥手#/]","74.png"),ge()(S,"[/&OK#/]","75.png"),ge()(S,"[/&棒#/]","76.png"),ge()(S,"[/&差#/]","77.png"),ge()(S,"[/&鼓掌#/]","78.png"),ge()(S,"[/&手影#/]","79.png"),ge()(S,"[/&头冠#/]","80.png"),ge()(S,"[/&天使#/]","81.png"),ge()(S,"[/&外星人#/]","82.png"),ge()(S,"[/&骷髅#/]","83.png"),ge()(S,"[/&服务员#/]","84.png"),ge()(S,"[/&打针#/]","85.png"),ge()(S,"[/&药#/]","86.png"),ge()(S,"[/&戒指#/]","87.png"),ge()(S,"[/&钻石#/]","88.png"),ge()(S,"[/&心碎#/]","89.png"),ge()(S,"[/&强壮#/]","90.png"),ge()(S,"[/&蒙眼#/]","91.png"),ge()(S,"[/&捂耳朵#/]","92.png"),ge()(S,"[/&捂嘴巴#/]","93.png"),ge()(S,"[/&举手#/]","94.png"),ge()(S,"[/&保佑#/]","95.png"),ge()(S,"[/&男士#/]","96.png"),ge()(S,"[/&女士#/]","97.png"),ge()(S,"[/&卫生间#/]","98.png"),S)},ke=s("0xDb"),_e={config:s("a0IG"),sdk:s("wdEl")},Se=s("Zt3A"),Te=s("gHSG"),Me={name:"ChatBox",props:["data"],data:function(){return{receiver:"",sender:"",showMenuModal:!1,ruleInline:{user:[{required:!0,message:"Please fill in the user name",trigger:"blur"}],password:[{required:!0,message:"Please fill in the password.",trigger:"blur"},{type:"string",min:6,message:"The password length cannot be less than 6 bits",trigger:"blur"}],to:[{required:!0,message:"Please fill in the receiver.",trigger:"blur"},{type:"string",min:6,message:"The receiver length cannot be less than 6 bits",trigger:"blur"}]},formInline:{user:"",password:"",to:""},chatType:"chat",msgType:"text",connected:!1,connection:null,curMsgId:"",chatLog:[],imgLoading:"../../../static/i/home/1.gif",maxSize:1024,FALSE:!1,uploadProps:{},minus:!1,zxLogo:"../../../static/i/home/1.jpg",title:"",output:"",input:"",emojiList:[],emojiModal:!1}},methods:{manualConnetc:function(){this.connection=null,this.connection=new Se.Strophe.Connection(_e.config.BOSH_SERVICE),this.receiver=this.title=this.formInline.to,this.sender=this.formInline.user,this.connection.connect(this.formInline.user,this.formInline.password,this.onListen)},showMenu:function(){this.showMenuModal=!this.showMenuModal,this.formInline.user=_e.config.acAccount,this.formInline.password=_e.config.acPwd,this.formInline.to=_e.config.acCusAccount},uploadErr:function(e,t,a){console.log("uploadErr error:%o, file:%o, fileList:%o",e,t,a);var n=this;"500"==e.status&&(n.$Message.warning(e.message),console.log(),n.chatLog.map(function(e,t){e.msgId==n.curMsgId&&(e.content=s("0FOk"))}))},uploadSucc:function(e,t,s){var a=this;"0"==e.code?(a.chatLog.map(function(t,s){t.msgId==a.curMsgId&&(t.content=e.resultData)}),a.sendIM(e.resultData,"chat","img")):"100008"==e.code?a.$router.push({path:"/login"}):a.$Message.warning(e.message)},beforeUpload:function(e){console.log("beforeUpload file:%o",e)},progress:function(e,t,s){var a=this.wrapperLocalMsg(this.imgLoading,"img","send");this.chatLog.push(a),this.$nextTick(function(){var e=document.getElementById("output");this.bottomScroll(e)}),console.log("progress event:%o, file:%o, fileList:%o",e,t,s)},uploadImg:function(){console.log("uploadImg")},onListen:function(e){e==Se.Strophe.Status.CONNFAIL?console.log("连接失败！"):e==Se.Strophe.Status.AUTHFAIL?console.log("登录失败！"):e==Se.Strophe.Status.DISCONNECTED?(console.log("连接断开！"),this.connected=!1):e==Se.Strophe.Status.CONNECTED&&(console.log("连接成功！"),this.showMenuModal=!1,this.connected=!0,this.connection.addHandler(this.onMessage,null,"message",null,null,null),this.connection.send($pres().tree()))},onMessage:function(e){console.log("onMessage",e);this.receiver=e.getAttribute("from");var t=e.getAttribute("type"),a=e.getElementsByTagName("body"),n=e.getElementsByTagName("mobilePeidou")[0].getElementsByTagName("mobileChat"),o=n[0].getAttribute("content"),r=n[0].getAttribute("msgType");if(o){if("received"==t)return!0;if("chat"==t&&a.length>0){Object(ke.formatDate)(new Date,"yyyy-MM-dd HH:mm:ss"),s("jktY");var i=this.wrapperLocalMsg(o,r,"receive");this.chatLog.push(i)}}else console.log("onMessage-6")},bottomScroll:function(e){e&&(e.scrollTop=e.scrollHeight+500)},wrapperLocalMsg:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"send";return this.curMsgId=Object(ke.generateId)(6),{msgId:this.curMsgId,type:s,msgType:t,timeStamp:Object(ke.formatDate)(new Date,"yyyy-MM-dd HH:mm:ss"),from:"send"==s?this.sender:this.receiver,content:e,logo:"../../../static/i/home/1.jpg"}},sendIM:function(){var e=this;if(e.connected){this.sender=this.formInline.user;var t=$msg({to:this.receiver,from:this.sender,type:e.chatType,xmlns:"peidou",msgId:Object(ke.generateId)(6)}).c("body",null,"chat-msg").c("mobilePeidou",null).c("mobileChat",{msgtype:e.msgType,content:ke.Base64.encode(e.input)},"");if(e.connection.send(t.tree()),"img"!=e.msgType){e.input=e.parseEmoji(e.input);var s=e.wrapperLocalMsg(e.input,e.msgType,"send");e.chatLog.push(s)}setTimeout(function(){var t=document.getElementById("output");e.bottomScroll(t)},200)}else this.$Message.warning("sendIM -> 请先登录!")},autoConnect:function(){this.connected||(this.connection=new Se.Strophe.Connection(_e.config.BOSH_SERVICE),_e.config.jid=_e.config.acAccount,this.title=_e.config.acCusAccount,this.connection.connect(_e.config.acAccount,_e.config.acPwd,this.onListen))},maximize:function(){this.minus&&(this.minus=!this.minus)},minimize:function(){this.minus=!0},send:function(){""!=Object(ke.trim)(this.input)&&(this.sendIM(),this.input="")},inputChange:function(){},parseEmoji:function(e){for(var t in xe.map)if(xe.map.hasOwnProperty(t))for(;e.indexOf(t)>-1;){var s=xe.path+xe.map[t];e=e.replace(t,'<img class="emoji" src="'+s+'" />')}return e},evtProxy:function(e){"emoji-list ivu-row"!=e.target.className&&"emoji-pop"!=e.target.className&&"I"!=e.target.nodeName&&"IMG"!=e.target.nodeName&&(this.emojiModal=!1)},showEmoji:function(){this.emojiModal=!this.emojiModal},getEmojiList:function(){this.emojiList.splice(0,this.emojiList.length);for(var e=1;e<98;e++){var t={src:"../../../static/emoji/"+e+".png",id:e,text:Ae[e-1]};this.emojiList.push(t)}},getEmoji:function(e){this.input+=e.text}},mounted:function(){this.getEmojiList()}},Ne={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Row",{staticClass:"wrapper"},[s("Row",{class:{"chat-box":!0,"minite-box":e.minus},nativeOn:{click:function(t){return e.evtProxy(t)}}},[s("Row",{staticClass:"header",nativeOn:{click:function(t){return e.maximize(t)}}},[s("Row",{staticClass:"logo",nativeOn:{click:function(t){return t.ctrlKey?e.showMenu(t):null}}},[s("Icon",{staticClass:"zxlogo",attrs:{type:"social-whatsapp-outline",size:"40"}}),e._v(" "),s("Modal",{attrs:{title:"xmpp登录"},model:{value:e.showMenuModal,callback:function(t){e.showMenuModal=t},expression:"showMenuModal"}},[s("Form",{ref:"formInline",attrs:{model:e.formInline,rules:e.ruleInline,inline:"","label-width":120}},[s("FormItem",{attrs:{prop:"user",label:"From"}},[s("Input",{attrs:{type:"text",placeholder:"Username"},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}},[s("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),e._v(" "),s("FormItem",{attrs:{prop:"password",label:"Password"}},[s("Input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.formInline.password,callback:function(t){e.$set(e.formInline,"password",t)},expression:"formInline.password"}},[s("Icon",{attrs:{slot:"prepend",type:"ios-locked-outline"},slot:"prepend"})],1)],1),e._v(" "),s("FormItem",{attrs:{prop:"to",label:"To"}},[s("Input",{attrs:{type:"text",placeholder:"To"},model:{value:e.formInline.to,callback:function(t){e.$set(e.formInline,"to",t)},expression:"formInline.to"}},[s("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1)],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"primary",size:"large"},on:{click:e.manualConnetc}},[e._v("确定")])],1)],1)],1),e._v(" "),s("section",{staticClass:"title",attrs:{title:e.title}},[e._v(e._s(e.title))]),e._v(" "),s("section",{staticClass:"btns"},[s("Icon",{directives:[{name:"show",rawName:"v-show",value:!e.minus,expression:"!minus"}],staticClass:"cursor",attrs:{type:"minus",size:"16"},nativeOn:{click:function(t){return t.stopPropagation(),e.minimize(t)}}})],1)],1),e._v(" "),s("div",{staticClass:"content"},[s("Row",{staticClass:"output",attrs:{id:"output"}},e._l(e.chatLog,function(t,a){return s("Row",{key:a,staticClass:"msg-box"},[s("section",{class:t.type+"-time on-send"},[e._v("["+e._s(t.timeStamp)+"] "+e._s(t.from))]),e._v(" "),s("section",{class:t.type+"-msg"},[s("section",{staticClass:"logo"},[s("img",{attrs:{src:t.logo}})]),e._v(" "),s("section",{staticClass:"ivu-poptip-popper",staticStyle:{"will-change":"top, left"},attrs:{"x-placement":"send"==t.type?"left-start":"right-start"}},[s("section",{staticClass:"ivu-poptip-content"},[s("section",{staticClass:"ivu-poptip-arrow"}),e._v(" "),s("section",{staticClass:"ivu-poptip-inner"},[s("section",{staticClass:"ivu-poptip-body"},[s("section",{staticClass:"ivu-poptip-body-content"},[s("section",{staticClass:"ivu-poptip-body-content-inner"},["img"==t.msgType?s("img",{attrs:{src:t.content}}):s("Row",{domProps:{innerHTML:e._s(t.content)}})],1)])])])])]),e._v(" "),s("section",{staticClass:"clear"})])])})),e._v(" "),s("Row",{staticClass:"input"},[s("Row",{staticClass:"input-btn"},[s("section",{staticClass:"btn-item"},[s("Icon",{staticClass:"cursor",attrs:{type:"happy-outline",size:"16"},nativeOn:{click:function(t){return e.showEmoji(t)}}}),e._v(" "),s("section",{directives:[{name:"show",rawName:"v-show",value:e.emojiModal,expression:"emojiModal"}],staticClass:"emoji-pop"},[s("Row",{staticClass:"emoji-list"},e._l(e.emojiList,function(t,a){return s("button",{key:a,staticClass:"emoji-btn",on:{click:function(s){e.getEmoji(t)}}},[s("img",{staticClass:"emoji",attrs:{src:t.src}})])}))],1)],1),e._v(" "),s("section",{staticClass:"btn-item"},[s("Upload",{attrs:{action:"/sys/tenant/uploadTenantImg","show-upload-list":e.FALSE,"on-success":e.uploadSucc,"on-error":e.uploadErr,"before-upload":e.beforeUpload,"on-progress":e.progress,accept:"jpg,jpeg,png",format:["jpg","jpeg","png"],"max-size":e.maxSize}},[s("Icon",{staticClass:"cursor",attrs:{type:"ios-folder-outline",size:"16"},nativeOn:{click:function(t){return e.uploadImg(t)}}})],1)],1)]),e._v(" "),s("Row",{staticClass:"input-wrapper"},[s("Input",{staticClass:"input-area",attrs:{type:"textarea",placeholder:"请输入...",autosize:{minRows:2,maxRows:28}},on:{oninput:e.inputChange},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.send(t):null}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),e._v(" "),s("Row",{staticClass:"submit-btn"},[s("Button",{attrs:{type:"primary"},on:{click:e.send}},[e._v("发送")])],1)],1)],1),e._v(" "),s("div",{staticClass:"footer"})],1)],1)},staticRenderFns:[]};var Re=s("VU/8")(Me,Ne,!1,function(e){s("fhr5"),s("pA4l")},"data-v-af855512",null).exports,Fe={name:"login",components:{ChatBox:Re},computed:{allSensitiveWords:{get:function(){return this.$store.state.allSensitiveWords},set:function(e){this.$store.dispatch("setAllSensitiveWords",e)}},servedTenant:{get:function(){return this.$store.state.servedTenant},set:function(e){this.$store.dispatch("setServedTenant",e)}},userId:{get:function(){return this.$store.state.userId},set:function(e){this.$store.dispatch("setUserId",e)}},menu:{get:function(){return this.$store.state.menu},set:function(e){this.$store.dispatch("setMenu",e)}},remember:{get:function(){return this.$store.state.remember},set:function(e){this.$store.dispatch("setRemember",e)}},un:function(){return this.$store.state.userName},pd:function(){return this.$store.state.password}},data:function(){return{worker:null,validPic:"",loginForm:{userName:"",curPwd:"",validCode:""},ruleValidate:{userName:[{required:!0,message:"请输入商家账号",trigger:"blur"}],curPwd:[{required:!0,message:"请输入登录密码",trigger:"blur"}],validCode:[{required:!0,message:"请输入验证码",trigger:"blur"}]}}},methods:{runWebWork:function(){var e=this,t=this;this.worker=this.$worker.run(function(e){e&&e()},[t.querySensitiveWordListForPage()]).then(function(e){console.log(t.allSensitiveWords)}).catch(function(t){e.worker=null})},querySensitiveWordListForPage:function(){var e=this,t={data:{},headers:ve.urlencoded};me.querySensitiveWordListForPage(t).then(function(t){if("0"==t.code)var s=t.resultData.list.map(function(t,a){s=t.sensitiveWord,e.allSensitiveWords.push(s)});else e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},getServedTenant:function(){var e=this,t={headers:ve.json};j(t).then(function(t){"0"==t.code?(e.servedTenant=t.resultData,e.$router.push({name:"KFPlatform"})):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},login:function(){var e={data:{username:this.loginForm.userName,userpsw:this.loginForm.curPwd}};O(e).then(function(e){})},setCookie:function(e,t,s){var a=new Date;a.setTime(a.getTime()+864e5*s),window.document.cookie="userAccount="+e+";path=/;expires="+a.toGMTString(),window.document.cookie="curPwd="+t+";path=/;expires="+a.toGMTString()},getCookie:function(){if(document.cookie.length>0)for(var e=document.cookie.split("; "),t=2;t<e.length;t++){var s=e[t].split("=");"userName"==s[0]?this.username=s[1]:"curPwd"==s[1]&&(this.curPwd=s[1])}},clearCookie:function(){this.setCookie("","",-1)},getValidCode:function(){var e=this,t={headers:ve.json};$(t).then(function(t){"0"==t.code?e.validPic="data:image/png;base64,"+t.resultData:e.$Message.error(t.message||t.resultData)},function(t){e.$Message.error(t)})}},mounted:function(){this.loginForm.userName=this.un,this.loginForm.curPwd=this.pd,this.getValidCode(),this.getCookie(),this.allSensitiveWords=[]}},Be={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("Form",{ref:"formValidate",attrs:{model:e.loginForm,rules:e.ruleValidate}},[s("Row",{staticClass:"login-layout",attrs:{type:"flex",justify:"center",align:"middle"}},[s("Row",{staticClass:"login-box"},[s("Row",{staticClass:"title"},[e._v("胚豆运营管理平台")]),e._v(" "),s("Row",{staticClass:"login-account"},[s("Form-item",{attrs:{prop:"userName"}},[s("Input",{attrs:{placeholder:"请输入商家账号"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.login(t):null}},model:{value:e.loginForm.userName,callback:function(t){e.$set(e.loginForm,"userName",t)},expression:"loginForm.userName"}})],1)],1),e._v(" "),s("Row",{staticClass:"login-pwd"},[s("Form-item",{attrs:{prop:"curPwd"}},[s("Input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.login(t):null}},model:{value:e.loginForm.curPwd,callback:function(t){e.$set(e.loginForm,"curPwd",t)},expression:"loginForm.curPwd"}})],1)],1),e._v(" "),s("Row",{staticClass:"valid-code"},[s("Col",{attrs:{span:"12"}},[s("Form-item",{attrs:{prop:"validCode"}},[s("Input",{attrs:{placeholder:"请输入验证码"},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.login(t):null}},model:{value:e.loginForm.validCode,callback:function(t){e.$set(e.loginForm,"validCode",t)},expression:"loginForm.validCode"}})],1)],1),e._v(" "),s("Col",{staticClass:"valid-pic",attrs:{span:"12"},nativeOn:{click:function(t){return e.getValidCode(t)}}},[s("img",{attrs:{src:e.validPic}})])],1),e._v(" "),s("Row",{staticClass:"remmber-pwd"},[s("Checkbox",{model:{value:e.remember,callback:function(t){e.remember=t},expression:"remember"}},[e._v("记住密码")])],1),e._v(" "),s("Row",{staticClass:"login-btn"},[s("Button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var je=s("VU/8")(Fe,Be,!1,function(e){s("SgoW")},null,null).exports,$e={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"remote-login"})},staticRenderFns:[]};var Oe=s("VU/8")({name:"RemoteLogin",data:function(){return{}},computed:{remoteToken:function(){return this.$store.state.remoteToken},menu:{get:function(){return this.$store.state.menu},set:function(e){this.$store.dispatch("setMenu",e)}}},mounted:function(){var e="";this.menu.topNav.map(function(t,s){0==s&&(e=t.menuAddress)}),this.$route.query.access_token&&this.remoteToken==this.$route.query.access_token?this.$router.push({path:e}):this.$router.push({path:"/errorpage",query:{redirect:"login",msg:"invalid token",type:"error"}})}},$e,!1,function(e){s("gjCx")},null,null).exports,De={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"error-page"},[this._v("\n    "+this._s(this.message)+"\n")])},staticRenderFns:[]};var Pe,Le=s("VU/8")({name:"ErrorPage",data:function(){return{message:""}},mounted:function(){var e=this.$route.query.type;this.message="warning"==e?"warning message:":"error message:",this.message+=this.$route.query.msg}},De,!1,function(e){s("EEjf")},null,null).exports,Ee=s("gHSG"),qe=function(e){return e.headers&&"application/x-www-form-urlencoded"==e.headers["Content-Type"]&&(e.data=k.a.stringify(e.data)),new h.a(function(t,s){_(e).then(function(e){"200"!=e.status&&"304"!=e.status||t(e.data)},function(e){s(e)})})},He={url:"/busi/cs/commonmsg/query",type:"post"},Ue={url:"/busi/cs/commonmsg/add",type:"post"},We={url:"/busi/blackcustomer/add",type:"post"},Ve={url:"/busi/blackcustomer/del",type:"post"},ze={url:"/busi/cs/commonmsg/update",type:"post"},Ge={url:"/busi/userinfo/modifyTag",type:"post"},Ke={url:"/busi/skillgroup/personcount",type:"post"},Qe={url:"/busi/skillGroup/addSkillGroupByTenant",type:"post"},Je={url:"/busi/cs/commonmsg/del",type:"post"},Xe={url:"/busi/cs/session/querySessionByUser",type:"post"},Ze={url:"/busi/cs/session/queryHxAccountByUser",type:"post"},Ye={url:"/busi/cs/session/queryWorkMateByUser",type:"post"},et={url:"/busi/cs/waitSession/addTransferSession",type:"post"},tt={url:"/busi/csmanagement/queryCsUserByTenantId",type:"post"},st={url:"/busi/skillGroup/querySkillGroupByTenant",type:"post"},at={url:"/busi/csmanagement/queryCsMemberForPage",type:"post"},nt={url:"/busi/csmanagement/queryCsSeatByTenantIdForPage",type:"post"},ot={url:"/busi/csmanagement/addSeatInfo",type:"post"},rt={url:"/busi/csmanagement/addCsSeatByTenantId",type:"post"},it={url:"/sys/role/queryTenantRoleForList",type:"post"},ct={url:"/busi/cs/waitSession/checkTransferObjIsOnline",type:"post"},lt={url:"/sys/csCenter/queryTenantForCenter",type:"post"},ut={url:"/busi/csmanagement/querySeatIdByUserId",type:"post"},dt={url:"/busi/csmanagement/queryTenantSeatByUserIdForPage",type:"post"},mt={url:"/busi/csmanagement/updateCsSeatBySeatId",type:"post"},pt={url:"/busi/cs/session/selectSysUserServeTenantInfo",type:"post"},ft={url:"/busi/cs/waitSession/queryWaitSessionForPage",type:"post"},ht={url:"/busi/cs/session/updateHxStatusByAccount",type:"post"},gt={url:"/busi/cs/waitSession/updateJoinSession",type:"post"},vt={url:"/busi/cs/waitSession/updateRefuseSession",type:"post"},yt={url:"/sys/dict/queryPrivateTagByTenant",type:"post"},bt={url:"/sys/tenant/queryTenantByPermi",type:"post"},Ct={url:"/busi/seat/querySeatsByTenantId",type:"post"},wt={url:"/busi/skillGroup/addSeatGroupByTenant",type:"post"},It={url:"/busi/cs/session/sendSessionEvaluateMsg",type:"post"},At={url:"/busi/cs/session/endSessionHandle",type:"post"},xt={url:"/busi/cs/session/queryChatMsgBySession",type:"post"},kt={url:"/sys/user/updateUserPwd",type:"post"},_t={url:"/busi/historySession/queryHistroySession",type:"post"},St={url:"/busi/historySession/callBackSession",type:"post"},Tt={url:"/busi/blackcustomer/queryCustomerInfoByAccount",type:"post"},Mt={url:"/busi/blackcustomer/updateCustomerInfoByAccount",type:"post"},Nt={url:"/busi/cs/session/updateSeatMaxWaitNum",type:"post"},Rt={url:"/busi/cs/session/querySeatMaxWaitNum",type:"post"},Ft={url:"http://a1.easemob.com/1150181010228220/"+Ee.production.appName+"/token",type:"post",hasProxy:!0},Bt={url:"http://a1.easemob.com/1150181010228220/"+Ee.production.appName+"/users/:username/status",type:"get",hasProxy:!0},jt={url:"https://a1.easemob.com/1150181010228220/"+Ee.production.appName+"/user/:username/resources",type:"get",hasProxy:!0},$t=(Pe={getHxAdminToken:function(e){return e.urlObj=Ft,qe(e)},getHxDevice:function(e){return e.urlObj=jt,qe(e)},getHxStatus:function(e){return e.urlObj=Bt,qe(e)},updateSeatMaxWaitNum:function(e){return e.urlObj=Nt,qe(e)},querySeatMaxWaitNum:function(e){return e.urlObj=Rt,qe(e)},updateCustomerInfoByAccount:function(e){return e.urlObj=Mt,qe(e)},queryCustomerInfoByAccount:function(e){return e.urlObj=Tt,qe(e)},reCall:function(e){return e.urlObj=St,qe(e)},queryHistory:function(e){return e.urlObj=_t,qe(e)},modifyPwd:function(e){return e.urlObj=kt,qe(e)},queryChatMsgBySession:function(e){return e.urlObj=xt,qe(e)},endSessionHandle:function(e){return e.urlObj=At,qe(e)},sendSessionEvaluateMsg:function(e){return e.urlObj=It,qe(e)},addSeatGroupByTenant:function(e){return e.urlObj=wt,qe(e)},querySeatsByTenantId:function(e){return e.urlObj=Ct,qe(e)},queryTenantByPermi:function(e){return e.urlObj=bt,qe(e)},queryPrivateTagByTenant:function(e){return e.urlObj=yt,qe(e)},updateRefuseSession:function(e){return e.urlObj=vt,qe(e)},updateJoinSession:function(e){return e.urlObj=gt,qe(e)},updateHxStatusByAccount:function(e){return e.urlObj=ht,qe(e)},queryWaitSessionForPage:function(e){return e.urlObj=ft,qe(e)},getServedTenant:function(e){return e.urlObj=pt,qe(e)},updateCsSeatBySeatId:function(e){return e.urlObj=mt,qe(e)},queryTenantSeatByUserIdForPage:function(e){return e.urlObj=dt,qe(e)},querySeatIdByUserId:function(e){return e.urlObj=ut,qe(e)},queryTenantForCenter:function(e){return e.urlObj=lt,qe(e)},cTOIsOnline:function(e){return e.urlObj=ct,qe(e)},queryTenantRoleForList:function(e){return e.urlObj=it,qe(e)},addCsSeatByTenantId:function(e){return e.urlObj=rt,qe(e)},addSeatInfo:function(e){return e.urlObj=ot,qe(e)},queryCsSeatByTenantIdForPage:function(e){return e.urlObj=nt,qe(e)},queryCsMemberForPage:function(e){return e.urlObj=at,qe(e)},querySkillGroup:function(e){return e.urlObj=st,qe(e)},queryCsUser:function(e){return e.urlObj=tt,qe(e)},addTransferSession:function(e){return e.urlObj=et,qe(e)},getWorkMateByUser:function(e){return e.urlObj=Ye,qe(e)},getHxAccount:function(e){return e.urlObj=Ze,qe(e)},getSessionByUser:function(e){return e.urlObj=Xe,qe(e)},delPhrase:function(e){return e.urlObj=Je,qe(e)},addKfgroup:function(e){return e.urlObj=Qe,qe(e)},getKfGroup:function(e){return e.urlObj=Ke,qe(e)}},ge()(Pe,"getServedTenant",function(e){return e.urlObj=pt,qe(e)}),ge()(Pe,"delBlack",function(e){return e.urlObj=Ve,qe(e)}),ge()(Pe,"modifyTag",function(e){return e.urlObj=Ge,qe(e)}),ge()(Pe,"addBlack",function(e){return e.urlObj=We,qe(e)}),ge()(Pe,"queryPhrase",function(e){return e.urlObj=He,qe(e)}),ge()(Pe,"addPhrase",function(e){return e.urlObj=Ue,qe(e)}),ge()(Pe,"editPhrase",function(e){return e.urlObj=ze,qe(e)}),Pe),Ot={name:"Index",data:function(){return{showMask:!1,srcPwd:"",rePwd:"",reRePwd:"",pwdModal:!1,curTopNav:{menuCode:"",index:0},curSubMenus:[],curSubMenuAddress:"",topNav:[],subMenus:[]}},computed:{menu:{get:function(){return this.$store.state.menu},set:function(e){this.$store.dispatch("setMenu",e)}},userLogo:function(){return this.$store.state.userLogo},userName:{get:function(){return this.$store.state.userName},set:function(e){this.$store.dispatch("setUserName",e)}},password:{get:function(){return this.$store.state.password},set:function(e){this.$store.dispatch("setPassword",e)}},remember:{get:function(){return this.$store.state.remember},set:function(e){this.$store.dispatch("setRemember",e)}}},methods:{resetPwd:function(){var e=this,t=this,s=fe.a.createHash("md5"),a={data:{userAccount:t.userName,userPwd:s.update(t.rePwd).digest("hex")},headers:ve.json};$t.modifyPwd(a).then(function(s){"0"==s.code?(t.$Message.info("修改密码成功,2秒后跳转登录"),setTimeout(function(){t.$router.push({path:"/login"})},2e3)):e.$Message.warning(s.message)},function(t){e.$Message.error(t)})},modifyPwd:function(e){if("popup"==e)this.pwdModal=!0;else{if(!/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/.test(this.rePwd))return this.$Message.warning("请输入修改后密码（6-16位数字或字母）"),!1;if(this.rePwd!=this.reRePwd)return this.$Message.warning("密码和确认密码不一致"),!1;this.resetPwd()}},logout:function(){this.remember||(this.userName="",this.password=""),this.$router.push({path:"/login"})},selected:function(e,t,s){this.curTopNav.menuCode=e,this.curTopNav.index=s,this.curSubMenus=this.subMenus.filter(function(t){return t.parentCode==e}),this.curSubMenuAddress=this.curSubMenus[0].menuAddress,this.$router.push({path:t})},goto:function(e,t){this.curSubMenuAddress=e,this.$router.push({path:e})}},mounted:function(){var e=this;this.topNav=this.menu.topNav,this.subMenus=this.menu.subMenus;var t=this.$route.path;this.curSubMenuAddress=t;var s=!1;this.topNav.map(function(a,n){t.indexOf(a.menuAddress)>-1&&(e.curSubMenus=e.subMenus.filter(function(e){return e.parentCode==a.menuCode}),e.curTopNav.index=n,s=!0)}),s||this.topNav.map(function(t,s){0==s&&(e.curSubMenus=e.subMenus.filter(function(e){return e.parentCode==t.menuCode}),e.curTopNav.index=s,e.selected(t.menuCode,t.menuAddress,s))})}},Dt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"layout"},[s("Layout",[s("Header",[s("Menu",{attrs:{mode:"horizontal",theme:"dark","active-name":"1"}},[s("div",{staticClass:"layout-logo"},[s("div",{staticClass:"logo"})]),e._v(" "),s("div",{staticClass:"layout-nav"},e._l(e.topNav,function(t,a){return s("MenuItem",{key:a,class:{"ivu-menu-item-active ivu-menu-item-selected":e.curTopNav.index==a},attrs:{name:a+1},nativeOn:{click:function(s){e.selected(t.menuCode,t.menuAddress,a)}}},[s("Icon",{attrs:{type:t.icon}}),e._v("\n                        "+e._s(t.menuName)+"\n                    ")],1)})),e._v(" "),s("div",{staticClass:"login-info"},[s("Tooltip",{attrs:{placement:"bottom"}},[s("Row",{staticClass:"palcemaent"},[e.userLogo?s("img",{staticStyle:{width:"32px",height:"32px","vertical-align":"middle","margin-right":"10px","border-radius":"50%"},attrs:{src:e.userLogo}}):s("Avatar",{staticStyle:{"background-color":"#87d068"},attrs:{icon:"person"}}),e._v(" "),s("span",{staticClass:"user-name"},[e._v(e._s(e.userName))])],1),e._v(" "),s("div",{attrs:{slot:"content"},slot:"content"},[s("Row",{staticClass:"account-info modify",nativeOn:{click:function(t){e.modifyPwd("popup")}}},[e._v("修改密码")]),e._v(" "),s("Modal",{attrs:{title:"修改密码"},model:{value:e.pwdModal,callback:function(t){e.pwdModal=t},expression:"pwdModal"}},[s("Row",{staticClass:"pwd-input"},[s("Input",{attrs:{type:"password",placeholder:"输入原密码"},model:{value:e.srcPwd,callback:function(t){e.srcPwd=t},expression:"srcPwd"}})],1),e._v(" "),s("Row",{staticClass:"pwd-input"},[s("Input",{attrs:{type:"password",placeholder:"输入修改后密码（6-16位数字或字母）"},model:{value:e.rePwd,callback:function(t){e.rePwd=t},expression:"rePwd"}})],1),e._v(" "),s("Row",{staticClass:"pwd-input"},[s("Input",{attrs:{type:"password",placeholder:"再次输入修改后密码"},model:{value:e.reRePwd,callback:function(t){e.reRePwd=t},expression:"reRePwd"}})],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"primary"},on:{click:function(t){e.modifyPwd("save")}}},[e._v("修改密码")])],1)],1),e._v(" "),s("Row",{staticClass:"account-info",nativeOn:{click:function(t){return e.logout(t)}}},[e._v("退出账户")])],1)],1)],1)])],1),e._v(" "),s("Layout",[s("Sider",{style:{background:"#fff",width:"300px",maxWidth:"300px",minWidth:"300px"},attrs:{"hide-trigger":""}},[s("Menu",{staticClass:"slide-menu",attrs:{"active-name":"1-2",theme:"light",width:"auto","open-names":["1"]}},e._l(e.curSubMenus,function(t,a){return s("Submenu",{key:a,staticClass:"submenu",attrs:{name:"1"}},[t.children&&t.children.length>0?[s("template",{slot:"title"},[s("Icon",{attrs:{type:t.icon}}),e._v("\n                                "+e._s(t.name)+"\n                            ")],1),e._v(" "),e._l(t.children,function(a,n){return s("MenuItem",{key:n,class:{"ivu-menu-item-active ivu-menu-item-selected":e.curSubMenuAddress==t.menuAddress},attrs:{name:a.name},nativeOn:{click:function(t){e.goto(a.menuAddress,n)}}},[e._v(e._s(a.name))])})]:[s("template",{slot:"title"},[s("span",{staticClass:"submenu-title",class:{"ivu-menu-item-active ivu-menu-item-selected":e.curSubMenuAddress==t.menuAddress},on:{click:function(s){e.goto(t.menuAddress,a)}}},[s("Icon",{attrs:{type:t.icon}}),e._v("\n                                    "+e._s(t.menuName)+"\n                                ")],1)])]],2)}))],1),e._v(" "),s("Layout",{style:{padding:"0 20px 24px"}},[s("Content",{style:{minHeight:"280px"}},[s("router-view")],1)],1)],1)],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.showMask,expression:"showMask"}],staticClass:"mask"})],1)},staticRenderFns:[]};var Pt=s("VU/8")(Ot,Dt,!1,function(e){s("4ayF"),s("DaNP")},"data-v-1bc5a76c",null).exports,Lt={name:"SessionLeft",props:["props"],computed:{curCustomerId:{get:function(){return this.$store.state.curCustomerId},set:function(e){this.$store.dispatch("setCurCustomerId",e)}},curCusHxAccount:{get:function(){return this.$store.state.curCusHxAccount},set:function(e){this.$store.dispatch("setCurCusHxAccount",e)}}},data:function(){return{isCurDept:-1,curKF:{index:5},curDealing:{index:5}}},methods:{selectDept:function(e){this.isCurDept=e.index,this.$emit("deptClick",e)},selectDealing:function(e){this.curDealing.index=e.dx,this.$emit("kfClick",o()({},e,{type:"dealing"}))},selectKF:function(e){this.curKF.index=e.dx,this.$emit("kfClick",o()({},e,{type:"workmate"}))},search:function(e,t){this.$emit("search",{searchText:e,type:t})},changeTab:function(e){this.$emit("changeTab",e)}}},Et={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Row",{staticClass:"session-left"},[s("Col",{staticStyle:{"min-height":"675px","border-right":"1px solid #e6eaf2"},attrs:{xs:1,sm:4,md:8,lg:12}},[s("Row",{staticClass:"depts-list"},[e._v("分组列表("+e._s(e.props.depts.length)+")")]),e._v(" "),e._l(e.props.depts,function(t,a){return s("Row",{key:a,staticClass:"dept",class:{selected:e.isCurDept==a},nativeOn:{click:function(s){e.selectDept({item:t,index:a})}}},[s("Col",{attrs:{span:"22"}},[s("div",{staticClass:"text"},[e._v(e._s(t.tenantName))])]),e._v(" "),s("Col",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{span:"2"}},[s("div",{staticClass:"circle"})])],1)})],2),e._v(" "),s("Col",{attrs:{xs:1,sm:4,md:8,lg:12}},[s("Tabs",{staticClass:"tabs",attrs:{value:"dealing"},on:{"on-click":e.changeTab}},[s("TabPane",{attrs:{label:"进行中",name:"dealing"}},[s("Row",{staticStyle:{margin:"0px 0px 0px 20px"}},[s("AutoComplete",{staticStyle:{"padding-right":"20px"},attrs:{icon:"ios-search",placeholder:"搜索名字、昵称"},on:{"on-change":function(t){e.search(e.props.searchKey,"dealing")}},model:{value:e.props.searchKey,callback:function(t){e.$set(e.props,"searchKey",t)},expression:"props.searchKey"}}),e._v(" "),s("Row",{style:{maxHeight:"545px","overflow-y":e.props.dealist.length>11?"scroll":"hidden",marginTop:"20px"}},e._l(e.props.dealist,function(t,a){return s("Row",{key:a,staticClass:"person",class:{selected:e.curDealing.index==a&&e.curCusHxAccount==t.hxAccount},nativeOn:{click:function(s){e.selectDealing({di:t,dx:a})}}},[s("Col",{staticStyle:{"text-align":"center",height:"48px","line-height":"48px"},attrs:{span:"6"}},[t.chatUserLogo?s("img",{staticStyle:{height:"32px","border-radius":"50%","margin-top":"8px"},attrs:{src:t.chatUserLogo}}):s("Avatar",{attrs:{icon:"person"}})],1),e._v(" "),s("Col",{attrs:{span:"18"}},[s("Row",[s("Col",{staticClass:"nickname",attrs:{span:"14",title:t.chatUserNickName||"用户"+t.chatUserId}},[e._v(e._s(t.chatUserNickName||"用户"+t.chatUserId))]),e._v(" "),s("Col",{staticClass:"lasttime",attrs:{span:"10"}},[e._v(e._s(t.startTime))])],1),e._v(" "),s("Row",{staticClass:"msg"},[e._v(e._s(t.sessionRemark))])],1)],1)}))],1)],1)],1)],1)],1)},staticRenderFns:[]};var qt=s("VU/8")(Lt,Et,!1,function(e){s("gvW7")},"data-v-5be032ed",null).exports,Ht={name:"Datum",props:["props"],computed:{curCustomerId:{get:function(){return this.$store.state.curCustomerId},set:function(e){this.$store.dispatch("setCurCustomerId",e)}},curCusHxAccount:{get:function(){return this.$store.state.curCusHxAccount},set:function(e){this.$store.dispatch("setCurCusHxAccount",e)}},currentTenantId:function(){return this.$store.state.userName},curTenantId:{get:function(){return this.$store.state.curTenantId},set:function(e){this.$store.dispatch("setCurTenantId",e)}}},methods:{markTags:function(e){var t=this,s=this;e.checked=!e.checked,e.checked?s.selectedTagList.push(e.dictValCode):s.selectedTagList.map(function(t,a){e.dictValCode==t&&s.selectedTagList.splice(a,1)});var a={data:{busiId:s.curCustomerId,customerTag:s.selectedTagList.length>0?s.selectedTagList.join("|"):""},headers:ve.json};$t.modifyTag(a).then(function(e){"0"==e.code?t.$Message.info("修改客户标签成功"):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})},save:function(){var e=this,t={data:o()({},this.props.Datum,{hxAccount:this.curCusHxAccount}),headers:ve.json};$t.updateCustomerInfoByAccount(t).then(function(t){"0"==t.code?(e.$Message.info("保存成功"),e.$emit("refreshSessionList")):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},addBlack:function(e){var t=this;if("popup"==e)this.blackModal=!0;else{var s={data:{customerId:this.curCustomerId,reason:this.reason,tenantId:this.curTenantId},headers:ve.json};$t.addBlack(s).then(function(e){"0"==e.code?(t.$Message.info("添加黑名单成功"),t.$emit("refreshSessionList")):t.$Message.info(e.message)},function(e){t.$Message.error(e)})}},delBlack:function(){var e=this,t={data:{customerId:this.curCustomerId,currentTenantId:this.curTenantId},headers:ve.json};$t.delBlack(t).then(function(t){"0"==t.code?e.$Message.info("删除黑名单成功"):e.$Message.info(t.message)},function(t){e.$Message.error(t)})}},data:function(){return{selectedTagList:[],checked:!1,reason:"",blackModal:!1,formItem:[]}}},Ut={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"datum"},[s("Form",{staticClass:"datum-form",attrs:{model:e.props.Datum}},[s("Row",{staticClass:"form-item"},[s("Col",{staticClass:"item-title",attrs:{span:"6"}},[e._v("昵称")]),e._v(" "),s("Col",{staticClass:"item-input",attrs:{span:"18"}},[s("Input",{model:{value:e.props.Datum.nickName,callback:function(t){e.$set(e.props.Datum,"nickName",t)},expression:"props.Datum.nickName"}})],1)],1),e._v(" "),s("Row",{staticClass:"form-item"},[s("Col",{staticClass:"item-title",attrs:{span:"6"}},[e._v("名字")]),e._v(" "),s("Col",{staticClass:"item-input",attrs:{span:"18"}},[s("Input",{model:{value:e.props.Datum.customerAccount,callback:function(t){e.$set(e.props.Datum,"customerAccount",t)},expression:"props.Datum.customerAccount"}})],1)],1),e._v(" "),s("Row",{staticClass:"form-item"},[s("Col",{staticClass:"item-title",attrs:{span:"6"}},[e._v("ID")]),e._v(" "),s("Col",{staticClass:"item-input",attrs:{span:"18"}},[s("Input",{attrs:{disabled:""},model:{value:e.props.Datum.busiId,callback:function(t){e.$set(e.props.Datum,"busiId",t)},expression:"props.Datum.busiId"}})],1)],1),e._v(" "),s("Row",{staticClass:"form-item"},[s("Col",{staticClass:"item-title",attrs:{span:"6"}},[e._v("手机")]),e._v(" "),s("Col",{staticClass:"item-input",attrs:{span:"18"}},[s("Input",{model:{value:e.props.Datum.customerPhone,callback:function(t){e.$set(e.props.Datum,"customerPhone",t)},expression:"props.Datum.customerPhone"}})],1)],1),e._v(" "),s("Row",{staticClass:"form-item"},[s("Col",{staticClass:"item-title",attrs:{span:"6"}},[e._v("QQ")]),e._v(" "),s("Col",{staticClass:"item-input",attrs:{span:"18"}},[s("Input",{model:{value:e.props.Datum.customerQq,callback:function(t){e.$set(e.props.Datum,"customerQq",t)},expression:"props.Datum.customerQq"}})],1)],1),e._v(" "),s("Row",{staticClass:"form-item"},[s("Col",{staticClass:"item-title",attrs:{span:"6"}},[e._v("微信号")]),e._v(" "),s("Col",{staticClass:"item-input",attrs:{span:"18"}},[s("Input",{model:{value:e.props.Datum.customerWechat,callback:function(t){e.$set(e.props.Datum,"customerWechat",t)},expression:"props.Datum.customerWechat"}})],1)],1),e._v(" "),s("Row",{staticClass:"form-item"},[s("Col",{staticClass:"item-title",attrs:{span:"6"}},[e._v("邮箱")]),e._v(" "),s("Col",{staticClass:"item-input",attrs:{span:"18"}},[s("Input",{model:{value:e.props.Datum.customerEmail,callback:function(t){e.$set(e.props.Datum,"customerEmail",t)},expression:"props.Datum.customerEmail"}})],1)],1),e._v(" "),s("Row",{staticClass:"form-item"},[s("Col",{staticClass:"item-title",attrs:{span:"6"}},[e._v("公司")]),e._v(" "),s("Col",{staticClass:"item-input",attrs:{span:"18"}},[s("Input",{model:{value:e.props.Datum.customerCompany,callback:function(t){e.$set(e.props.Datum,"customerCompany",t)},expression:"props.Datum.customerCompany"}})],1)],1),e._v(" "),s("Row",{staticClass:"form-item"},[s("Col",{staticClass:"item-title",attrs:{span:"6"}},[e._v("描述")]),e._v(" "),s("Col",{staticClass:"item-input",attrs:{span:"18"}},[s("Input",{attrs:{type:"textarea",row:4},model:{value:e.props.Datum.remark,callback:function(t){e.$set(e.props.Datum,"remark",t)},expression:"props.Datum.remark"}})],1)],1),e._v(" "),s("Row",{staticStyle:{"padding-right":"20px",margin:"10px 0px"},attrs:{type:"flex",justify:"end"}},[s("Button",{attrs:{type:"primary"},on:{click:e.save}},[e._v("保存")])],1),e._v(" "),s("Row",{staticClass:"add-black"},[s("Button",{staticStyle:{width:"100%"},attrs:{type:"ghost"},on:{click:function(t){e.addBlack("popup")}}},[e._v("加入黑名单")]),e._v(" "),s("Modal",{attrs:{title:"加入黑名单的原因"},on:{"on-ok":function(t){e.addBlack("save")}},model:{value:e.blackModal,callback:function(t){e.blackModal=t},expression:"blackModal"}},[s("Input",{attrs:{type:"textarea",rows:6},model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}})],1)],1)],1)],1)},staticRenderFns:[]};var Wt=s("VU/8")(Ht,Ut,!1,function(e){s("deUy")},null,null).exports,Vt=s("NYxO"),zt={data:function(){return{busiType:0,currentTenantId:"",commonMsgId:"",categoryName:"",action:"",phraseEdit:"",showModal:!1,modalTitle:"",value1:"",curDept:{index:5,name:""},phraseList:{person:[],subCategory:[{msgContent:"",commonMsgId:"",children:[]}]},deptList:[],modal8:!1,searchKey:""}},computed:{servedTenant:{get:function(){return this.$store.state.servedTenant},set:function(e){this.$store.dispatch("setServedTenant",e)}},curTenantId:{get:function(){return this.$store.state.curTenantId},set:function(e){this.$store.dispatch("setCurTenantId",e)}}},watch:{curTenantId:function(e,t){this.currentTenantId=e,this.queryPhrase()}},props:["ifEmbed"],methods:{sendMsg:function(e){this.$emit("sendCommPhrase",{msg:e})},selectDept:function(e,t){if(null==e||""==e||void 0==e)return!1;this.curDept.index=t,this.currentTenantId=e.sysId,this.queryPhrase()},changePanel:function(e,t){if(e&&("1"==e||"1-1"==e))return!1},addCategory:function(){this.showModal=!0,this.action="addCategory",this.modalTitle="添加子分类"},addPhrase:function(e,t){this.showModal=!0,this.action="add",this.modalTitle="添加常用语",this.categoryName="",""!=e&&null==e.parentId&&"0"==e.busiType?this.commonMsgId="":""!=e&&null==e.parentId&&"1"==e.busiType?this.commonMsgId=e.busId:""==e&&(this.commonMsgId=""),this.busiType="person"==t||"profession"==t?0:1},editPhrase:function(e,t){this.showModal=!0,this.action="edit",this.modalTitle="profession"==t?"编辑分类":"编辑常用语",this.commonMsgId=e.busId,this.phraseEdit=e.msgContent},delPhrase:function(e,t){this.showModal=!0,this.action="del",this.modalTitle="删除常用语",this.commonMsgId=e.busId},queryPhrase:function(e){var t=this,s={data:{currentTenantId:this.currentTenantId},headers:ve.json};$t.queryPhrase(s).then(function(e){if("0"==e.code){t.phraseList.person=e.resultData.filter(function(e){return"0"==e.busiType&&null==e.parentId}),t.phraseList.subCategory=e.resultData.filter(function(e){return"1"==e.busiType}),t.phraseList.subCategory.map(function(e){e.children=[]});var s=[];e.resultData.map(function(e,a){t.phraseList.subCategory.map(function(t,a){t.busId==e.parentId&&s.push(e)})}),t.phraseList.subCategory.map(function(e,t){s.map(function(t,s){t.parentId==e.busId&&e.children.push(t)})})}},function(e){t.$Message.error(e)})},ok:function(e){var t=this;if("edit"==e){if(""==this.phraseEdit)return this.$Message.warning("常用语或常用于类型不能为空"),!1;if(this.phraseEdit.length>50)return this.$Message.warning("最大长度不能超过50字符"),!1;var s={data:{msgContent:this.phraseEdit,commonMsgId:this.commonMsgId},headers:ve.json};$t.editPhrase(s).then(function(e){"0"==e.code?(t.queryPhrase(),t.phraseEdit="",t.$Message.info("编辑常用语成功")):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})}else if("add"==e){if(""==this.categoryNam)return this.$Message.warning("常用语或常用于类型不能为空"),!1;if(this.categoryName.length>50)return this.$Message.warning("最大长度不能超过50字符"),!1;var a={data:{currentTenantId:this.currentTenantId,msgContent:this.categoryName,busiType:this.busiType,parentId:this.commonMsgId},headers:ve.json};$t.addPhrase(a).then(function(e){"0"==e.code?(t.queryPhrase(),t.categoryName="",t.$Message.info("新增常用语成功")):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})}else if("del"==e){var n={data:{commonMsgId:this.commonMsgId},headers:ve.json};$t.delPhrase(n).then(function(e){"0"==e.code?(t.queryPhrase(),t.phraseEdit="",t.$Message.info("删除常用语成功")):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})}else if("addCategory"==e){var o={data:{currentTenantId:this.currentTenantId,msgContent:this.categoryName,busiType:1},headers:ve.json};$t.addPhrase(o).then(function(e){"0"==e.code?(t.queryPhrase(),t.categoryName="",t.$Message.info("新增子分类成功")):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})}},cancel:function(){this.phraseEdit="",this.categoryName=""}},mounted:function(){var e=this;this.deptList=this.servedTenant,this.servedTenant.map(function(t,s){0==s&&null!=t&&e.selectDept(t,s)})}},Gt={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Row",{staticClass:"common-phrase"},[s("Row",{directives:[{name:"show",rawName:"v-show",value:!e.ifEmbed,expression:"!ifEmbed"}],staticClass:"top"},[s("Col",{staticClass:"title",attrs:{span:"12"}},[e._v("常用语")])],1),e._v(" "),s("Row",[s("Col",{directives:[{name:"show",rawName:"v-show",value:!e.ifEmbed,expression:"!ifEmbed"}],staticClass:"phrase-left",style:{minHeight:e.ifEmbed?"489px":"600px"},attrs:{span:"4"}},[s("div",{staticClass:"dept-list",style:{minHeight:e.ifEmbed?"489px":"600px"}},[s("Row",{staticClass:"dept-title"},[e._v("分组列表("+e._s(e.deptList.length||0)+")")]),e._v(" "),e._l(e.deptList,function(t,a){return s("Row",{key:a,staticClass:"dept",class:{selected:e.curDept.index==a},nativeOn:{click:function(s){e.selectDept(t,a)}}},[e._v("\n                    "+e._s(t.tenantName)+"\n                ")])})],2)]),e._v(" "),s("Col",{staticClass:"phrase-right",style:{minHeight:e.ifEmbed?"489px":"600px"},attrs:{span:e.ifEmbed?24:20}},[s("Collapse",{attrs:{accordion:"",value:"1"}},[s("Panel",{attrs:{name:"1"}},[s("div",{staticClass:"category",staticStyle:{float:"right","text-align":"left"}},[s("Col",{attrs:{span:"10"}},[e._v("个人常用语")]),e._v(" "),s("Col",{attrs:{span:"14"}},[s("Col",{directives:[{name:"show",rawName:"v-show",value:!e.ifEmbed,expression:"!ifEmbed"}],staticStyle:{width:"40px",float:"right"}},[s("Icon",{attrs:{type:"chevron-down"}})],1),e._v(" "),s("Col",{staticStyle:{width:"40px",float:"right"},nativeOn:{click:function(t){t.stopPropagation(),e.addPhrase("","person")}}},[s("Icon",{attrs:{type:"plus"}})],1)],1)],1),e._v(" "),s("div",{attrs:{slot:"content"},slot:"content"},[e._l(e.phraseList.person,function(t,a){return s("Row",{key:a,staticClass:"phrase-item"},[s("Col",{staticClass:"phrase-text",attrs:{span:"12",title:t.msgContent},nativeOn:{click:function(s){e.sendMsg(t.msgContent)}}},[e._v(e._s(t.msgContent))]),e._v(" "),s("Col",{attrs:{span:"12"}},[s("Col",{staticStyle:{"text-align":"center",width:"40px",float:"right"},nativeOn:{click:function(s){e.delPhrase(t,"person")}}},[s("Icon",{attrs:{type:"trash-a"}})],1),e._v(" "),s("Col",{staticStyle:{"text-align":"center",width:"40px",float:"right"},nativeOn:{click:function(s){e.editPhrase(t,"person")}}},[s("Icon",{attrs:{type:"edit"}})],1)],1)],1)}),e._v(" "),s("Collapse",{staticClass:"sub-category",attrs:{value:"1-1"}},e._l(e.phraseList.subCategory,function(t,a){return s("Panel",{key:a,attrs:{name:t.msgContent}},[s("div",{staticClass:"category",staticStyle:{float:"right","text-align":"left"}},[s("Col",{staticClass:"phrase-text",attrs:{span:"10",title:t.msgContent}},[e._v(e._s(t.msgContent))]),e._v(" "),s("Col",{staticStyle:{"text-align":"center"},attrs:{span:"14"}},[s("Col",{staticStyle:{width:"40px",float:"right"}},[s("Icon",{directives:[{name:"show",rawName:"v-show",value:!e.ifEmbed,expression:"!ifEmbed"}],attrs:{type:"chevron-down"}})],1),e._v(" "),s("Col",{staticStyle:{width:"40px",float:"right"},nativeOn:{click:function(s){e.delPhrase(t,"profession")}}},[s("Icon",{attrs:{type:"trash-a"}})],1),e._v(" "),s("Col",{staticStyle:{width:"40px",float:"right"},nativeOn:{click:function(s){s.stopPropagation(),e.editPhrase(t,"profession")}}},[s("Icon",{attrs:{type:"edit"}})],1),e._v(" "),s("Col",{staticStyle:{width:"40px",float:"right"},nativeOn:{click:function(s){s.stopPropagation(),e.addPhrase(t,"profession")}}},[s("Icon",{attrs:{type:"plus"}})],1)],1)],1),e._v(" "),s("p",{attrs:{slot:"content"},slot:"content"},e._l(t.children,function(t,a){return s("Row",{key:a,staticClass:"phrase-item"},[s("Col",{staticClass:"phrase-text",attrs:{span:"12",title:t.msgContent},nativeOn:{click:function(s){e.sendMsg(t.msgContent)}}},[e._v(e._s(t.msgContent))]),e._v(" "),s("Col",{staticStyle:{"text-align":"center"},attrs:{span:"12"}},[s("Col",{staticStyle:{width:"40px",float:"right"},nativeOn:{click:function(s){e.delPhrase(t,"profession")}}},[s("Icon",{attrs:{type:"trash-a"}})],1),e._v(" "),s("Col",{staticStyle:{width:"40px",float:"right"},nativeOn:{click:function(s){s.stopPropagation(),e.editPhrase(t,"profession2")}}},[s("Icon",{attrs:{type:"edit"}})],1)],1)],1)}))])})),e._v(" "),s("Row",{staticClass:"add-category"},[s("Button",{attrs:{type:"text",icon:"plus"},on:{click:e.addCategory}},[e._v("添加子分类")]),e._v(" "),s("Modal",{attrs:{title:e.modalTitle,width:"560"},on:{"on-ok":function(t){e.ok(e.action)},"on-cancel":e.cancel},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[s("Input",{directives:[{name:"show",rawName:"v-show",value:"edit"==e.action,expression:"action=='edit' "}],attrs:{type:"textarea"},model:{value:e.phraseEdit,callback:function(t){e.phraseEdit=t},expression:"phraseEdit"}}),e._v(" "),s("Row",{directives:[{name:"show",rawName:"v-show",value:"del"==e.action,expression:"action=='del'"}],attrs:{title:"确定删除该常用语吗？"}},[e._v("确定删除该常用语吗？")]),e._v(" "),s("Row",{directives:[{name:"show",rawName:"v-show",value:"addCategory"==e.action||"add"==e.action,expression:"action=='addCategory' || action == 'add'"}]},[s("Col",{attrs:{span:"4"}},[e._v(e._s("addCategory"==e.action?"分类名称":"常用语"))]),e._v(" "),s("Col",{attrs:{span:"20"}},[s("Input",{attrs:{placeholder:"输入分类名称"},model:{value:e.categoryName,callback:function(t){e.categoryName=t},expression:"categoryName"}})],1)],1)],1)],1)],2)])],1)],1)],1)],1)},staticRenderFns:[]};var Kt,Qt=s("VU/8")(zt,Gt,!1,function(e){s("Q/t3"),s("aoJ3")},"data-v-e4ad3be8",null).exports,Jt=function(e){return e.headers&&"application/x-www-form-urlencoded"==e.headers["Content-Type"]&&(e.data=Qs.stringify(e.data)),new h.a(function(t,s){_(e).then(function(e){"200"!=e.status&&"304"!=e.status||t(e.data)},function(e){s(e)})})},Xt={url:"/busi/timeplan/add",type:"post"},Zt={url:"/busi/timeplan/del",type:"post"},Yt={url:"/busi/timeplan/detail/add",type:"post"},es={url:"/sys/tenant/queryTenantInfo",type:"post"},ts={url:"/sys/tenant/updateTenantById",type:"post"},ss={url:"/sys/tenant/uploadTenantImg",type:"post"},as={url:"/busi/sysConfig/querySysConfigByTenantId",type:"post"},ns={url:"/busi/sysConfig/saveBusiSysConfig",type:"post"},os={url:"/busi/sessionTag/querySessionTag",type:"post"},rs={url:"/busi/sessionTag/updateSessionTag",type:"post"},is={url:"/busi/sessionTag/deleteSessionTag",type:"post"},cs={url:"/busi/routeRule/queryRouteByTenantId",type:"post"},ls={url:"/busi/sessionTag/addSessionTag",type:"post"},us={url:"/busi/timeplan/queryAllTimePlan",type:"post"},ds={url:"/busi/timeplan/insertTimePlanByTenant",type:"post"},ms={url:"/busi/timeplan/modifyTimePlanByTenant",type:"post"},ps={url:"/busi/timeplan/deleteTimePlanByTenant",type:"post"},fs={url:"/busi/sessionTag/queryTenantSessionTagSetting",type:"post"},hs={url:"/busi/sessionTag/updateTenantSessionTagSetting",type:"post"},gs={url:"/busi/cs/session/submitSessionTag",type:"post"},vs={url:"/busi/skillGroup/querySkillGroupByUser",type:"post"},ys={url:"/busi/routeRule/updateRouteById",type:"post"},bs={url:"/busi/routeRule/queryEntryTypeList",type:"post"},Cs={url:"/busi/routeRule/saveRuleAndSkillGroup",type:"post"},ws=(Kt={saveRuleAndSkillGroup:function(e){return e.urlObj=Cs,Jt(e)},queryEntryTypeList:function(e){return e.urlObj=bs,Jt(e)},updateRouteById:function(e){return e.urlObj=ys,Jt(e)},querySkillGroupByUser:function(e){return e.urlObj=vs,Jt(e)},submitSessionTag:function(e){return e.urlObj=gs,Jt(e)},updateSessionTagSetting:function(e){return e.urlObj=hs,Jt(e)},querySessionTagSetting:function(e){return e.urlObj=fs,Jt(e)},queryAllTimePlan:function(e){return e.urlObj=us,Jt(e)},insertTimePlanByTenant:function(e){return e.urlObj=ds,Jt(e)},modifyTimePlanByTenant:function(e){return e.urlObj=ms,Jt(e)},deleteTimePlanByTenant:function(e){return e.urlObj=ps,Jt(e)},addSessionTag:function(e){return e.urlObj=ls,Jt(e)}},ge()(Kt,"updateRouteById",function(e){return e.urlObj=ys,Jt(e)}),ge()(Kt,"queryRouteByTenantId",function(e){return e.urlObj=cs,Jt(e)}),ge()(Kt,"deleteSessionTag",function(e){return e.urlObj=is,Jt(e)}),ge()(Kt,"updateSessionTag",function(e){return e.urlObj=rs,Jt(e)}),ge()(Kt,"querySessionTag",function(e){return e.urlObj=os,Jt(e)}),ge()(Kt,"saveBusiSysConfig",function(e){return e.urlObj=ns,Jt(e)}),ge()(Kt,"querySysConfigByTenantId",function(e){return e.urlObj=as,Jt(e)}),ge()(Kt,"uploadTenantImg",function(e){return e.urlObj=ss,Jt(e)}),ge()(Kt,"saveTenant",function(e){return e.urlObj=ts,Jt(e)}),ge()(Kt,"queryTenantInfo",function(e){return e.urlObj=es,Jt(e)}),ge()(Kt,"addSelfWorkdays",function(e){return e.urlObj=Xt,Jt(e)}),ge()(Kt,"delSelfWorkdays",function(e){return e.urlObj=Zt,Jt(e)}),ge()(Kt,"addfWorkdaysdetail",function(e){return e.urlObj=Yt,Jt(e)}),Kt),Is=["[):]","[:D]","[;)]","[:-o]","[:p]","[(H)]","[:@]","[:s]","[:$]","[:(]","[:'(]","[:|]","[(a)]","[8o|]","[8-|]","[+o(]","[<o)]","[|-)]","[*-)]","[:-#]","[:-*]","[^o)]","[8-)]","[(|)]","[(u)]","[(S)]","[(*)]","[(#)]","[(R)]","[({)]","[(})]","[(k)]","[(F)]","[(W)]","[(D)]"],As={name:"SessionRight",props:["props"],components:{Datum:Wt,CommonPhrase:Qt},computed:{userName:function(){return this.$store.state.userName},inputLen:function(){return this.input.length},endSession:{get:function(){return this.$store.state.endSession},set:function(e){this.$store.dispatch("setEndSession",e)}},curCustomerId:{get:function(){return this.$store.state.curCustomerId},set:function(e){this.$store.dispatch("setCurCustomerId",e)}},curCusHxAccount:{get:function(){return this.$store.state.curCusHxAccount},set:function(e){this.$store.dispatch("setCurCusHxAccount",e)}},curTenantId:{get:function(){return this.$store.state.curTenantId},set:function(e){this.$store.dispatch("setCurTenantId",e)}},hxAccount:{get:function(){return this.$store.state.curHxAccount},set:function(e){this.$store.dispatch("setCurHxAccount",e)}},curSessionId:{get:function(){return this.$store.state.curSessionId},set:function(e){this.$store.dispatch("setCurSessionId",e)}},output:{get:function(){return this.props.sessionHistory},set:function(e){this.props.sessionHistory+=e}},allSensitiveWords:{get:function(){return this.$store.state.allSensitiveWords},set:function(e){this.$store.dispatch("setAllSensitiveWords",e)}}},data:function(){return{showSubTag:!1,curTransferType:"",curKF:{},curKFGroup:{},emojiModal:!1,emojiList:[],remarkText:"",selectedTag:[],showTag:!1,tagList:[],subTagList:[],curSubTagList:[],starNum:0,showComment:!1,showModal:!1,searchKey:"",kfSource:[],kfGroupSource:[],expand:ye,input:"",ifEmbed:!0}},methods:o()({},Object(Vt.b)(["getUserName"]),{sendCommPhrase:function(e){this.input="",this.input=e.msg,this.sendText()},refreshSessionList:function(){this.$emit("getSessionByUser")},inputChange:function(e){if(console.log("inputChange $s",e),e&&e.length>500)return this.$Message.warning("最大字符长度限定500字符"),!1},querySkillGroup:function(){var e=this,t={data:{tenantId:this.curTenantId},headers:ve.json};$t.querySkillGroup(t).then(function(t){"0"==t.code?e.kfGroupSource=t.resultData:e.$Message.info(t.message)},function(t){e.$Message.error(t)})},queryCsUser:function(){var e=this,t={data:{tenantId:this.curTenantId},headers:ve.json};$t.queryCsUser(t).then(function(t){"0"==t.code?e.kfSource=t.resultData.filter(function(t){return t.seatCode!=e.hxAccount&&0==t.enableStatus}):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},changeTab:function(e){this.curTransferType=e,"kf"==e?this.queryCsUser():this.querySkillGroup()},bottomScroll:function(e){e&&(e.scrollTop=e.scrollHeight+400)},changeTo:function(e,t,s){"KF"==s?this.curKF=e:this.curKFGroup=e},evtProxy:function(e){"emoji-list ivu-row"!=e.target.className&&"emoji-pop"!=e.target.className&&"I"!=e.target.nodeName&&"IMG"!=e.target.nodeName&&(this.emojiModal=!1)},getEmojiList:function(){this.emojiList.splice(0,this.emojiList.length);for(var e=1;e<36;e++){var t={src:"../../../static/emoji/ee_"+e+".png",id:e,text:Is[e-1]};this.emojiList.push(t)}},getEmoji:function(e){this.input+=e.text},showEmoji:function(e){this.emojiModal=!this.emojiModal},search:function(e){},confirmTransfer:function(){var e=this,t="kf"==this.curTransferType?this.curKF.busId:this.curKFGroup.busId;if(Object(ke.isNull)(t))return this.$Message.warning("请选择转接对象"),!1;$t.addTransferSession({data:{busiId:this.curSessionId,transferObjId:t,transferObjType:"kf"==this.curTransferType?1:2},headers:ve.json}).then(function(t){"0"==t.code?(e.$Message.info("转接成功"),e.$emit("getSessionByUser")):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},changeConnect:function(e){var t=this,s=this;if("popup"==e)s.curKF={},s.curKFGroup={},s.showModal=!0,s.changeTab("kf");else{var a="kf"==s.curTransferType?s.curKF.busId:s.curKFGroup.busId;if(Object(ke.isNull)(a))return s.$Message.warning("请选择转接的客服"),!1;var n={data:{transferObjId:a,transferObjType:"kf"==s.curTransferType?1:2},headers:ve.json};$t.cTOIsOnline(n).then(function(e){"0"==e.code?(s.showModal=!1,e.resultData?s.confirmTransfer():s.$Modal.confirm({title:"请您确认",content:"目前无在线客服,请问您继续转接吗？",onOk:function(){s.confirmTransfer()},onCancel:function(){}})):t.$Message.warning(e.message)},function(e){s.$Message.error(e)})}},comment:function(e){var t=this;if("popup"==e)this.showComment=!0;else{var s={data:{hxAccount:this.hxAccount,customerHxAccount:this.curCusHxAccount,busiId:this.curSessionId},headers:ve.json};$t.sendSessionEvaluateMsg(s).then(function(e){"0"==e.code?t.showComment=!1:t.$Message.warning(e.message)},function(e){t.$Message.error(e)})}},querySessionTag:function(e){var t=this,s={data:{parentCode:"root"==e?"0":this.parentCode},headers:ve.json};ws.querySessionTag(s).then(function(s){"0"==s.code?"root"==e?t.tagList=s.resultData:t.subTagList=s.resultData:t.$Message.warning(s.message)},function(e){t.$Message.error(e)})},addFlag:function(e){"popup"==e?(this.endSession=!0,this.selectedTag.splice(0,this.selectedTag.length)):this.submitSessionTag()},selectTag:function(e){var t=this;"0"==e.parentCode?(this.showSubTag=!0,this.curSubTagList=this.subTagList.filter(function(t,s){return t.parentCode==e.tagCode})):(this.selectedTag.splice(0,this.selectedTag.length),this.tagList.map(function(s,a){s.tagCode==e.parentCode&&(s.children=[],s.children.push(e),t.selectedTag.push(s))}))},signout:function(){var e=this,t={title:"请您确认",content:"结束当前会话吗？",onOk:function(){return console.log("确定结束会话"),e.$emit("signOut",""),!0},onCancel:function(){console.log("取消结束会话")}};this.$Modal.confirm(t)},toggleExpand:function(){this.props.showInfo=!this.props.showInfo,this.props.showInfo?this.expand=be:this.expand=ye},parseEmoji:function(e){var t=this.$IM.WebIM.Emoji;for(var s in t.map)if(t.map.hasOwnProperty(s))for(;e.indexOf(s)>-1;)e=e.replace(s,'<img class="emoji" src="'+t.path+t.map[s]+'" />');return e},filterSensitiveWords:function(){this.allSensitiveWords.indexOf(this.input)>-1&&(this.input="***",console.log("this.input %s",this.input))},sendText:function(){if(this.input=Object(ke.trim)(this.input),""!=this.input){if(this.filterSensitiveWords(),this.input.length>500)return this.$Message.warning("输入框字数不超过500个字符"),!1;var e=this,t=e.$IM.conn.getUniqueId(),s=new this.$IM.WebIM.message("txt",t);s.set({msg:e.input,to:e.curCusHxAccount,roomType:!1,success:function(t,s){var a=Object(ke.formatDate)(new Date,"yyyy-MM-dd HH:mm:ss"),n=e.parseEmoji(e.input),o='<div class="msg-box">\n                        <div class="send-time on-send">['+a+"] "+(e.userName||e.hxAccount)+'</div>\n                        <div class="send-msg">\n                            <div class="logo"><img src="'+e.props.zxLogo+'"/></div>\n                            <div class="ivu-poptip-popper" style="will-change: top, left;" x-placement="left-start">\n                                <div class="ivu-poptip-content">\n                                    <div class="ivu-poptip-arrow"></div> \x3c!----\x3e \n                                    <div class="ivu-poptip-inner">\n                                        <div class="ivu-poptip-body">\n                                            <div class="ivu-poptip-body-content">\n                                                <div class="ivu-poptip-body-content-inner">'+n+'</div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                        \n                    </div>';e.props.sessionHistory+=o,e.$nextTick(function(){var t=document.getElementById("chat-output");e.input="",e.bottomScroll(t)})},fail:function(t){console.log("Send private text error"),e.$Message.error(t||"发送消息失败")},ext:{conversType:"1",msgSource:"3",sessionId:e.curSessionId+"",tenantId:e.curTenantId+""}}),s.body.chatType="txt",this.$IM.methods.sendPrivateText(s)}},send:function(){this.sendText()},getSessionByUser:function(e){this.$emit("getSessionByUser",e)},submitSessionTag:function(){var e=this;if(Object(ke.isNull)(this.selectedTag[0])||Object(ke.isNull)(this.selectedTag[0].children[0]))return this.$Message.warning("标签内容不能为空"),!1;var t={data:{busiId:this.curSessionId,sessionTagId:this.selectedTag[0].children[0].busiId,parentSessionTagId:this.selectedTag[0].busiId,sessionRemark:this.remarkText},headers:ve.json};ws.submitSessionTag(t).then(function(t){"0"==t.code?(e.$Message.info("添加会话标签成功"),e.endSession=!1):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})}}),created:function(){this.getEmojiList()},mounted:function(){var e=this;e.selectedTag.splice(0,e.selectedTag.length),this.$IM.conn.listen({onTextMessage:function(t){console.log("收到文本信息message=>",t),e.getSessionByUser(t);var s="",a=Object(ke.formatDate)(new Date,"yyyy-MM-dd HH:mm:ss");s=t.ext&&t.ext.message_attr_is_commodity?'<a href="'+t.ext.message_attr_commodity_url+'" target="_blank" style="display:inline-block;">\n                                    <img src="'+t.ext.message_attr_commodity_img_url+'" style="width:32px;height:32px;">\n                                    <h3>'+t.ext.message_attr_commodity_name+"</h3>\n                                    <div>价格: "+t.ext.message_attr_commodity_price+"</div>\n                                </a>":e.parseEmoji(t.data);var n='<div class="msg-box">\n                        <div class="send-time on-send receive">['+a+"] "+(e.props.cusNickName||t.from)+'</div>\n                        <div class="send-msg">\n                            <div class="logo receive"><img src="'+e.props.logo+'"/></div>\n                            <div class="ivu-poptip-popper receive" style="will-change: top, left;" x-placement="right-start">\n                                <div class="ivu-poptip-content">\n                                    <div class="ivu-poptip-arrow"></div> \x3c!----\x3e \n                                    <div class="ivu-poptip-inner">\n                                        <div class="ivu-poptip-body">\n                                            <div class="ivu-poptip-body-content">\n                                                <div class="ivu-poptip-body-content-inner">'+s+'</div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                        \n                    </div>';e.curCusHxAccount==t.from&&(e.props.sessionHistory+=n),e.$nextTick(function(){var t=document.getElementById("chat-output");e.bottomScroll(t)})},onOpened:function(e){console.log("连接打开=>",e)},onEmojiMessage:function(t){console.log("Emoji message %o",t),e.getSessionByUser(t);for(var s="",a=Object(ke.formatDate)(new Date,"yyyy-MM-dd HH:mm:ss"),n=t.data,o=0,r=n.length;o<r;o++)"emoji"==n[o].type?s+='<img class="emoji" src="'+n[o].data+'" />':"txt"==n[o].type?s+=n[o].data:s+="";var i='<div class="msg-box">\n                        <div class="send-time on-send receive">['+a+"] "+(e.props.cusNickName||t.from)+'</div>\n                        <div class="send-msg">\n                            <div class="logo receive"><img src="'+e.props.logo+'"/></div>\n                            <div class="ivu-poptip-popper receive" style="will-change: top, left;" x-placement="right-start">\n                                <div class="ivu-poptip-content">\n                                    <div class="ivu-poptip-arrow"></div> \x3c!----\x3e \n                                    <div class="ivu-poptip-inner">\n                                        <div class="ivu-poptip-body">\n                                            <div class="ivu-poptip-body-content">\n                                                <div class="ivu-poptip-body-content-inner">'+s+'</div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                        \n                    </div>';e.curCusHxAccount==t.from&&(e.props.sessionHistory+=i),e.$nextTick(function(){var t=document.getElementById("chat-output");e.bottomScroll(t)})},onCmdMessage:function(t){console.log("透传消息%m",t),t&&e.getSessionByUser(t)},onDeliveredMessage:function(e){},onReadMessage:function(e){}}),this.sessionHistory&&this.sessionHistory.map(function(t,s){var a,n=t.msgSender,o=(t.msgReceiver,JSON.parse(t.msgContent)),r=Object(ke.formatDate)(new Date(t.msgSendTime),"yyyy-MM-dd HH:mm:ss");"1"==t.msgType?a=e.parseEmoji(o.msg):"8"==t.msgType&&o&&o.message_attr_is_commodity&&(a='<a href="'+o.message_attr_commodity_url+'" target="_blank" style="display:inline-block;">\n                                        <img src="'+o.message_attr_commodity_img_url+'" style="width:32px;height:32px;">\n                                        <h3>'+o.message_attr_commodity_name+"</h3>\n                                        <div>价格: "+o.message_attr_commodity_price+"</div>\n                                    </a>");var i='<div class="msg-box">\n                        <div class="send-time on-send receive">['+r+"] "+n+'</div>\n                        <div class="send-msg">\n                            <div class="logo receive"><img src="'+e.props.logo+'"/></div>\n                            <div class="ivu-poptip-popper receive" style="will-change: top, left;" x-placement="right-start">\n                                <div class="ivu-poptip-content">\n                                    <div class="ivu-poptip-arrow"></div> \x3c!----\x3e \n                                    <div class="ivu-poptip-inner">\n                                        <div class="ivu-poptip-body">\n                                            <div class="ivu-poptip-body-content">\n                                                <div class="ivu-poptip-body-content-inner">'+a+'</div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div class="clear"></div>\n                        </div>\n                        \n                    </div>';e.output+=i}),this.querySessionTag("root"),this.querySessionTag("child")}},xs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Row",{staticClass:"session-right",nativeOn:{click:function(t){return e.evtProxy(t)}}},[a("Row",{staticClass:"right-layout"},[a("Col",{staticStyle:{"text-align":"left"},attrs:{span:"16"}},[a("Row",{staticClass:"chat-top"},[a("Col",{staticStyle:{"padding-left":"20px"},attrs:{span:"12"}},[e._v(e._s(e.props.cusNickName)+"(会话来自:快速创建的关联)")]),e._v(" "),a("Col",{staticStyle:{"text-align":"center"},attrs:{span:"12"}},[a("Col",{staticStyle:{float:"right"},attrs:{xs:1,sm:2,md:3,lg:4}},[a("Icon",{staticClass:"cursor",attrs:{size:"16",type:"power",title:"结束会话"},on:{click:e.signout}})],1),e._v(" "),a("Col",{staticStyle:{float:"right"},attrs:{xs:1,sm:1,md:1,lg:1}},[a("i",{staticStyle:{color:"#ecebf0"}},[e._v("|")])]),e._v(" "),a("Col",{staticStyle:{float:"right"},attrs:{xs:1,sm:2,md:3,lg:4}},[a("Icon",{staticClass:"cursor",attrs:{size:"16",type:"ios-flag",title:"会话标签"},on:{click:function(t){e.addFlag("popup")}}}),e._v(" "),a("Modal",{attrs:{title:"会话标签和备注"},model:{value:e.endSession,callback:function(t){e.endSession=t},expression:"endSession"}},[a("Row",[a("Row",[e._v("添加会话标签和备注")]),e._v(" "),a("Row",[a("Input",{staticClass:"search",attrs:{placeholder:"标签和备注"},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[a("Button",{attrs:{slot:"append",icon:"ios-search"},on:{click:function(t){e.search(e.searchKey)}},slot:"append"})],1)],1),e._v(" "),a("Row",{staticClass:"tag-list"},[a("Col",{attrs:{span:"12"}},e._l(e.tagList,function(t,s){return a("Row",{key:s,staticClass:"tag",nativeOn:{click:function(s){e.selectTag(t)}}},[a("Col",{attrs:{span:"20"}},[e._v(e._s(t.tagName))]),e._v(" "),a("Col",{attrs:{span:"4"}},[a("div",{staticClass:"tag-color"})])],1)})),e._v(" "),a("Col",{directives:[{name:"show",rawName:"v-show",value:e.showSubTag,expression:"showSubTag"}],staticStyle:{padding:"0px 5px"},attrs:{span:"12"}},e._l(e.curSubTagList,function(t,s){return a("Row",{key:s,staticClass:"tag",nativeOn:{click:function(s){e.selectTag(t)}}},[e._v(e._s(t.tagName))])}))],1),e._v(" "),a("Row",{staticClass:"selected-tag"},[e._l(e.selectedTag,function(t,s){return[t.children&&t.children.length>0?e._l(t.children,function(s,n){return a("Tag",{key:n,attrs:{closable:"",color:"blue"}},[e._v(e._s(t.tagName+">"+s.tagName))])}):[a("Tag",{attrs:{closable:"",color:"blue"}},[e._v(e._s(t.tagName))])]]})],2),e._v(" "),a("Row",{staticClass:"remark"},[a("Input",{attrs:{type:"textarea",row:"3",placeholder:"备注"},model:{value:e.remarkText,callback:function(t){e.remarkText=t},expression:"remarkText"}})],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.addFlag("save")}}},[e._v("确定")])],1)],1)],1),e._v(" "),a("Col",{staticStyle:{float:"right"},attrs:{xs:1,sm:2,md:3,lg:4}},[a("Icon",{staticClass:"cursor",attrs:{size:"16",type:"ios-rose",title:"发起评价"},on:{click:function(t){e.comment("popup")}}}),e._v(" "),a("Modal",{attrs:{title:"发送评价邀请"},on:{"on-ok":function(t){e.comment("save")}},model:{value:e.showComment,callback:function(t){e.showComment=t},expression:"showComment"}},[a("Row",{attrs:{type:"flex",justify:"center"}},[a("img",{staticStyle:{width:"350px",height:"270px"},attrs:{src:s("/+A6")}})])],1)],1),e._v(" "),a("Col",{staticStyle:{float:"right"},attrs:{xs:1,sm:2,md:3,lg:4}},[a("Icon",{staticClass:"cursor",attrs:{size:"16",type:"shuffle",title:"选择转接对象"},on:{click:function(t){e.changeConnect("popup")}}}),e._v(" "),a("Modal",{attrs:{title:"选择转接对象"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[a("Tabs",{attrs:{value:"kf"},on:{"on-click":e.changeTab}},[a("TabPane",{attrs:{label:"客服",name:"kf"}},[a("Input",{staticClass:"search",attrs:{placeholder:"客服"},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[a("Button",{attrs:{slot:"append",icon:"ios-search"},on:{click:function(t){e.search(e.searchKey)}},slot:"append"})],1),e._v(" "),a("Row",{staticClass:"kf-list",style:{"overflow-y":e.kfSource.length>6?"scroll":"hidden"},attrs:{type:"flex",justify:"space-between",align:"middle"}},e._l(e.kfSource,function(t,s){return a("Col",{key:s,staticClass:"kf-item",class:{selected:t.busId==e.curKF.busId},attrs:{span:"11"},nativeOn:{click:function(a){e.changeTo(t,s,"KF")}}},[e._v("\n                                            "+e._s(t.seatName)+"\n                                        ")])}))],1),e._v(" "),a("TabPane",{attrs:{label:"技能组",name:"kfGroup"}},[a("Input",{staticClass:"search",attrs:{placeholder:"技能组"},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[a("Button",{attrs:{slot:"append",icon:"ios-search"},on:{click:function(t){e.search(e.searchKey)}},slot:"append"})],1),e._v(" "),a("Row",{staticClass:"kf-list",style:{"overflow-y":e.kfGroupSource.length>6?"scroll":"hidden"},attrs:{type:"flex",justify:"space-between",align:"middle"}},e._l(e.kfGroupSource,function(t,s){return a("Col",{key:s,staticClass:"kf-item",class:{selected:t.busId==e.curKFGroup.busId},attrs:{span:"11"},nativeOn:{click:function(a){e.changeTo(t,s,"KFG")}}},[e._v("\n                                            "+e._s(t.groupName)+"\n                                        ")])}))],1)],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.changeConnect("save")}}},[e._v("确定")])],1)],1)],1)],1)],1),e._v(" "),a("Row",{staticClass:"chat-body"},[a("Col",{staticClass:"chat-box",attrs:{span:"24"}},[a("Row",{staticClass:"customer-info"},[a("Col",{staticStyle:{"min-height":"1px"},attrs:{span:"22"}},[a("Row",{directives:[{name:"show",rawName:"v-show",value:e.props.showInfo,expression:"props.showInfo"}]},e._l(e.props.customerInfo,function(t,s){return a("Row",{key:s,staticClass:"info-item"},[a("Col",{staticClass:"title",attrs:{span:"4"}},[e._v(e._s(t.title)+":")]),e._v(" "),a("Col",{staticClass:"info",attrs:{span:"20"}},[e._v(e._s(t.info))])],1)}))],1),e._v(" "),a("Col",{staticStyle:{height:"60px","line-height":"60px"},attrs:{span:"2"}},[a("span",{staticClass:"text-btn",on:{click:e.toggleExpand}},[e._v(e._s(e.expand))])])],1),e._v(" "),a("div",{staticClass:"chat-output",attrs:{id:"chat-output"},domProps:{innerHTML:e._s(e.output)}},[e._v(e._s(e.output)+"\n                    ")]),e._v(" "),a("Row",{staticClass:"chat-input"},[a("Row",{staticClass:"input-btn"},[a("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[a("Icon",{staticClass:"cursor",attrs:{type:"happy-outline",size:"16"},nativeOn:{click:function(t){return e.showEmoji(t)}}}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.emojiModal,expression:"emojiModal"}],staticClass:"emoji-pop"},[a("Row",{staticClass:"emoji-list"},e._l(e.emojiList,function(t,s){return a("button",{key:s,staticClass:"emoji-btn",on:{click:function(s){e.getEmoji(t)}}},[a("img",{staticClass:"emoji",attrs:{src:t.src}})])}))],1)],1)],1),e._v(" "),a("Row",{staticClass:"input-wrapper"},[a("Input",{staticClass:"input-area",attrs:{type:"textarea",rows:5,placeholder:"请输入..."},on:{oninput:e.inputChange},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.send(t):null}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),e._v(" "),a("Row",{staticClass:"submit-btn"},[a("Button",{attrs:{type:"primary"},on:{click:e.send}},[e._v("发送")])],1)],1)],1)],1)],1),e._v(" "),a("Col",{staticClass:"chatter-info",attrs:{span:"8"}},[a("Tabs",{staticClass:"tabs2",attrs:{value:"datum"}},[a("TabPane",{attrs:{label:"资料",name:"datum"}},[a("datum",{attrs:{props:e.props},on:{refreshSessionList:e.refreshSessionList}})],1),e._v(" "),a("TabPane",{attrs:{label:"常用语",name:"commonprase"}},[a("common-phrase",{attrs:{ifEmbed:e.ifEmbed},on:{sendCommPhrase:e.sendCommPhrase}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var ks={name:"Session",computed:{userLogo:function(){return this.$store.state.userLogo},curSessionId:{get:function(){return this.$store.state.curSessionId},set:function(e){this.$store.dispatch("setCurSessionId",e)}},hxAccount:{get:function(){return this.$store.state.curHxAccount},set:function(e){this.$store.dispatch("setCurHxAccount",e)}},hxPwd:{get:function(){return this.$store.state.curHxPwd},set:function(e){this.$store.dispatch("setCurHxPwd",e)}},connContext:function(){return this.$store.state.connContext},curTenantId:{get:function(){return this.$store.state.curTenantId},set:function(e){this.$store.dispatch("setCurTenantId",e)}},servedTenant:{get:function(){return this.$store.state.servedTenant},set:function(e){this.$store.dispatch("setServedTenant",e)}},userName:{get:function(){return this.$store.state.userName},set:function(e){this.$store.dispatch("setUserName",e)}},curCustomerId:{get:function(){return this.$store.state.curCustomerId},set:function(e){this.$store.dispatch("setCurCustomerId",e)}},curCusHxAccount:{get:function(){return this.$store.state.curCusHxAccount},set:function(e){this.$store.dispatch("setCurCusHxAccount",e)}},tipsSwitch:{get:function(){return this.$store.state.tipsSwitch},set:function(e){this.$store.dispatch("setTipsSwitch",e)}},endSession:{get:function(){return this.$store.state.endSession},set:function(e){this.$store.dispatch("setEndSession",e)}}},data:function(){return{searchDealList:[],searchWorkmateList:[],curSeatId:"",curDept:{},access_token:"",showChatBox:!1,curMaxCustomers:0,maxCustomers:"10",revSessionNum:0,endSessionNum:0,onlineTime:"1小时",sessionInfo:{hasMessage:!1,depts:[],searchKey:"",dealist:[],workmateList:[],showInfo:!1,customerInfo:[{title:"IP",info:"192.168.1.1"},{title:"地区",info:"中国.湖北.武汉"},{title:"软件环境",info:"CustomerSystem-ios/4 CFNetwork/902_2Danwin/17.7.0"},{title:"操作系统",info:"iPhone_11.4.1"},{title:"系统版本",info:"2.1.6_4"},{title:"运营商",info:"中国移动"}],Datum:{},customerTags:[],logo:s("jktY"),zxLogo:s("jktY"),cusNickName:"",sessionHistory:""},oldTab:"dealing"}},components:{SessionLeft:qt,SessionRight:s("VU/8")(As,xs,!1,function(e){s("U43l"),s("dmoX")},"data-v-473ef77a",null).exports},methods:o()({},Object(Vt.b)(["getCurCustomerId"]),{search:function(e){if("dealing"==e.type){if(Object(ke.isNull)(e.searchText))return void(this.sessionInfo.dealist=this.searchDealList);this.sessionInfo.dealist=this.searchDealList.filter(function(t,s){return(t.chatUserNickName||"用户"+t.chatUserId).indexOf(e.searchText)>-1})}else{if(Object(ke.isNull)(e.searchText))return void(this.sessionInfo.workmateList=this.searchWorkmateList);this.sessionInfo.workmateList=this.searchWorkmateList.filter(function(t,s){return(t.nickName||"同事"+t.chatUserId).indexOf(e.searchText)>-1})}},queryCustomerInfoByAccount:function(){var e=this,t={data:{hxAccount:this.curCusHxAccount},headers:ve.json};$t.queryCustomerInfoByAccount(t).then(function(t){"0"==t.code?e.sessionInfo.Datum=t.resultData:e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},queryPrivateTagByTenant:function(){var e=this,t={data:{tenantId:this.curTenantId,dictTypeCode:"CUSTOMER_TAG"},headers:ve.json};$t.queryPrivateTagByTenant(t).then(function(t){"0"==t.code?e.sessionInfo.customerTags=t.resultData:e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},getHxAdminToken:function(){var e=this;return l()(i.a.mark(function t(){var s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s={data:{grant_type:"client_credentials",client_id:Te.production.client_id,client_secret:Te.production.client_secret},headers:ve.json},e.next=3,$t.getHxAdminToken(s);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},t,e)}))()},onLineHxAccount:function(e){var t=this,s={data:{hxAccount:e,loginStatus:1},headers:ve.json};$t.updateHxStatusByAccount(s).then(function(e){"0"==e.code?t.$Message.info("上线成功"):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})},getHxStatus:function(e){var t=this;return l()(i.a.mark(function s(){var a;return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a={path:{username:t.hxAccount.toLowerCase()},headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}},s.next=3,$t.getHxStatus(a);case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},s,t)}))()},connect:function(){var e=this;this.$IM.methods.login(this.hxAccount.toLowerCase(),this.hxPwd,e.connContext.access_token,function(t){e.access_token=t.access_token,e.modifyHxAccountStatus(e.hxAccount,1)},function(t){e.$Message.error(t),setTimeout(function(){e.$router.push({name:"Login"})},1e3)})},signout:function(){var e=this,t={data:{busiId:this.curSessionId},headers:ve.json};$t.endSessionHandle(t).then(function(t){if("0"==t.code)e.$Message.info("结束会话成功"),e.showChatBox=!1,e.getSessionByUser();else{if("100011"==t.code)return e.$Message.warning("请先给本次会话打个标签"),e.endSession=!0,!1;e.$Message.warning(t.message)}},function(t){e.$Message.error(t)})},querySeatMaxWaitNum:function(){var e=this,t={data:{busId:this.curSeatId},headers:ve.json};$t.querySeatMaxWaitNum(t).then(function(t){"0"==t.code?e.maxCustomers=t.resultData.maxWaitNum+"":e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},onChange:function(e){var t=this;this.curMaxCustomers=e;var s={data:{busId:this.curSeatId,maxWaitNum:this.curMaxCustomers},headers:ve.json};$t.updateSeatMaxWaitNum(s).then(function(e){"0"==e.code?t.$Message.info("修改成功"):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})},getSessionByUser:function(){var e=this;$t.getSessionByUser({data:{tenantId:this.curTenantId},headers:ve.json}).then(function(t){"0"==t.code?(e.curCustomerId="",e.showChatBox=!1,e.sessionInfo.depts.map(function(s){s.tenantName==e.curTenantName&&(e.searchDealList.splice(0,e.searchDealList.length),e.searchDealList=t.resultData,e.sessionInfo.dealist.splice(0,e.sessionInfo.dealist.length),e.sessionInfo.dealist=t.resultData)})):e.$Message.warning(res.message)},function(t){e.$Message.error(t)})},getWorkMateByUser:function(e,t){var s=this;$t.getWorkMateByUser({data:{hxAccount:e.resultData.hxAccount},headers:ve.json}).then(function(e){"0"==e.code&&s.sessionInfo.depts.map(function(a){a.tenantName==t.item.tenantName&&(s.searchWorkmateList.splice(0,s.searchWorkmateList.length),s.searchWorkmateList=e.resultData,s.sessionInfo.workmateList.splice(0,s.sessionInfo.workmateList.length),s.sessionInfo.workmateList=e.resultData)})})},modifyHxAccountStatus:function(e,t){this.getHxAdminToken()},getHxDevice:function(e){var t=this;return l()(i.a.mark(function s(){var a;return i.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return a={path:{username:t.hxAccount},headers:{Authorization:"Bearer "+e,"Content-Type":"application/json"}},s.next=3,$t.getHxDevice(a);case 3:return s.abrupt("return",s.sent);case 4:case"end":return s.stop()}},s,t)}))()},deptClick:function(e){var t=this;this.sessionInfo.hasMessage=!1,this.curDept=e,this.curSeatId=e.item.seatId,this.curTenantId=e.item.sysId,this.curTenantName=e.item.tenantName;var s={data:{tenantId:this.curTenantId},headers:ve.json},a=this;this.querySeatMaxWaitNum(),$t.getHxAccount(s).then(function(t){"0"==t.code?null!=t.resultData?(a.hxAccount=t.resultData.hxAccount.toLowerCase(),a.hxPwd=t.resultData.hxPwd,a.getHxAdminToken().then(function(e){e&&e.access_token?a.getHxStatus(e.access_token).then(function(t){if(t&&t.data){var s=a.hxAccount.toLowerCase();"offline"==t.data[s]?(a.connect(),a.onLineHxAccount(a.hxAccount)):a.getHxDevice(e.access_token).then(function(e){var t=!1;e&&e.data&&e.data.map(function(e){"webim"==e.res&&(t=!0)}),t||(a.connect(),a.onLineHxAccount(a.hxAccount))})}else a.$Message.error("查询环信账户在线状态失败")}):a.$Message.error("查询环信管理员账户token失败")}),a.getSessionByUser(),a.getWorkMateByUser(t,e)):a.$Message.warning("获取租户环信账户失败"):a.$Message.error(t.message)},function(e){t.$Message.error(e)})},parseEmoji:function(e){var t=this.$IM.WebIM.Emoji;for(var s in t.map)if(t.map.hasOwnProperty(s))for(;e.indexOf(s)>-1;)e=e.replace(s,'<img class="emoji" src="'+t.path+t.map[s]+'" />');return e},bottomScroll:function(e){e&&(e.scrollTop=e.scrollHeight+400)},queryChatMsgBySession:function(){var e=this,t={data:{busiId:this.curSessionId},headers:ve.json};$t.queryChatMsgBySession(t).then(function(t){if("0"==t.code){if(t.resultData){t.resultData=t.resultData.sort((s="msgSendTime",function(e,t){return e[s]-t[s]})),t.resultData=t.resultData.filter(function(t,s){return t.msgSender==e.curCusHxAccount||t.msgReceiver==e.curCusHxAccount}),e.sessionInfo.sessionHistory="",t.resultData.map(function(t,s){var a,n=t.msgSender,o=(t.msgReceiver,JSON.parse(t.msgContent)),r=Object(ke.formatDate)(new Date(1e3*t.msgSendTime),"yyyy-MM-dd HH:mm:ss");"1"==t.msgType?a=e.parseEmoji(o.msg):"8"==t.msgType&&o&&o.message_attr_is_commodity&&(a='<a href="'+o.message_attr_commodity_url+'" target="_blank" style="display:inline-block;">\n                                                    <img src="'+o.message_attr_commodity_img_url+'" style="width:32px;height:32px;">\n                                                    <h3>'+o.message_attr_commodity_name+"</h3>\n                                                    <div>价格: "+o.message_attr_commodity_price+"</div>\n                                                </a>");var i='<div class="msg-box">\n                                    <div class="send-time on-send '+(t.msgSender==e.curCusHxAccount?"receive":"")+'">['+r+"] \n                                        "+(t.msgSender==e.curCusHxAccount?e.sessionInfo.cusNickName:t.msgSender==e.hxAccount?e.userName:n)+'\n                                    </div>\n                                    <div class="send-msg">\n                                        <div class="logo '+(t.msgSender==e.curCusHxAccount?"receive":"")+'"><img src="'+(t.msgSender==e.curCusHxAccount?e.sessionInfo.logo:e.sessionInfo.zxLogo)+'"/></div>\n                                        <div class="'+(t.msgSender==e.curCusHxAccount?"ivu-poptip-popper  receive":"ivu-poptip-popper ")+'" \n                                            style="'+(t.msgSender==e.curCusHxAccount?"will-change: top right":"will-change: top left")+'" \n                                            x-placement="'+(t.msgSender==e.curCusHxAccount?"right-start":"left-start")+'">\n                                            <div class="ivu-poptip-content">\n                                                <div class="ivu-poptip-arrow"></div> \n                                                <div class="ivu-poptip-inner">\n                                                    <div class="ivu-poptip-body">\n                                                        <div class="ivu-poptip-body-content">\n                                                            <div class="ivu-poptip-body-content-inner">'+a+'</div>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div class="clear"></div>\n                                    </div>\n                                    \n                                </div>';e.sessionInfo.sessionHistory+=i,setTimeout(function(){var t=document.getElementById("chat-output");e.bottomScroll(t)},200)})}setTimeout(function(){e.curCustomerId&&void 0!=e.curCustomerId?e.showChatBox=!0:e.showChatBox=!1},20)}else e.$Message.warning(t.message);var s},function(t){e.$Message.error(t)})},kfClick:function(e){this.sessionInfo.hasMessage=!1,this.curSessionId=e.di.busiId,this.curCustomerId=e.di.chatUserId,this.curCusHxAccount=e.di.hxAccount,this.sessionInfo.logo=Object(ke.isNull)(e.di.chatUserLogo)?"../../../static/i/home/1.jpg":e.di.chatUserLogo,this.sessionInfo.cusNickName=Object(ke.isNull)(e.di.chatUserNickName)?"用户"+this.curCustomerId:e.di.chatUserNickName,this.sessionInfo.zxLogo=Object(ke.isNull)(this.userLogo)?"../../../static/i/home/1.jpg":this.userLogo,this.queryPrivateTagByTenant(),this.queryChatMsgBySession(),this.queryCustomerInfoByAccount()},switchChange:function(e){this.tipsSwitch=e},changeTab:function(e){this.oldTab!=e&&(this.showChatBox=!1,this.curCustomerId="",this.oldTab=e)},updateSessionList:function(e){e&&(this.sessionInfo.hasMessage=!0),this.getSessionByUser()}}),mounted:function(){this.sessionInfo.depts=this.servedTenant,this.maxCustomers=this.sessionInfo.depts.maxSeatNum||"10"}},_s={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"session"},[s("Row",{staticClass:"top"},[s("Col",{staticStyle:{"text-align":"left"},attrs:{span:"12"}},[s("span",{staticClass:"session-title"},[e._v("会话")]),e._v(" "),s("span",{staticClass:"title"},[e._v("最大接待人数")]),e._v(" "),s("Select",{staticStyle:{width:"100px","z-index":"2"},on:{"on-change":e.onChange},model:{value:e.maxCustomers,callback:function(t){e.maxCustomers=t},expression:"maxCustomers"}},[s("Option",{attrs:{value:"5"}},[e._v("5")]),e._v(" "),s("Option",{attrs:{value:"8"}},[e._v("8")]),e._v(" "),s("Option",{attrs:{value:"10"}},[e._v("10")]),e._v(" "),s("Option",{attrs:{value:"15"}},[e._v("15")]),e._v(" "),s("Option",{attrs:{value:"20"}},[e._v("20")])],1)],1),e._v(" "),s("Col",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticStyle:{"text-align":"right"},attrs:{span:"12"}},[s("span",{staticClass:"statistics"},[e._v("接起会话数:"+e._s(e.revSessionNum)+" 结束会话数:"+e._s(e.endSessionNum)+" 在线时长:"+e._s(e.onlineTime))]),e._v(" "),s("span",{staticClass:"statistics"},[e._v("消息提示音\n                "),s("i-switch",{attrs:{size:"small"},on:{"on-change":e.switchChange},model:{value:e.tipsSwitch,callback:function(t){e.tipsSwitch=t},expression:"tipsSwitch"}})],1)])],1),e._v(" "),s("Row",{staticClass:"chat"},[s("Col",{staticClass:"left-session",attrs:{span:"8"}},[s("session-left",{attrs:{props:e.sessionInfo},on:{deptClick:e.deptClick,kfClick:e.kfClick,changeTab:e.changeTab,search:e.search}})],1),e._v(" "),s("Col",{directives:[{name:"show",rawName:"v-show",value:e.showChatBox,expression:"showChatBox"}],staticClass:"right-session",attrs:{span:"16"}},[s("session-right",{attrs:{props:e.sessionInfo},on:{signOut:e.signout,getSessionByUser:e.updateSessionList}})],1)],1)],1)},staticRenderFns:[]};var Ss=s("VU/8")(ks,_s,!1,function(e){s("iqGl")},"data-v-487fc31e",null).exports,Ts=s("c/Tr"),Ms=s.n(Ts),Ns={props:{data:Array,stripe:Boolean,border:Boolean,showHeader:{type:Boolean,default:!0},width:[Number,String],height:[Number,String],loading:Boolean,disabledHover:Boolean,highlightRow:Boolean,rowClassName:Function,size:String,noDataText:String,noFilteredDataText:String},data:function(){return{columns:[]}},methods:{getColumn:function(){var e=this;if(this.$slots.default){var t=Array.isArray(this.$slots.default)?this.$slots.default:[this.$slots.default];Ms()(t).filter(function(e){return e.componentInstance}).forEach(function(t){var s=t.componentInstance,a=s.$options.propsData;a.key=a.prop,s.$scopedSlots.default&&(a.render=function(e,t){return e("div",s.$scopedSlots.default(t.row))}),e.columns.push(a)})}}},mounted:function(){var e=this;this.getColumn(),["on-current-change","on-select","on-select-cancel","on-select-all","on-selection-change","on-sort-change","on-filter-change","on-row-click","on-row-dblclick","on-expand"].forEach(function(t){e.$refs.table.$on(t,function(){for(var s,a=arguments.length,n=Array(a),o=0;o<a;o++)n[o]=arguments[o];(s=e.$emit).call.apply(s,[e,t].concat(n))})}),["exportCsv","clearCurrentRow"].forEach(function(t){e[t]=e.$refs.table[t]})}},Rs={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("Table",this._b({ref:"table",attrs:{columns:this.columns}},"Table",this.$props,!1)),this._v(" "),t("div",{staticStyle:{display:"none"}},[this._t("default")],2)],1)},staticRenderFns:[]},Fs=s("VU/8")(Ns,Rs,!1,null,null,null).exports,Bs={props:{type:String,title:String,prop:String,width:Number,align:String,className:String,fixed:String,ellipsis:Boolean,sortable:Boolean,sortMethod:Function,sortType:String,filters:Array,filterMethod:Function,filterMultiple:Boolean,filteredValue:Array,filterRemote:Boolean}},js={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},$s=s("VU/8")(Bs,js,!1,null,null,null).exports,Os={name:"waitln",components:{xTable:Fs,xTableColumn:$s},computed:{servedTenant:{get:function(){return this.$store.state.servedTenant},set:function(e){this.$store.dispatch("setServedTenant",e)}},hxAccount:{get:function(){return this.$store.state.curHxAccount},set:function(e){this.$store.dispatch("setCurHxAccount",e)}}},data:function(){return{curTenantId:"",refuseModal:!1,refuseReason:"",curPageNum:1,curKFGroup:{},kfGroupSource:[],curKF:{},kfSource:[],searchKey:"",curTransferType:"",showModal:!1,total:0,pageSize:10,pageNum:1,deptNum:0,formItem:{timeSection:"",timeSectionLsit:[{name:"昨天"},{name:"今天"}]},filterModal:!1,isActive:0,pendingList:[],waitData:[]}},methods:{changeTo:function(e,t,s){"KF"==s?this.curKF=e:this.curKFGroup=e},search:function(e){},querySkillGroup:function(){var e=this,t={data:{tenantId:this.curTenantId},headers:ve.json};$t.querySkillGroup(t).then(function(t){"0"==t.code?e.kfGroupSource=t.resultData:e.$Message.info(t.message)},function(t){e.$Message.error(t)})},queryCsUser:function(){var e=this,t={data:{tenantId:this.curTenantId},headers:ve.json};$t.queryCsUser(t).then(function(t){"0"==t.code?e.kfSource=t.resultData.filter(function(t){return t.seatCode!=e.hxAccount&&0==t.enableStatus}):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},changeTab:function(e){this.curTransferType=e,"kf"==e?this.queryCsUser():this.querySkillGroup()},changeConnect:function(e,t){var s=this,a=this;if("popup"==e)this.showModal=!0,this.changeTab("kf");else{var n="kf"==this.curTransferType?this.curKF.busId:this.curKFGroup.busId;if(Object(ke.isNull)(n))return this.$Message.warning("请选择转接的客服"),!1;var o={data:{transferObjId:n,transferObjType:"kf"==this.curTransferType?1:2},headers:ve.json};$t.cTOIsOnline(o).then(function(e){"0"==e.code?(s.showModal=!1,e.resultData?a.confirmTransfer(t):a.$Modal.confirm({title:"请您确认",content:"目前无在线客服,请问您继续转接吗？",onOk:function(){a.confirmTransfer(t)},onCancel:function(){}})):s.$Message.warning(e.message)},function(e){s.$Message.error(e)})}},confirmTransfer:function(e){var t=this,s="kf"==this.curTransferType?this.curKF.busId:this.curKFGroup.busId;if(Object(ke.isNull)(s))return this.$Message.warning("请选择转接对象"),!1;$t.addTransferSession({data:{busiId:e.busiId,transferObjId:s,transferObjType:1},headers:ve.json}).then(function(e){"0"==e.code?(t.$Message.info("转接成功"),t.queryWaitSessionForPage()):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})},connect:function(e){var t=this;$t.updateJoinSession({data:{sessionStatus:1,busiId:e.busiId},headers:ve.json}).then(function(e){"0"==e.code?(t.$Message.info("接入成功"),t.queryWaitSessionForPage()):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})},refuse:function(e,t){var s=this;"popup"==e?this.refuseModal=!0:$t.updateRefuseSession({data:{busiId:t.busiId,refuseReason:this.refuseReason},headers:ve.json}).then(function(e){"0"==e.code?(s.$Message.info("拒接成功"),s.queryWaitSessionForPage()):s.$Message.warning(e.message)},function(e){s.$Message.error(e)})},changeNum:function(e){this.waitData.splice(0,this.waitData.length),this.curPageNum=e},filter:function(e){"popup"==e&&(this.filterModal=!0)},queryWaitSessionForPage:function(){var e=this,t={data:{tenantId:this.curTenantId,pageNum:this.curPageNum,pageSize:this.pageSize},headers:ve.urlencoded};$t.queryWaitSessionForPage(t).then(function(t){"0"==t.code?(e.waitData=t.resultData.list,e.total=t.resultData.total,e.waitData.map(function(e){e.startTime=Object(ke.formatDate)(new Date(1e3*e.startTime),"yy-MM-dd HH:mm:ss"),Object(ke.isNull)(e.chatUserNickName)&&(e.chatUserNickName="用户"+e.chatUserId),1==e.channelType?e.channelType="APP":e.channelType="微信小程序"})):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},checkItem:function(e,t){this.isActive=t,this.curTenantId=e.sysId,this.queryWaitSessionForPage()}},mounted:function(){var e=this;this.pendingList=this.servedTenant||[],this.pendingList.map(function(t,s){0==s&&e.checkItem(t,s)})}},Ds={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"wait-in"},[s("Row",{staticClass:"top"},[s("Col",{staticClass:"title",attrs:{span:"12"}},[e._v("待接入")]),e._v(" "),s("Col",{staticClass:"btn",attrs:{span:"12"}})],1),e._v(" "),s("Row",{staticClass:"dept-info"},[s("Col",{staticClass:"dept-list",attrs:{span:"4"}},[s("Row",{staticClass:"dept-layout"},[s("Row",{staticClass:"dept-title"},[e._v("分组列表("+e._s(e.pendingList.length||0)+")")]),e._v(" "),e._l(e.pendingList,function(t,a){return s("Row",{key:a,staticClass:"pending",class:{active:a==e.isActive},nativeOn:{click:function(s){e.checkItem(t,a)}}},[s("Col",{attrs:{span:"22"}},[s("div",{staticClass:"text"},[e._v(e._s(t.tenantName))])])],1)})],2)],1),e._v(" "),s("Col",{staticClass:"table-layout",attrs:{span:"20"}},[s("x-table",{ref:"default",attrs:{data:e.waitData,"no-data-text":"没有数据"}},[s("x-table-column",{attrs:{title:"昵称",prop:"chatUserNickName"}}),e._v(" "),s("x-table-column",{attrs:{title:"发起时间",prop:"startTime"}}),e._v(" "),s("x-table-column",{attrs:{title:"渠道",prop:"channelType"}}),e._v(" "),s("x-table-column",{attrs:{title:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Button",{attrs:{type:"text",icon:"arrow-right-c",title:"接入"},nativeOn:{click:function(s){e.connect(t)}}}),e._v(" "),s("Button",{attrs:{type:"text",icon:"shuffle",title:"转接"},nativeOn:{click:function(s){e.changeConnect("popup",t)}}}),e._v(" "),s("Modal",{attrs:{title:"选择转接对象"},on:{"on-ok":function(s){e.changeConnect("save",t)}},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[s("Tabs",{attrs:{value:"kf"},on:{"on-click":e.changeTab}},[s("TabPane",{attrs:{label:"客服",name:"kf"}},[s("Input",{staticClass:"search",attrs:{placeholder:"客服"},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[s("Button",{attrs:{slot:"append",icon:"ios-search"},on:{click:function(t){e.search(e.searchKey)}},slot:"append"})],1),e._v(" "),s("Row",{staticClass:"kf-list",style:{"overflow-y":e.kfSource.length>6?"scroll":"hidden"},attrs:{type:"flex",justify:"space-between",align:"middle"}},e._l(e.kfSource,function(t,a){return s("Col",{key:a,staticClass:"kf-item",class:{selected:t.busId==e.curKF.busId},attrs:{span:"11"},nativeOn:{click:function(s){e.changeTo(t,a,"KF")}}},[e._v("\n                                            "+e._s(t.seatName)+"\n                                        ")])}))],1),e._v(" "),s("TabPane",{attrs:{label:"技能组",name:"kfGroup"}},[s("Input",{staticClass:"search",attrs:{placeholder:"技能组"},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[s("Button",{attrs:{slot:"append",icon:"ios-search"},on:{click:function(t){e.search(e.searchKey)}},slot:"append"})],1),e._v(" "),s("Row",{staticClass:"kf-list",style:{"overflow-y":e.kfGroupSource.length>6?"scroll":"hidden"},attrs:{type:"flex",justify:"space-between",align:"middle"}},e._l(e.kfGroupSource,function(t,a){return s("Col",{key:a,staticClass:"kf-item",class:{selected:t.busId==e.curKFGroup.busId},attrs:{span:"11"},nativeOn:{click:function(s){e.changeTo(t,a,"KFG")}}},[e._v("\n                                            "+e._s(t.groupName)+"\n                                        ")])}))],1)],1)],1),e._v(" "),s("Button",{attrs:{type:"text",icon:"power",title:"拒接"},nativeOn:{click:function(s){e.refuse("popup",t)}}}),e._v(" "),s("Modal",{attrs:{title:"拒接"},on:{"on-ok":function(s){e.refuse("save",t)}},model:{value:e.refuseModal,callback:function(t){e.refuseModal=t},expression:"refuseModal"}},[s("Input",{attrs:{type:"textarea",rows:3},model:{value:e.refuseReason,callback:function(t){e.refuseReason=t},expression:"refuseReason"}})],1)]}}])})],1),e._v(" "),s("Row",{staticClass:"page"},[s("Page",{attrs:{pageSize:e.pageSize,pageNum:e.pageNum,total:e.total},on:{"on-change":e.changeNum}})],1)],1)],1)],1)},staticRenderFns:[]};var Ps=s("VU/8")(Os,Ds,!1,function(e){s("Es+K")},"data-v-45578ecb",null).exports,Ls=s("XLwt"),Es=s.n(Ls),qs=[],Hs=[],Us=+new Date(1997,9,3),Ws=1e3*Math.random(),Vs={name:"test",data:function(){return{input:"",output:""}},methods:{sort:function(e){if(""!=e){for(var t=new Array,s=0;s<e.length;s++)t.push(e[s]);return t.sort().join("")}},change:function(){this.output=this.sort(this.input)},randomData:function(e){return Us=new Date(+Us+864e5),Ws=Ws+Math.random()*e-10,{name:Us.toString(),value:[[Us.getFullYear(),Us.getMonth()+1,Us.getDate()].join("/"),Math.round(Ws)/1e3]}},initEChart:function(){for(var e=Es.a.init(document.getElementById("echarts")),t=0;t<500;t++){var s=Math.random();qs.push(this.randomData(s+20));var a=Math.random();Hs.push(this.randomData(a+21))}var n={title:{text:"大坝压力计E2-11、E2-12过程线图"},legend:{data:[{name:"E2-11应力",icon:"roundRect"},{name:"E2-12应力",icon:"roundRect"}]},tooltip:{trigger:"axis",formatter:function(e){e=e[0];var t=new Date(e.name);return t.getDate()+"/"+(t.getMonth()+1)+"/"+t.getFullYear()+" : "+e.value[1]},axisPointer:{animation:!1}},xAxis:{type:"time",splitLine:{show:!0}},yAxis:{name:"应力(MPa)",type:"value",boundaryGap:[0,"100%"],splitLine:{show:!0}},series:[{name:"E2-11应力",type:"line",showSymbol:!1,hoverAnimation:!1,data:qs},{name:"E2-12应力",type:"line",showSymbol:!1,hoverAnimation:!1,data:Hs}]};e.setOption(n)}},mounted:function(){this.initEChart()}},zs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("section",[s("Row",[s("Col",{attrs:{span:"6"}},[s("Input",{attrs:{type:"text",width:"200"},on:{"on-change":e.change},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1)],1),e._v(" "),s("Row",[s("Col",{attrs:{span:"6"}},[s("Input",{attrs:{type:"text",name:"output",width:"200"},model:{value:e.output,callback:function(t){e.output=t},expression:"output"}})],1)],1),e._v(" "),s("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"space-around",align:"middle"}},[s("Col",{attrs:{span:"4"}},[s("p",{staticStyle:{height:"80px","line-height":"80px"}},[e._v("col-4")])]),e._v(" "),s("Col",{attrs:{span:"4"}},[s("p",{staticStyle:{height:"30px","line-height":"30px"}},[e._v("col-4")])]),e._v(" "),s("Col",{attrs:{span:"4"}},[s("p",{staticStyle:{height:"100px","line-height":"100px"}},[e._v("col-4")])]),e._v(" "),s("Col",{attrs:{span:"4"}},[s("p",{staticStyle:{height:"60px","line-height":"60px"}},[e._v("col-4")])])],1),e._v(" "),s("Row",{staticClass:"code-row-ec",attrs:{type:"flex",justify:"space-around",align:"middle"}},[s("Col",{attrs:{id:"echarts"}})],1)],1)},staticRenderFns:[]};var Gs=s("VU/8")(Vs,zs,!1,function(e){s("V5PX")},"data-v-332d14bd",null).exports,Ks=s("RRo+"),Js=s.n(Ks),Xs={name:"Company",components:{xTable:Fs,xTableColumn:$s},data:function(){return{disabledBtn:!1,totalNum:0,sysId:"",operation:"",modalTitle:"",ruleValidate:{tenantName:[{required:!0,message:"租户名称不能为空",trigger:"blur"},{type:"string",max:20,message:"字符长度最多不超过20个"}],tenantType:[{required:!0,message:"请选择租户属性",trigger:"change"}],tenantPhone:[{required:!0,message:"联系电话不能为空",trigger:"blur"},{type:"string",pattern:/^((0\d{2,3}-\d{7,8}(-\d{3,4})?)|(1[35847]\d{9}))$/,message:"手机号输入格式不正确",trigger:"blur"}],maxSeatNum:[{required:!0,message:"坐席上限不能为空",trigger:"blur"},{validator:function(e,t,s){Js()(+t)?t<=0||t>9999?s(new Error("请输入0-9999的数字")):s():s(new Error("请输入数字值"))},trigger:"blur",trnsform:function(e){return Number(e)}}],tenantAddress:[{required:!0,message:"地址不能为空",trigger:"blur"},{type:"string",max:50,message:"字符长度最多不超过50个"}]},formItem:{tenantName:"",enableStatus:"0",tenantType:3,tenantPhone:"",maxSeatNum:"",tenantAddress:""},showModal:!1,showHeader:!0,curPageData:[],pageNum:1,pageSize:10}},methods:{addCompany:function(){this.showModal=!0,this.modalTitle="新增租户",this.operation="add",this.sysId="",this.formItem={},this.formItem.enableStatus="1"},editCompany:function(e){this.showModal=!0,this.modalTitle="编辑租户",this.operation="edit",this.formItem=e,this.formItem.tenantType=e.tenantType+"",this.formItem.enableStatus=e.enableStatus+"",this.formItem.maxSeatNum=e.maxSeatNum+"",this.sysId=e.sysId},delCompany:function(e){this.showModal=!0,this.operation="del",this.sysId=e.sysId},ok:function(e){var t=this;if("add"==e)t.$refs.formItem.validate(function(e){if(t.disabledBtn=!0,e){var s={data:t.formItem,headers:ve.json};me.addCompany(s).then(function(e){"0"==e.code?(t.$Message.info(e.message),t.showModal=!1,t.disabledBtn=!1,t.pageNum=1,t.changePageNum(t.pageNum)):(t.$Message.warning(e.message),t.showModal=!0,t.disabledBtn=!1)},function(e){t.$Message.error(e),t.disabledBtn=!1})}else t.showModal=!0,t.disabledBtn=!1});else if("edit"==e)t.$refs.formItem.validate(function(e){if(e){var s={data:t.formItem,headers:ve.json};me.editCompany(s).then(function(e){"0"==e.code?(t.$Message.info(we),t.showModal=!1,t.pageNum=1,t.changePageNum(t.pageNum)):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})}});else{var s={data:{sysId:t.sysId},headers:ve.json};me.delCompany(s).then(function(e){"0"==e.code?(t.$Message.info(Ce),t.showModal=!1,t.pageNum=1,t.changePageNum(t.pageNum)):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})}},cancel:function(){this.changePageNum(this.pageNum),this.showModal=!1},changePageNum:function(e){var t=this;this.pageNum=e;try{var s={data:{pageNum:this.pageNum,pageSize:this.pageSize},headers:ve.urlencoded};me.getCompany(s).then(function(e){"0"==e.code?(t.totalNum=e.resultData.total,t.curPageData.splice(0,t.curPageData.length),t.curPageData=e.resultData.list):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})}catch(e){this.$Message.error(Ie)}}},mounted:function(){this.changePageNum(1)}},Zs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"company"},[s("Row",{staticClass:"company-header"},[s("Col",{staticClass:"header-title",attrs:{span:"12"}},[e._v("租户列表")]),e._v(" "),s("Col",{staticStyle:{"text-align":"right","padding-right":"40px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",icon:"plus-round"},on:{click:e.addCompany}},[e._v("新增租户")])],1)],1),e._v(" "),s("Row",{staticClass:"company-list"},[s("x-table",{attrs:{data:e.curPageData,"show-header":e.showHeader,"no-data-text":"没有数据"}},[s("x-table-column",{attrs:{title:"租户名称"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Row",{staticClass:"company-name"},[s("span",{model:{value:t.tenantName,callback:function(s){e.$set(t,"tenantName",s)},expression:"scope.tenantName"}},[s("img",{staticStyle:{width:"32px",height:"32px","vertical-align":"middle","margin-right":"5px",border:"0px","border-radius":"4px"},attrs:{src:t.tenantLogo}}),e._v(e._s(t.tenantName))])])]}}])}),e._v(" "),s("x-table-column",{attrs:{align:"center",title:"启用状态",prop:"enableStatus"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Checkbox",{model:{value:0==t.enableStatus,callback:function(s){e.$set(t,"enableStatus==0",s)},expression:"scope.enableStatus==0"}})]}}])}),e._v(" "),s("x-table-column",{attrs:{title:"租户属性"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(1==t.tenantType?"平台":2==t.tenantType?"外部租户":"系统租户")+"\n                ")]}}])}),e._v(" "),s("x-table-column",{attrs:{title:"联系电话",prop:"tenantPhone"}}),e._v(" "),s("x-table-column",{attrs:{title:"在线客服坐席上限",prop:"maxSeatNum"}}),e._v(" "),s("x-table-column",{attrs:{title:"地址",prop:"tenantAddress"}}),e._v(" "),s("x-table-column",{attrs:{title:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Button",{attrs:{type:"text",size:"large",icon:"edit",title:"修改"},on:{click:function(s){e.editCompany(t)}}}),e._v(" "),s("Button",{attrs:{type:"text",size:"large",icon:"trash-a",title:"删除"},on:{click:function(s){e.delCompany(t)}}})]}}])})],1)],1),e._v(" "),s("Row",{staticClass:"page"},[s("Page",{attrs:{total:e.totalNum,current:e.pageNum},on:{"on-change":e.changePageNum}})],1),e._v(" "),s("Modal",{attrs:{title:"add"==e.operation?"新增租户":"edit"==e.operation?"编辑租户":"删除租户"},on:{"on-cancel":e.cancel},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[s("Form",{ref:"formItem",attrs:{model:e.formItem,rules:e.ruleValidate}},[s("Row",{directives:[{name:"show",rawName:"v-show",value:"add"==e.operation||"edit"==e.operation,expression:"operation=='add' || operation=='edit'"}]},[s("Row",{staticClass:"add-company"},[s("Col",{attrs:{span:"4"}},[e._v("租户名称")]),e._v(" "),s("Col",{attrs:{span:"18"}},[s("FormItem",{attrs:{prop:"tenantName"}},[s("Input",{model:{value:e.formItem.tenantName,callback:function(t){e.$set(e.formItem,"tenantName",t)},expression:"formItem.tenantName"}})],1)],1)],1),e._v(" "),s("Row",{staticClass:"add-company"},[s("Col",{attrs:{span:"4"}},[e._v("启用状态")]),e._v(" "),s("Col",{attrs:{span:"18"}},[s("RadioGroup",{model:{value:e.formItem.enableStatus,callback:function(t){e.$set(e.formItem,"enableStatus",t)},expression:"formItem.enableStatus"}},[s("Radio",{attrs:{label:"0"}},[e._v("启用")]),e._v(" "),s("Radio",{attrs:{label:"1"}},[e._v("不启用")])],1)],1)],1),e._v(" "),s("Row",{staticClass:"add-company"},[s("Col",{attrs:{span:"4"}},[e._v("租户属性")]),e._v(" "),s("Col",{attrs:{span:"18"}},[s("FormItem",{attrs:{prop:"tenantType"}},[s("Select",{model:{value:e.formItem.tenantType,callback:function(t){e.$set(e.formItem,"tenantType",t)},expression:"formItem.tenantType"}},[s("Option",{attrs:{value:"2"}},[e._v("外部租户")]),e._v(" "),s("Option",{attrs:{value:"3"}},[e._v("系统租户")])],1)],1)],1)],1),e._v(" "),s("Row",{staticClass:"add-company"},[s("Col",{attrs:{span:"4"}},[e._v("联系电话")]),e._v(" "),s("Col",{attrs:{span:"18"}},[s("FormItem",{attrs:{prop:"tenantPhone"}},[s("Input",{model:{value:e.formItem.tenantPhone,callback:function(t){e.$set(e.formItem,"tenantPhone",t)},expression:"formItem.tenantPhone"}})],1)],1)],1),e._v(" "),s("Row",{staticClass:"add-company"},[s("Col",{attrs:{span:"4"}},[e._v("坐席上限")]),e._v(" "),s("Col",{attrs:{span:"18"}},[s("FormItem",{attrs:{prop:"maxSeatNum"}},[s("Input",{attrs:{type:"text"},model:{value:e.formItem.maxSeatNum,callback:function(t){e.$set(e.formItem,"maxSeatNum",t)},expression:"formItem.maxSeatNum"}})],1)],1)],1),e._v(" "),s("Row",{staticClass:"add-company"},[s("Col",{attrs:{span:"4"}},[e._v("地址")]),e._v(" "),s("Col",{attrs:{span:"18"}},[s("FormItem",{attrs:{prop:"tenantAddress"}},[s("Input",{model:{value:e.formItem.tenantAddress,callback:function(t){e.$set(e.formItem,"tenantAddress",t)},expression:"formItem.tenantAddress"}})],1)],1)],1)],1)],1),e._v(" "),s("Row",{directives:[{name:"show",rawName:"v-show",value:"del"==e.operation,expression:"operation=='del'"}]},[e._v("\n            确定删除租户信息吗？\n        ")]),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text",size:"large"},on:{click:e.cancel}},[e._v("取消")]),e._v(" "),s("Button",{attrs:{type:"primary",size:"large",disabled:e.disabledBtn},on:{click:function(t){e.ok(e.operation)}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var Ys=s("VU/8")(Xs,Zs,!1,function(e){s("CEHE")},"data-v-e4424ff4",null).exports,ea={name:"KFCenter",components:{xTable:Fs,xTableColumn:$s},data:function(){return{disabledBtn:!1,curCenter:{},formItem:{addCerterName:""},formItemCenter:{curCerterName:""},showAddCenter:!1,srcData:[],targetKeys:[],totalNum:0,curCenterId:"",pageNum:1,pageSize:10,authorityType:"",curCenterIndex:0,centerList:[],centerTenantNum:[],searchKey:"",showModal:!1,tableData:[],curPageData:[],showHeader:!0,ruleValidate:{addCerterName:[{required:!0,message:"请输入客服中心名称",trigger:"blur"},{type:"string",max:50,message:"字符长度最多不超过50个"}],curCerterName:[{required:!0,message:"请输入客服中心名称",trigger:"blur"},{type:"string",max:50,message:"字符长度最多不超过50个"}]}}},methods:{search:function(){var e=this;if(""==this.searchKey)return this.$Message.warning("请输入租户名称"),!1;var t={data:{pageNum:1,pageSize:this.pageSize,tenantName:this.searchKey,centerId:this.curCenterId},headers:ve.urlencoded};me.getCenterCompany(t).then(function(t){"0"==t.code?(e.curPageData=t.resultData.list,e.totalNum=t.resultData.total):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},setOwner:function(e){var t=this,s={data:{csCenterId:this.curCenterId,tenantId:e.sysId},headers:ve.json};me.setDefaultCompany(s).then(function(e){"0"==e.code?(t.$Message.info("设置租户为负责租户成功"),t.getCenterCompany()):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})},removeCenterCompany:function(e){var t=this,s={data:{csCenterId:this.curCenterId,tenantList:e},headers:ve.json};me.removeCenterCompany(s).then(function(s){"0"==s.code?(t.selectCenter(t.curCenter,t.curCenterIndex),t.centerTenantNum[t.curCenterIndex]=t.centerTenantNum[t.curCenterIndex]-e.length,t.$Message.info("客服中心移除租户成功")):t.$Message.warning(s.message)},function(e){t.$Message.error(e)})},addCenterCompany:function(e){var t=this;t.disabledBtn=!0;var s={data:{csCenterId:t.curCenterId,tenantList:e},headers:ve.json};me.addCenterCompany(s).then(function(s){"0"==s.code?(t.disabledBtn=!1,t.selectCenter(t.curCenter,t.curCenterIndex),t.centerTenantNum[t.curCenterIndex]=t.centerTenantNum[t.curCenterIndex]+e.length,t.$Message.info("客服中心新增租户成功")):(t.disabledBtn=!1,t.$Message.warning(s.message))},function(e){t.$Message.error(e)})},getCenterAllCompany:function(){var e={data:{csCenterId:this.curCenterId},headers:ve.json},t=this;me.getCenterAllCompany(e).then(function(e){if("0"==e.code){var s=[];s=(s=e.resultData.filter(function(e,t){return null!=e&&void 0!=e&&""!=e})).map(function(e){if(e)return{key:e.sysId?e.sysId:"",label:e.tenantName?e.tenantName:""}});var a=t.srcData.map(function(e){return{key:e.key?e.key:"",label:e.label?e.label:""}});t.srcData=a.concat(s),t.targetKeys=s.map(function(e){return e.key})}else t.$Message.warning(e.message)},function(e){t.$Message.error(e)})},queryAllTenantForList:function(){var e=this;return l()(i.a.mark(function t(){var s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={headers:ve.json},t.next=3,me.getNoCenterCompany(s).then(function(t){"0"==t.code?e.srcData=t.resultData.map(function(e){return{key:e.sysId,label:e.tenantName}}):e.$Message.warning(t.message)},function(t){e.$Message.error(t)});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,e)}))()},manageMember:function(){var e=this;this.showModal=!0,this.queryAllTenantForList().then(function(){e.getCenterAllCompany()})},handleChange:function(e,t,s){this.targetKeys=e,"right"==t?this.addCenterCompany(s):this.removeCenterCompany(s)},formatLabel:function(e){return e.label},deleteCenter:function(){var e=this,t={data:{csCenterId:this.curCenterId},headers:ve.json};me.delCustomerCenter(t).then(function(t){"0"==t.code?(e.$Message.info("删除客服中心成功"),e.$nextTick(function(){this.getCustomerCenter()})):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},changePageNum:function(e){this.curPageData.splice(0,this.curPageData.length),this.pageNum=e,this.getCenterCompany()},save:function(){var e=this;e.$refs.formItemCenter.validate(function(t){if(t){var s={data:{csCenterName:e.formItemCenter.curCerterName,sysId:e.curCenterId},headers:ve.json};me.editCustomerCenter(s).then(function(t){"0"==t.code?(e.$Message.info("修改客服中心名称成功"),e.$nextTick(function(){e.getCustomerCenter()})):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})}})},getCenterCompany:function(){var e=this,t={data:{pageNum:this.pageNum,pageSize:this.pageSize,centerId:this.curCenterId},headers:ve.urlencoded};me.getCenterCompany(t).then(function(t){"0"==t.code?(e.curPageData=t.resultData.list,e.totalNum=t.resultData.total):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},getCustomerCenter:function(){var e=this;return l()(i.a.mark(function t(){var s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={},t.next=3,me.getCustomerCenter(s).then(function(t){"0"==t.code&&(e.centerList=t.resultData,e.centerTenantNum=e.centerList.map(function(e){return e.tenantNum}))},function(t){e.$Message.error(t)});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,e)}))()},addCenterBtn:function(){this.showAddCenter=!0},addCsCenter:function(){var e=this;e.$refs.formItem.validate(function(t){if(e.disabledBtn=!0,t){var s={data:{csCenterName:e.formItem.addCerterName},headers:ve.json};me.addCustomerCenter(s).then(function(t){"0"==t.code?(e.disabledBtn=!1,e.$Message.info("新增客服中心成功"),e.$nextTick(function(){e.getCustomerCenter()}),e.showAddCenter=!1):(e.$Message.warning(t.message),e.disabledBtn=!1,e.showAddCenter=!0,e.$refs.formItem.resetFields())},function(t){e.disabledBtn=!1,e.$Message.error(t)})}})},selectCenter:function(e,t){this.curCenter=e,this.curCenterIndex=t,this.curCenterId=e.sysId,this.formItemCenter.curCerterName=e.csCenterName,this.getCenterCompany()},ok:function(){this.showModal=!1},cancel:function(){this.showModal=!1},handleCheckAll:function(e){"admin"==e?(this.aCheckAll=!this.aCheckAll,this.aIndeterminate?this.aCheckAll=!1:this.aCheckAll=!this.aCheckAll,this.aIndeterminate=!1,this.aCheckAll?this.adminModal=["facebook","github","twitter","snapchat"]:this.adminModal=[]):(this.rCheckAll=!this.rCheckAll,this.rIndeterminate?this.rCheckAll=!1:this.rCheckAll=!this.rCheckAll,this.rIndeterminate=!1,this.rCheckAll?this.rentModal=["facebook","github","twitter","snapchat"]:this.rentModal=[])}},mounted:function(){var e=this;this.getCustomerCenter().then(function(){e.centerList.map(function(t,s){0==s&&e.selectCenter(t,s)})}),this.changePageNum(1)}},ta={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Row",{staticClass:"kfcenter context"},[s("Row",{staticClass:"top"},[s("Col",{staticStyle:{"font-size":"16px","padding-left":"40px","font-weight":"bold"},attrs:{span:"12"}},[e._v("客服中心列表")]),e._v(" "),s("Col",{staticStyle:{"text-align":"right","padding-right":"10px"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",icon:"plus"},on:{click:e.addCenterBtn}},[e._v("新增客服中心")]),e._v(" "),s("Modal",{attrs:{title:"新增客服中心"},model:{value:e.showAddCenter,callback:function(t){e.showAddCenter=t},expression:"showAddCenter"}},[s("Form",{ref:"formItem",attrs:{model:e.formItem,rules:e.ruleValidate,"label-width":120}},[s("FormItem",{attrs:{label:"客服中心名称",prop:"addCerterName"}},[s("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入客服中心名称"},model:{value:e.formItem.addCerterName,callback:function(t){e.$set(e.formItem,"addCerterName",t)},expression:"formItem.addCerterName"}})],1)],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){e.showAddCenter=!1}}},[e._v("取消")]),e._v(" "),s("Button",{attrs:{type:"primary",size:"large",disabled:e.disabledBtn},on:{click:e.addCsCenter}},[e._v("确定")])],1)],1)],1)],1),e._v(" "),s("Row",[s("Col",{staticClass:"center-list",attrs:{span:"4"}},[s("Row",{staticClass:"center-layout"},e._l(e.centerList,function(t,a){return s("Row",{key:a,class:{"center-item":!0,"selected-center":a==e.curCenterIndex},nativeOn:{click:function(s){e.selectCenter(t,a)}}},[e._v(e._s(t.csCenterName+" (  "+e.centerTenantNum[a]+" 家 )"))])}))],1),e._v(" "),s("Col",{staticClass:"center-info",attrs:{span:"20"}},[s("Tabs",{attrs:{value:"name1"}},[s("TabPane",{attrs:{label:"客服中心成员",name:"name1"}},[s("Row",{staticClass:"operation"},[s("Col",{attrs:{span:"10"}},[s("Input",{staticStyle:{width:"200px"},attrs:{icon:"search",placeholder:"搜索客服中心成员"},on:{"on-click":e.search},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1),e._v(" "),s("Col",{staticStyle:{"text-align":"right","padding-right":"10px"},attrs:{span:"14"}},[s("Button",{attrs:{type:"primary"},on:{click:e.manageMember}},[e._v("成员管理")]),e._v(" "),s("Modal",{attrs:{title:"成员管理",width:"600"},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[s("Row",{attrs:{type:"flex",justify:"center"}},[s("Transfer",{attrs:{data:e.srcData,"target-keys":e.targetKeys,"render-format":e.formatLabel,titles:["未加入的租户","已加入的租户"]},on:{"on-change":e.handleChange}})],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"})],1)],1)],1),e._v(" "),s("Row",{staticClass:"tenant-list"},[s("x-table",{ref:"default",attrs:{data:e.curPageData,"show-header":e.showHeader,"no-data-text":"没有数据"}},[s("x-table-column",{attrs:{title:"租户名称",prop:"tenantName"}}),e._v(" "),s("x-table-column",{attrs:{title:"客服组数",prop:"csGroupNum"}}),e._v(" "),s("x-table-column",{attrs:{title:"客服人员数",prop:"csUserNum"}}),e._v(" "),s("x-table-column",{attrs:{title:"在线客服坐席上限",prop:"maxSeatNum"}}),e._v(" "),s("x-table-column",{attrs:{title:"管理员权限范围",prop:"managerType"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                    "+e._s("1"==t.managerType?"全部":"自有")+"\n                                ")]}}])}),e._v(" "),s("x-table-column",{attrs:{title:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Button",{attrs:{type:"text",size:"large",icon:"edit",title:"设置为负责租户"},on:{click:function(s){e.setOwner(t)}}},[e._v("设置为负责租户")])]}}])})],1)],1),e._v(" "),s("Row",{staticClass:"page"},[s("Page",{attrs:{total:e.totalNum,current:e.pageNum},on:{"on-change":e.changePageNum}})],1)],1),e._v(" "),s("TabPane",{attrs:{label:"基础设置",name:"name2"}},[s("Form",{ref:"formItemCenter",attrs:{"label-width":120,model:e.formItemCenter,rules:e.ruleValidate}},[s("FormItem",{attrs:{label:"客服中心名称",prop:"curCerterName"}},[s("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入客服中心名称"},model:{value:e.formItemCenter.curCerterName,callback:function(t){e.$set(e.formItemCenter,"curCerterName",t)},expression:"formItemCenter.curCerterName"}})],1),e._v(" "),s("FormItem",[s("Button",{attrs:{type:"primary",disabled:e.disabledBtn},on:{click:e.save}},[e._v("保存")]),e._v(" "),s("Button",{attrs:{type:"ghost"},on:{click:e.deleteCenter}},[e._v("删除")])],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var sa=s("VU/8")(ea,ta,!1,function(e){s("66w0")},null,null).exports,aa=s("woOf"),na=s.n(aa),oa={name:"sensitive",data:function(){var e=this;return{words:[{type:"index",width:60,align:"center"},{title:"敏感词",key:"sensitiveWord"},{title:"添加时间",key:"createTime"},{title:"操作",key:"operation",width:150,align:"center",render:function(t,s){return t("div",[t("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){e.show(s)}}},"编辑"),t("Button",{props:{type:"error",size:"small"},on:{click:function(){e.remove(s)}}},"删除")])}}],synctext:"同步",isActive:!1,wordForm:[],editItem:{editsenWord:""},editWords:!1,editsenWord:"",delWords:!1,addWords:!1,searchKey:"",senword:"",addItem:{addsenWord:""},addsenWord:"",total:0,pageSize:10,pageNum:1,curIndex:{},ruleValidate:{editsenWord:[{required:!0,message:"敏感词不能为空",trigger:"blur"},{type:"string",max:12,message:"字符长度最多不超过12个"}],addsenWord:[{required:!0,message:"敏感词不能为空",trigger:"blur"},{type:"string",max:12,message:"字符长度最多不超过12个"}]}}},methods:{changeBlackPageNum:function(e){this.wordForm.splice(0,this.wordForm.length),this.pageNum=e,this.querySensitiveWordListForPage()},querySensitiveWordListForPage:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s={data:na()({pageNum:this.pageNum,pageSize:this.pageSize},t),headers:ve.urlencoded};me.querySensitiveWordListForPage(s).then(function(t){"0"==t.code?(e.wordForm=t.resultData.list,e.wordForm.map(function(e,t){e.createTime=Object(ke.formatDate)(new Date(1e3*e.createTime),"yyyy-MM-dd HH:mm:ss"),Object(ke.isNull)(e.sensitiveWord)&&(e.sensitiveWord="敏感词"+e.sysId)}),e.total=t.resultData.total):e.$Message.warning(t.message)})},search:function(){this.querySensitiveWordListForPage({sensitiveWord:this.searchKey})},addWord:function(){this.addWords=!0},sunc:function(){var e=this,t={headers:ve.json};me.synchronizeVersionNo(t).then(function(t){"0"==t.code?(e.synctext="已同步",e.isActive=!0,e.$Message.info("敏感词同步成功")):e.$Message.warning(t.message)})},add:function(){var e=this;this.$refs.addItem.validate(function(t){if(t){var s={data:{sensitiveWord:e.addItem.addsenWord},headers:ve.json};me.saveSensitiveWord(s).then(function(t){"0"==t.code?(e.addWords=!1,e.synctext="同步",e.isActive=!1,e.querySensitiveWordListForPage(),e.$Message.info("添加敏感词成功")):e.$Message.warning(t.message)})}})},show:function(e){this.editWords=!0,this.editItem.editsenWord=this.wordForm[e.index].sensitiveWord,this.curIndex=e},remove:function(e){this.delWords=!0,this.senword=this.wordForm[e.index].sensitiveWord,this.curIndex=e},delok:function(){var e=this,t={data:{sysId:this.curIndex.row.sysId,sensitiveWord:this.senword},headers:ve.json};me.deleteSensitiveWordById(t).then(function(t){"0"==t.code?(e.querySensitiveWordListForPage(),e.synctext="同步",e.isActive=!1,e.$Message.info("删除敏感词成功")):e.$Message.warning(t.message)},function(t){e.this.$Message.error(t)})},ok:function(){var e=this;this.$refs.editItem.validate(function(t){if(t){var s={data:{sysId:e.curIndex.row.sysId,sensitiveWord:e.editItem.editsenWord},headers:ve.json};me.updateSensitiveWordById(s).then(function(t){"0"==t.code?(e.editWords=!1,e.synctext="同步",e.isActive=!1,e.querySensitiveWordListForPage()):e.$Message.warning(t.message)})}})},cancel:function(){this.$Message.info("已取消")}},mounted:function(){this.querySensitiveWordListForPage()}},ra={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Row",{staticClass:"sensitive",staticStyle:{background:"#fff",padding:"20px"}},[s("h3",[e._v("敏感词过滤")]),e._v(" "),s("h5",[e._v("影响范围：“微信小程序”、“移动APP客服”、“网站”；在接收会话窗口出现敏感词将做  “  * ”  号处理。")]),e._v(" "),s("Row",{staticStyle:{margin:"20px"}},[s("Col",{attrs:{span:"5"}},[s("Input",{staticStyle:{width:"300px"},attrs:{icon:"search",placeholder:"搜索查询敏感词"},on:{"on-click":e.search},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1),e._v(" "),s("Col",{attrs:{span:"2"}},[s("Button",{attrs:{type:"primary"},on:{click:function(t){e.search()}}},[e._v("查询")])],1),e._v(" "),s("Col",{staticStyle:{"text-align":"right"},attrs:{span:"16"}},[s("Button",{attrs:{type:"primary"},on:{click:function(t){e.addWord()}}},[e._v("添加敏感词")]),e._v(" "),s("Button",{class:{active:e.isActive},attrs:{disabled:e.isActive,type:"primary"},on:{click:function(t){e.sunc()}}},[e._v(e._s(e.synctext))])],1)],1),e._v(" "),s("Table",{attrs:{columns:e.words,data:e.wordForm}}),e._v(" "),s("Page",{staticStyle:{"text-align":"right",margin:"10px 0px"},attrs:{total:e.total,"page-size":e.pageSize},on:{"on-change":e.changeBlackPageNum}}),e._v(" "),s("Modal",{attrs:{title:"编辑敏感词"},on:{"on-cancel":e.cancel},model:{value:e.editWords,callback:function(t){e.editWords=t},expression:"editWords"}},[s("Form",{ref:"editItem",attrs:{model:e.editItem,rules:e.ruleValidate,"label-width":80}},[s("FormItem",{attrs:{label:"敏感词",prop:"editsenWord"}},[s("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"输入敏感词"},model:{value:e.editItem.editsenWord,callback:function(t){e.$set(e.editItem,"editsenWord",t)},expression:"editItem.editsenWord"}})],1)],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){e.editWords=!1}}},[e._v("取消")]),e._v(" "),s("Button",{attrs:{type:"primary",size:"large"},on:{click:e.ok}},[e._v("确定")])],1)],1),e._v(" "),s("Modal",{attrs:{title:"添加敏感词"},on:{"on-cancel":e.cancel},model:{value:e.addWords,callback:function(t){e.addWords=t},expression:"addWords"}},[s("Form",{ref:"addItem",attrs:{model:e.addItem,rules:e.ruleValidate,"label-width":80}},[s("FormItem",{attrs:{label:"敏感词",prop:"addsenWord"}},[s("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"输入敏感词"},model:{value:e.addItem.addsenWord,callback:function(t){e.$set(e.addItem,"addsenWord",t)},expression:"addItem.addsenWord"}})],1)],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){e.addWords=!1}}},[e._v("取消")]),e._v(" "),s("Button",{attrs:{type:"primary",size:"large"},on:{click:e.add}},[e._v("确定")])],1)],1),e._v(" "),s("Modal",{attrs:{title:"删除敏感词"},on:{"on-ok":e.delok,"on-cancel":e.cancel},model:{value:e.delWords,callback:function(t){e.delWords=t},expression:"delWords"}},[s("Row",[s("Col",{attrs:{span:"5"}},[e._v("确定删除敏感词")]),e._v(" "),s("Col",{staticStyle:{color:"red"},attrs:{span:"10"}},[e._v('"'+e._s(e.senword)+'"')])],1)],1)],1)},staticRenderFns:[]};var ia,ca=s("VU/8")(oa,ra,!1,function(e){s("xb25")},"data-v-524721db",null).exports,la={name:"AuthorityConfig",props:["props"],data:function(){return{cbData:{indeterminate:[],checkAll:[],adminConfig:[],checkAllGroup:[]}}},methods:{filterData:function(){var e=this;this.cbData.adminConfig.map(function(t){t.isChecked=!1,t.children.map(function(s){s.isChecked=!1,e.cbData.checkAllGroup.map(function(e){e.indexOf(s.menuName)>-1&&(t.isChecked=s.isChecked=!0)})})})},checkAllGroupChange:function(e,t){var s=this,a=this.cbData.adminConfig[t].children.length;this.cbData.adminConfig[t].children.map(function(n){e.length===a?(s.cbData.indeterminate[t]=!1,s.cbData.checkAll[t]=!0):e.length>0?(s.cbData.indeterminate[t]=!0,s.cbData.checkAll[t]=!1):(s.cbData.indeterminate[t]=!1,s.cbData.checkAll[t]=!1)}),this.filterData(),this.$emit("checkAllGroupChange",o()({},this.cbData))},handleCheckAll:function(e){var t=this;this.cbData.indeterminate[e]?this.cbData.checkAll[e]=!1:this.cbData.checkAll[e]=!this.cbData.checkAll[e],this.cbData.indeterminate[e]=!1,this.cbData.checkAll[e]?(this.cbData.checkAllGroup[e]=this.props.adminConfig[e].children.map(function(e){return e.menuName}),this.cbData.checkAllGroup[e].map(function(s){t.props.adminConfig[e].children.map(function(s){s.menuName&&(t.cbData.adminConfig[e].isChecked=!0,t.cbData.adminConfig[e].children.map(function(e){e.isChecked=!0}))})})):this.cbData.checkAllGroup[e]=[],this.filterData(),this.$emit("handleCheckAll",o()({},this.cbData))}},beforeCreate:function(){},created:function(){},mounted:function(){this.cbData=this.props}},ua={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Collapse",{attrs:{accordion:"",value:"1"}},[s("Panel",{attrs:{name:"1"}},[s("div",{attrs:{slot:"content"},slot:"content"},[e._l(e.props.adminConfig,function(t,a){return[s("Checkbox",{attrs:{indeterminate:e.props.indeterminate[a],value:e.props.checkAll[a]},nativeOn:{click:function(t){t.preventDefault(),e.handleCheckAll(a)}}},[e._v(e._s(t.menuName))]),e._v(" "),s("CheckboxGroup",{on:{"on-change":function(t){e.checkAllGroupChange(t,a)}},model:{value:e.props.checkAllGroup[a],callback:function(t){e.$set(e.props.checkAllGroup,a,t)},expression:"props.checkAllGroup[index]"}},e._l(t.children,function(t,a){return s("Checkbox",{key:a,attrs:{label:t.menuName}},[s("span",[e._v(e._s(t.menuName))])])}))]})],2)])],1)},staticRenderFns:[]},da={name:"Role",components:{xTable:Fs,xTableColumn:$s,AuthorityConfig:s("VU/8")(la,ua,!1,null,null,null).exports},data:function(){return{operation:"editDefault",curRoleCode:"",curRoleName:"",curRoleType:0,curTenant:{},dForm:{authorityType:"",roleName:""},aForm:{authorityType:"",roleName:""},eForm:{authorityType:"",roleName:""},rolePageData:[],curRoleId:"",totalCompanyNum:0,pageCompanyNum:1,showDefault:!1,totalNum:0,pageNum:1,pageSize:10,addRole:!1,showManageModal:!1,curRoleIndex:0,authorityType:"",searchKey:"",authorityConfig:{indeterminate:[],checkAll:[],adminConfig:[],checkAllGroup:[]},roleList:[{name:"默认角色",id:"1"},{name:"租户角色",id:"2"}],showModal:!1,tableData:[],curPageData:[],curCompanyPageData:[],showHeader:!0}},methods:(ia={checkAllGroupChange:function(e){this.authorityConfig=e},handleCheckAll:function(e){this.authorityConfig=e},initCbGroup:function(){var e=this;this.authorityConfig.adminConfig.map(function(t,s){var a=[];t.children.map(function(e){e.isChecked&&a.push(e.menuName)}),e.authorityConfig.checkAllGroup[s]=a,a.length==t.children.length?(e.authorityConfig.indeterminate[s]=!1,e.authorityConfig.checkAll[s]=!0):a.length>0?(e.authorityConfig.indeterminate[s]=!0,e.authorityConfig.checkAll[s]=!1):(e.authorityConfig.indeterminate[s]=!1,e.authorityConfig.checkAll[s]=!1)})},delCompanyRole:function(e){var t=this,s={data:{sysId:e.sysId},headers:ve.json};me.delRole(s).then(function(e){"0"==e.code?(t.$Message.info("删除租户角色成功"),t.$nextTick(function(){t.queryTenantRoleForPage()})):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})},addRoleOk:function(){var e=this,t={data:{roleName:this.aForm.roleName,permissionType:this.aForm.authorityType,roleType:2,tenantId:this.curTenant.sysId,menuList:this.getMenuList()},headers:ve.json};me.addRole(t).then(function(t){"0"==t.code?(e.$Message.info("新增角色成功"),e.queryTenantRoleForPage()):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},sortMenu:function(e){var t=this,s=[];e.map(function(e,a){"0"==e.parentCode?t.authorityConfig.adminConfig.push(e):s.push(e)}),this.mapChildren(s),this.initCbGroup()},addRoleBtn:function(){var e=this;this.addRole=!0;this.spliceArr(),me.queryAllForList({}).then(function(t){"0"==t.code?(e.tableData=t.resultData,e.sortMenu(t.resultData)):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},queryTenantRoleForPage:function(){var e=this,t={data:{pageNum:this.pageNum,pageSize:this.pageSize,tenantId:this.curTenant.sysId,tenantType:this.curTenant.tenantType},headers:ve.urlencoded};me.getTenantRole(t).then(function(t){"0"==t.code?e.rolePageData=t.resultData.list:e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},manageRole:function(e){this.showManageModal=!0,this.curTenant=e,this.queryTenantRoleForPage()},getMenuList:function(){var e=[];return this.authorityConfig.adminConfig.map(function(t,s){t.isChecked&&e.push(t.sysId),t.children.map(function(t){t.isChecked&&e.push(t.sysId)})}),e},modify:function(){var e=this,t=this,s={data:{sysId:t.curRoleId,roleCode:t.curRoleCode,roleName:"editDefault"==t.operation?t.dForm.roleName:t.eForm.roleName,roleType:t.curRoleType,permissionType:"editDefault"==t.operation?t.dForm.permissionType:t.eForm.permissionType,menuList:t.getMenuList()},headers:ve.json};me.editRole(s).then(function(s){"0"==s.code&&(e.$Message.info("修改角色菜单成功"),e.showDefault=!1,e.showModal=!1,"editDefault"==t.operation?t.changePageNum(1):t.queryTenantRoleForPage())},function(t){e.$Message.error(t)})},spliceArr:function(){this.authorityConfig.adminConfig.splice(0,this.authorityConfig.adminConfig.length),this.authorityConfig.checkAllGroup.splice(0,this.authorityConfig.checkAllGroup.length)},mapChildren:function(e){this.authorityConfig.adminConfig.map(function(t,s){var a=[];e.map(function(e){e.parentCode==t.menuCode&&a.push(e)}),t.children=a})}},ge()(ia,"initCbGroup",function(){var e=this;this.authorityConfig.adminConfig.map(function(t,s){var a=[];t.children.map(function(e){e.isChecked&&a.push(e.menuName)}),e.authorityConfig.checkAllGroup[s]=a,a.length==t.children.length?(e.authorityConfig.indeterminate[s]=!1,e.authorityConfig.checkAll[s]=!0):a.length>0?(e.authorityConfig.indeterminate[s]=!0,e.authorityConfig.checkAll[s]=!1):(e.authorityConfig.indeterminate[s]=!1,e.authorityConfig.checkAll[s]=!1)})}),ge()(ia,"getAuthority",function(){var e=this,t={data:{roleId:this.curRoleId},headers:ve.json};this.spliceArr(),me.getAuthority(t).then(function(t){"0"==t.code&&(e.tableData=t.resultData,e.sortMenu(t.resultData))},function(t){e.$Message.error(t)})}),ge()(ia,"editDefaultRole",function(e){this.showDefault=!0,this.operation="editDefault",this.curRoleId=e.sysId,this.curRoleCode=e.roleCode,this.curRoleType=e.roleType,this.dForm.permissionType=e.permissionType+"",this.dForm.roleName=e.roleName,this.getAuthority()}),ge()(ia,"editCompanyRole",function(e){this.showModal=!0,this.operation="editSelf",this.curRoleId=e.sysId,this.curRoleCode=e.roleCode,this.curRoleType=e.roleType,this.eForm.permissionType=e.permissionType+"",this.eForm.roleName=e.roleName,this.getAuthority()}),ge()(ia,"selectRole",function(e){this.curRoleIndex=e,this.showManageModal=!1,0==e?this.changePageNum(this.pageNum):this.changeCompanyPageNum(this.pageCompanyNum)}),ge()(ia,"ok",function(){this.showModal=!1,this.modify()}),ge()(ia,"cancel",function(){this.showModal=!1}),ge()(ia,"changePageNum",function(e){var t=this;try{var s={data:{pageNum:e,pageSize:this.pageSize},headers:ve.urlencoded};me.getDefaultRole(s).then(function(e){"0"==e.code?(t.totalNum=e.resultData.total,t.curPageData.splice(0,t.curPageData.length),t.curPageData=e.resultData.list):t.$Message.warning(e.message)},function(e){t.$Message.error(err)})}catch(e){this.$Message.info("查询默认角色列表出错")}}),ge()(ia,"changeCompanyPageNum",function(e){var t=this;try{var s={data:{pageNum:e,pageSize:this.pageSize},headers:ve.urlencoded};me.getCompanyRole(s).then(function(e){"0"==e.code&&(t.totalCompanyNum=e.resultData.total,t.curCompanyPageData.splice(0,t.curCompanyPageData.length),t.curCompanyPageData=e.resultData.list)},function(e){})}catch(e){this.$Message.info("查询默认角色列表出错")}}),ia),mounted:function(){this.changePageNum(1)}},ma={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Row",{staticClass:"role context"},[s("Row",{staticClass:"role-header"},[s("Col",{staticClass:"header-title",attrs:{span:"24"}},[e._v("角色列表")])],1),e._v(" "),s("Col",{staticClass:"role-list",attrs:{span:"4"}},[s("Row",{staticClass:"role-layout"},e._l(e.roleList,function(t,a){return s("Row",{key:a,class:{"role-item":!0,"selected-role":a==e.curRoleIndex},nativeOn:{click:function(t){e.selectRole(a)}}},[e._v(e._s(t.name))])}))],1),e._v(" "),s("Col",{staticClass:"role-info",attrs:{span:"20"}},[s("Row",{directives:[{name:"show",rawName:"v-show",value:0==e.curRoleIndex,expression:"curRoleIndex == 0"}]},[s("Row",{staticClass:"company-list"},[s("x-table",{ref:"default",attrs:{data:e.curPageData,"show-header":e.showHeader,"no-data-text":"没有数据"}},[s("x-table-column",{attrs:{title:"角色名",prop:"roleName"}}),e._v(" "),s("x-table-column",{attrs:{title:"权限类型",prop:"permissionType"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                "+e._s("1"==t.permissionType?"平台级":"租户级")+"\n                            ")]}}])}),e._v(" "),s("x-table-column",{attrs:{title:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Button",{attrs:{type:"text",size:"large",icon:"edit",title:"修改"},on:{click:function(s){e.editDefaultRole(t)}}},[e._v("修改")])]}}])})],1)],1),e._v(" "),s("Row",{staticClass:"page"},[s("Page",{attrs:{total:e.totalNum},on:{"on-change":e.changePageNum}})],1),e._v(" "),s("Modal",{attrs:{title:"修改默认角色",width:"600"},on:{"on-ok":e.modify,"on-cancel":e.cancel},model:{value:e.showDefault,callback:function(t){e.showDefault=t},expression:"showDefault"}},[s("Row",{staticClass:"company"},[s("Col",{staticStyle:{"text-align":"left","line-height":"32px"},attrs:{span:"10"}},[s("Row",[s("Col",{attrs:{span:"6"}},[e._v("权限类型")]),e._v(" "),s("Col",{attrs:{span:"18"}},[s("Select",{model:{value:e.dForm.permissionType,callback:function(t){e.$set(e.dForm,"permissionType",t)},expression:"dForm.permissionType"}},[s("Option",{attrs:{value:"1"}},[e._v("平台级")]),e._v(" "),s("Option",{attrs:{value:"2"}},[e._v("租户级")])],1)],1)],1)],1),e._v(" "),s("Col",{staticStyle:{"line-height":"32px"},attrs:{span:"14"}},[s("Row",[s("Col",{staticStyle:{"text-align":"right","padding-right":"10px"},attrs:{span:"6"}},[e._v("角色名称")]),e._v(" "),s("Col",{attrs:{span:"18"}},[s("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入角色名称"},model:{value:e.dForm.roleName,callback:function(t){e.$set(e.dForm,"roleName",t)},expression:"dForm.roleName"}})],1)],1)],1)],1),e._v(" "),s("Row",[s("authority-config",{attrs:{props:e.authorityConfig},on:{handleCheckAll:e.handleCheckAll,checkAllGroupChange:e.checkAllGroupChange}})],1)],1)],1),e._v(" "),s("Row",{directives:[{name:"show",rawName:"v-show",value:1==e.curRoleIndex&&!e.showManageModal,expression:"curRoleIndex == 1 && !showManageModal"}]},[s("Row",{staticClass:"company-list"},[s("x-table",{ref:"selection",attrs:{data:e.curCompanyPageData,"show-header":e.showHeader,"no-data-text":"没有数据"}},[s("x-table-column",{attrs:{title:"租户名称",prop:"tenantName"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Row",{staticClass:"company-name"},[s("span",{model:{value:t.tenantName,callback:function(s){e.$set(t,"tenantName",s)},expression:"scope.tenantName"}},[e._v(e._s(t.tenantName))])])]}}])}),e._v(" "),s("x-table-column",{attrs:{title:"租户属性",prop:"tenantType"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                "+e._s("1"==t.tenantType?"平台":"2"==t.tenantType?"外部租户":"系统租户")+"\n                            ")]}}])}),e._v(" "),s("x-table-column",{attrs:{title:"联系电话",prop:"tenantPhone"}}),e._v(" "),s("x-table-column",{attrs:{title:"坐席上限",prop:"maxSeatNum"}}),e._v(" "),s("x-table-column",{attrs:{title:"角色数",prop:"roleNum"}}),e._v(" "),s("x-table-column",{attrs:{title:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Button",{attrs:{type:"text",size:"large",icon:"edit",title:"角色管理"},on:{click:function(s){e.manageRole(t)}}},[e._v("角色管理")])]}}])})],1)],1),e._v(" "),s("Row",{staticClass:"page"},[s("Page",{attrs:{total:e.totalCompanyNum},on:{"on-change":e.changeCompanyPageNum}})],1)],1),e._v(" "),s("Row",{directives:[{name:"show",rawName:"v-show",value:e.showManageModal,expression:"showManageModal"}],staticClass:"role-manage"},[s("Row",{staticClass:"nav"},[s("Col",{staticClass:"back",attrs:{span:"4"},nativeOn:{click:function(t){e.showManageModal=!1}}},[s("Icon",{attrs:{type:"chevron-left"}}),e._v("  返回 "+e._s(e.curTenant.tenantName)+"\n                    ")],1),e._v(" "),s("Col",{staticStyle:{"text-align":"right","padding-right":"10px"},attrs:{span:"20"}},[s("Button",{attrs:{type:"primary",icon:"plus"},on:{click:e.addRoleBtn}},[e._v("新增角色")]),e._v(" "),s("Modal",{attrs:{title:"新增角色",width:"600"},on:{"on-ok":e.addRoleOk,"on-cancel":e.cancel},model:{value:e.addRole,callback:function(t){e.addRole=t},expression:"addRole"}},[s("Row",{staticClass:"company"},[s("Col",{staticStyle:{"text-align":"left","line-height":"32px"},attrs:{span:"10"}},[s("Row",[s("Col",{attrs:{span:"6"}},[e._v("权限类型")]),e._v(" "),s("Col",{attrs:{span:"18"}},[s("Select",{model:{value:e.aForm.authorityType,callback:function(t){e.$set(e.aForm,"authorityType",t)},expression:"aForm.authorityType"}},[s("Option",{attrs:{value:"1"}},[e._v("平台级")]),e._v(" "),s("Option",{attrs:{value:"2"}},[e._v("租户级")])],1)],1)],1)],1),e._v(" "),s("Col",{staticStyle:{"text-align":"right","line-height":"32px"},attrs:{span:"14"}},[s("Row",[s("Col",{attrs:{span:"6"}},[e._v("角色名称")]),e._v(" "),s("Col",{attrs:{span:"18"}},[s("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入角色名称"},model:{value:e.aForm.roleName,callback:function(t){e.$set(e.aForm,"roleName",t)},expression:"aForm.roleName"}})],1)],1)],1)],1),e._v(" "),s("Row",[s("authority-config",{attrs:{props:e.authorityConfig},on:{handleCheckAll:e.handleCheckAll,checkAllGroupChange:e.checkAllGroupChange}})],1)],1)],1)],1),e._v(" "),s("Row",{staticClass:"company-list"},[s("x-table",{ref:"default",attrs:{data:e.rolePageData,"show-header":e.showHeader,"no-data-text":"没有数据"}},[s("x-table-column",{attrs:{title:"角色名",prop:"roleName"}}),e._v(" "),s("x-table-column",{attrs:{title:"角色类型",prop:"roleType"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                "+e._s("1"==t.roleType?"默认角色":"自定义")+"\n                            ")]}}])}),e._v(" "),s("x-table-column",{attrs:{title:"权限类型",prop:"permissionType"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                                "+e._s("1"==t.permissionType?"平台级":"租户级")+"\n                            ")]}}])}),e._v(" "),s("x-table-column",{attrs:{title:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Button",{attrs:{type:"text",size:"large",icon:"edit",title:"修改"},on:{click:function(s){e.editCompanyRole(t)}}}),e._v(" "),s("Button",{attrs:{type:"text",size:"large",icon:"trash-a",title:"删除"},on:{click:function(s){e.delCompanyRole(t)}}})]}}])})],1)],1),e._v(" "),s("Row",{staticClass:"page"},[s("Page",{attrs:{total:e.totalNum},on:{"on-change":e.changePageNum}})],1),e._v(" "),s("Modal",{attrs:{title:"修改租户角色",width:"600"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[s("Row",{staticClass:"company"},[s("Col",{staticStyle:{"text-align":"left","line-height":"32px"},attrs:{span:"10"}},[s("Row",[s("Col",{attrs:{span:"6"}},[e._v("权限类型")]),e._v(" "),s("Col",{attrs:{span:"18"}},[s("Select",{model:{value:e.eForm.permissionType,callback:function(t){e.$set(e.eForm,"permissionType",t)},expression:"eForm.permissionType"}},[s("Option",{attrs:{value:"1"}},[e._v("平台级")]),e._v(" "),s("Option",{attrs:{value:"2"}},[e._v("租户级")])],1)],1)],1)],1),e._v(" "),s("Col",{staticStyle:{"text-align":"right","line-height":"32px"},attrs:{span:"14"}},[s("Col",{attrs:{span:"6"}},[e._v("角色名称")]),e._v(" "),s("Col",{attrs:{span:"18"}},[s("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入角色名称"},model:{value:e.eForm.roleName,callback:function(t){e.$set(e.eForm,"roleName",t)},expression:"eForm.roleName"}})],1)],1)],1),e._v(" "),s("Row",[s("authority-config",{attrs:{props:e.authorityConfig},on:{handleCheckAll:e.handleCheckAll,checkAllGroupChange:e.checkAllGroupChange}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var pa=s("VU/8")(da,ma,!1,function(e){s("+EMq")},null,null).exports,fa={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"subrole"})},staticRenderFns:[]},ha=s("VU/8")(null,fa,!1,null,null,null).exports,ga={name:"SessionHistory",data:function(){return{curTenantIndex:-1,tenantList:[],curTenant:{},curPageData:[{tenantName:"aaaaa",csGroupNum:"2",csUserNum:"10",maxSeatNum:"20",managerType:"bbbb"}],showHeader:!0,totalNum:0,pageSize:10,pageNum:1}},components:{xTable:Fs,xTableColumn:$s},computed:{servedTenant:{get:function(){return this.$store.state.servedTenant},set:function(e){this.$store.dispatch("setServedTenant",e)}}},methods:{reCall:function(e){var t=this,s={data:{sessionId:e.sessionId,tenantId:this.curTenant.sysId,customerId:e.busiId,seatId:e.seatId,sessionSource:e.customerChannel},headers:ve.json};$t.reCall(s).then(function(e){"0"==e.code?(t.$Message.info("回呼成功"),t.queryHistory()):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})},queryHistory:function(){var e=this,t={data:{tenantId:this.curTenant.sysId,pageSize:this.pageSize,pageNum:this.pageNum},headers:ve.json};$t.queryHistory(t).then(function(t){"0"==t.code?(e.totalNum=t.resultData.total,console.log("res.resultData.list %o",t.resultData.list),e.curPageData=t.resultData.list,e.curPageData.map(function(e,t){e.startTime=e.startTime?Object(ke.formatDate)(new Date(1e3*e.startTime),"yy-MM-dd HH:mm:ss"):"",Object(ke.isNull)(e.nickName)&&(e.nickName="用户"+e.busiId),1==e.customerChannel?e.channelType="APP":e.channelType="微信小程序"})):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},selectTenant:function(e,t){this.curTenantIndex=t,this.curTenant=e,this.queryHistory()},changePageNum:function(e){this.pageNum=e,this.queryHistory()}},mounted:function(){var e=this;this.tenantList=this.servedTenant,this.tenantList&&this.tenantList.map(function(t,s){0==s&&e.selectTenant(t,s)})}},va={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Row",{staticClass:"session-history"},[s("Row",{staticClass:"top"},[s("Col",{staticStyle:{"font-size":"16px","padding-left":"40px","font-weight":"bold"},attrs:{span:"24"}},[e._v("会话历史")])],1),e._v(" "),s("Row",[s("Col",{staticClass:"tenant-list",attrs:{span:"4"}},[s("Row",{staticClass:"tenant-layout"},[s("Row",{staticClass:"title"},[e._v("分组列表("+e._s(e.tenantList.length||0)+")")]),e._v(" "),e._l(e.tenantList,function(t,a){return s("Row",{key:a,class:{"tenant-item":!0,"selected-tenant":a==e.curTenantIndex},nativeOn:{click:function(s){e.selectTenant(t,a)}}},[e._v(e._s(t.tenantName))])})],2)],1),e._v(" "),s("Col",{staticClass:"history-info",attrs:{span:"20"}},[s("Row",{staticClass:"history-list"},[s("x-table",{ref:"default",attrs:{data:e.curPageData,"show-header":e.showHeader,"no-data-text":"没有数据"}},[s("x-table-column",{attrs:{title:"昵称",prop:"nickName"}}),e._v(" "),s("x-table-column",{attrs:{title:"发起时间",prop:"startTime"}}),e._v(" "),s("x-table-column",{attrs:{title:"渠道",prop:"channelType"}}),e._v(" "),s("x-table-column",{attrs:{title:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Button",{attrs:{type:"text",icon:"arrow-return-right",title:"回呼"},on:{click:function(s){e.reCall(t)}}},[e._v("回呼")])]}}])})],1)],1),e._v(" "),s("Row",{staticClass:"page",attrs:{type:"flex",justify:"end"}},[s("Page",{attrs:{total:e.totalNum},on:{"on-change":e.changePageNum}})],1)],1)],1)],1)},staticRenderFns:[]};var ya=s("VU/8")(ga,va,!1,function(e){s("QSLo")},null,null).exports,ba={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"upload"},[e._l(e.uploadList,function(t){return s("div",{staticClass:"demo-upload-list"},["finished"===t.status?[s("img",{attrs:{src:t.url}}),e._v(" "),s("div",{staticClass:"demo-upload-list-cover"},[s("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(s){e.handleRemove(t)}}})],1)]:[t.showProgress?s("Progress",{attrs:{percent:t.percentage,"hide-info":""}}):e._e()]],2)}),e._v(" "),s("Upload",{ref:"upload",class:{disabled:e.uploadDisabled},staticStyle:{display:"inline-block",width:"58px"},attrs:{"show-upload-list":e.showUploadList,"on-success":e.handleSuccess,format:["jpg","jpeg","png"],"max-size":2048,"on-format-error":e.handleFormatError,"on-exceeded-size":e.handleMaxSize,"before-upload":e.handleBeforeUpload,"on-progress":e.onProgress,multiple:e.multiple,type:"select",action:"/sys/tenant/uploadTenantImg"}},[s("div",{staticClass:"upload--picture-card",staticStyle:{width:"58px",height:"58px","line-height":"58px"}},[s("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)])],2)},staticRenderFns:[]};var Ca={data:function(){var e;return{showUpload:!1,showImg:!1,ruleValidate:{tenantName:[{required:!0,message:"请输入企业名称",trigger:"blur"},{type:"string",max:50,message:"字符长度最多不超过50个"}],tenantPhone:[{required:!0,message:"联系电话不能为空",trigger:"blur"},(e={type:"string",pattern:/^1[3,4,5,7,8][0-9]{9}$/},ge()(e,"pattern",/^$|(0[0-9]{2,3}\-)?([2-9][0-9]{6,7})+(\-[0-9]{1,4})?$/),ge()(e,"message","手机号输入格式不正确"),ge()(e,"trigger","blur"),e)],tenantAddress:[{required:!0,message:"请输入地址",trigger:"blur"},{type:"string",max:100,message:"字符长度最多不超过100个",trigger:"blur"}],remark:[{required:!0,message:"请输入备注",trigger:"blur"},{type:"string",max:250,message:"字符长度最多不超过250个",trigger:"blur"}]},formItem:{}}},components:{Upload:s("VU/8")({name:"Upload2",props:["props"],data:function(){return{multiple:!1,showUploadList:!1,imgName:"头像",visible:!1,uploadList:[]}},methods:{onProgress:function(e,t,s){this.$emit("uploadSuc")},handleView:function(e){this.imgName=e,this.visible=!0},handleRemove:function(e){var t=this.$refs.upload.fileList;this.$refs.upload.fileList.splice(t.indexOf(e),1)},handleSuccess:function(e,t){t.url=e.resultData,this.props.tenantLogo=e.resultData},handleFormatError:function(e){this.$Notice.warning({title:"图片类型有误",desc:"图片类型 "+e.name+" 必须为jpg,jpeg,png"})},handleMaxSize:function(e){this.$Notice.warning({title:"图片大小超出",desc:"File  "+e.name+" 图片大小不能超过2MB"})},handleBeforeUpload:function(){var e=this.uploadList.length<1;return e||this.$Notice.warning({title:"Up to five pictures can be uploaded."}),e}},computed:{uploadDisabled:function(){return this.uploadList.length>0}},mounted:function(){this.uploadList=this.$refs.upload.fileList}},ba,!1,function(e){s("Z12n")},null,null).exports},methods:{uploadSuc:function(){this.showImg=!1},queryTenantInfo:function(){var e=this,t={headers:ve.json};ws.queryTenantInfo(t).then(function(t){"0"==t.code?(e.formItem=t.resultData,""!=e.formItem.tenantLogo&&void 0!=e.formItem.tenantLogo&&null!=e.formItem.tenantLogo&&(e.showImg=!0)):e.$Message.info(t.message)})},submit:function(){var e=this;this.$refs.formItem.validate(function(t){if(t){var s={data:{sysId:e.formItem.sysId,tenantName:e.formItem.tenantName,tenantLogo:e.formItem.tenantLogo,tenantPhone:e.formItem.tenantPhone,tenantAddress:e.formItem.tenantAddress,remark:e.formItem.remark},headers:ve.json};ws.saveTenant(s).then(function(t){"0"==t.code?e.$Message.info("保存成功"):e.$Message.info(t.message)})}})}},mounted:function(){this.queryTenantInfo()}},wa={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Form",{ref:"formItem",staticClass:"enterprise-info",attrs:{model:e.formItem,"label-width":80,rules:e.ruleValidate}},[s("Row",{staticClass:"form-title"},[e._v("企业基本信息")]),e._v(" "),s("FormItem",{attrs:{label:"企业logo"}},[s("Row",{on:{mouseover:function(t){e.showUpload=!0},mouseleave:function(t){e.showUpload=!1}}},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.showImg,expression:"showImg"}],staticClass:"tenant-logo",attrs:{src:e.formItem.tenantLogo}}),e._v(" "),s("upload",{attrs:{props:e.formItem},on:{uploadSuc:e.uploadSuc}})],1)],1),e._v(" "),s("FormItem",{attrs:{label:"企业名称",prop:"tenantName"}},[s("Input",{attrs:{placeholder:"请输入企业名称!"},model:{value:e.formItem.tenantName,callback:function(t){e.$set(e.formItem,"tenantName",t)},expression:"formItem.tenantName"}})],1),e._v(" "),s("FormItem",{attrs:{label:"租户ID",prop:"sysId"}},[s("Input",{attrs:{placeholder:"请输入租户ID!",icon:"ios-lock-outline",disabled:""},model:{value:e.formItem.sysId,callback:function(t){e.$set(e.formItem,"sysId",t)},expression:"formItem.sysId"}})],1),e._v(" "),s("FormItem",{attrs:{label:"电话",prop:"tenantPhone"}},[s("Input",{attrs:{placeholder:"请输入电话号码"},model:{value:e.formItem.tenantPhone,callback:function(t){e.$set(e.formItem,"tenantPhone",t)},expression:"formItem.tenantPhone"}})],1),e._v(" "),s("FormItem",{attrs:{label:"地址",prop:"tenantAddress"}},[s("Input",{attrs:{placeholder:"请输入联系地址"},model:{value:e.formItem.tenantAddress,callback:function(t){e.$set(e.formItem,"tenantAddress",t)},expression:"formItem.tenantAddress"}})],1),e._v(" "),s("FormItem",{attrs:{label:"备注",prop:"remark"}},[s("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"备注信息"},model:{value:e.formItem.remark,callback:function(t){e.$set(e.formItem,"remark",t)},expression:"formItem.remark"}})],1),e._v(" "),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],1)},staticRenderFns:[]};var Ia=s("VU/8")(Ca,wa,!1,function(e){s("E4LF")},"data-v-721131c7",null).exports,Aa={data:function(){return{curRouteId:"",skillGroupId:"",ruleCode:"",enterType:"",curGroup:-1,customerList:[],ruleList:[],entranceList:[],model1:"",modal2:!1}},methods:{changEntry:function(e){this.enterType=e.value},selectGroup:function(e,t){this.curGroup=t,this.skillGroupId=e.busId},customerpop:function(){var e=this;this.modal2=!0;var t={headers:ve.json};ws.querySkillGroupByUser(t).then(function(t){"0"==t.code?e.customerList=t.resultData:e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},ok:function(){var e=this;this.ruleList.map(function(t){"入口指定"==t.ruleName&&(e.curRouteId=t.busiId,e.ruleCode=t.ruleCode)});var t={data:{busiId:this.curRouteId,skillGroupId:this.skillGroupId,ruleCode:this.ruleCode,enterType:this.enterType},headers:ve.json};ws.saveRuleAndSkillGroup(t).then(function(t){"0"==t.code?(e.$Message.info("绑定成功"),e.queryRouteByTenantId()):e.$Message.info(t.message)},function(t){e.$Message.error(t)})},cancel:function(){},queryRouteByTenantId:function(){var e=this,t={headers:ve.json};ws.queryRouteByTenantId(t).then(function(t){if("0"==t.code){e.ruleList=t.resultData.sort((s="rulePriority",function(e,t){return e[s]-t[s]}))}else e.$Message.info(t.message);var s},function(t){e.$Message.error(t)})},queryEntryTypeList:function(){var e=this,t={headers:ve.json};ws.queryEntryTypeList(t).then(function(t){"0"==t.code?e.entranceList=t.resultData:e.$Message.info(t.message)},function(t){e.$Message.error(t)})}},mounted:function(){var e=this;this.$dragging.$on("dragged",function(e){e.value}),this.$dragging.$on("dragend",function(t){var s={data:e.ruleList.map(function(e,t){return{tenantRRouteId:e.tenantRRouteId,rulePriority:t+1}}),headers:ve.json};ws.updateRouteById(s).then(function(t){"0"==t.code?e.$Message.info("修改成功"):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})}),this.queryRouteByTenantId(),this.queryEntryTypeList()}},xa={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"sessionRule"},[s("Row",{staticClass:"top"},[s("Row",[e._v("会话分配规则")])],1),e._v(" "),s("Row",{staticClass:"content"},[s("Row",{staticClass:"rule-tips"},[e._v("会话分配的优先级由上至下，上下拖动关联指定等窗口调整优先级。其中，默认指定的优先级最低，且不可调整。")]),e._v(" "),e._l(e.ruleList,function(t,a){return s("Row",{directives:[{name:"dragging",rawName:"v-dragging",value:{item:t,list:e.ruleList,group:"ruleinfo"},expression:"{item: rule, list: ruleList, group: 'ruleinfo'}"}],key:a,staticClass:"rule-order"},[s("Col",{staticClass:"numbel",attrs:{span:"1"}},[e._v(e._s(a+1))]),e._v(" "),s("Col",{staticClass:"rule-text",attrs:{span:"12"}},[s("p",[e._v(e._s(t.ruleName))])]),e._v(" "),s("Col",{staticStyle:{"margin-top":"15px"},attrs:{span:"10",align:"right"}},["入口指定"==t.ruleName?[s("Select",{staticStyle:{width:"200px","text-align":"left"},attrs:{"label-in-value":""},on:{"on-change":e.changEntry},model:{value:e.model1,callback:function(t){e.model1=t},expression:"model1"}},e._l(e.entranceList,function(t){return s("Option",{key:t.entryType,attrs:{value:t.entryType}},[e._v(e._s(t.entryTypeName))])})),e._v(" "),s("Button",{attrs:{type:"primary"},nativeOn:{click:function(t){return e.customerpop(t)}}},[e._v("绑定客服组")])]:e._e()],2)],1)})],2),e._v(" "),s("Modal",{attrs:{title:"请选择相应的客服组"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.modal2,callback:function(t){e.modal2=t},expression:"modal2"}},[s("Row",{staticStyle:{"margin-left":"50px"}},e._l(e.customerList,function(t,a){return s("Col",{key:a,class:{"group-name":!0,selected:a==e.curGroup},attrs:{span:"8"},nativeOn:{click:function(s){e.selectGroup(t,a)}}},[e._v("\n                "+e._s(t.groupName)+"\n             ")])}))],1)],1)},staticRenderFns:[]};var ka=s("VU/8")(Aa,xa,!1,function(e){s("72zt")},"data-v-7a27bc73",null).exports,_a={data:function(){return{tagType:"root",showChild:!1,parentCode:"0",curTag:{},tag:{},tagSwitch:!1,activeClass:-1,editModal:!1,addModal:!1,value:"",tagList:[],subTagList:[],ruleValidate:{tagCode:[{required:!0,message:"标签编码不能为空",trigger:"blur"}],tagName:[{required:!0,message:"标签名称不能为空",trigger:"change"},{type:"string",max:20,message:"字符长度最多不超过20个"}]}}},methods:{querySessionTag:function(e){var t=this,s={data:{parentCode:"root"==e?"0":this.parentCode},headers:ve.json};ws.querySessionTag(s).then(function(s){"0"==s.code?"root"==e?t.tagList=s.resultData:t.subTagList=s.resultData:t.$Message.warning(s.message)},function(e){t.$Message.error(e)})},add:function(){var e=this;this.$refs.tag.validate(function(t){if(t){var s={data:{tagCode:e.tag.tagCode,tagName:e.tag.tagName,parentCode:"root"==e.tagType?"0":e.parentCode},headers:ve.json};ws.addSessionTag(s).then(function(t){"0"==t.code?(e.$Message.info("新增标签成功"),e.querySessionTag(e.tagType),e.addModal=!1):(e.addModal=!0,e.$Message.warning(t.message))},function(t){e.$Message.error(t)})}})},addTag:function(e){this.addModal=!0,this.tagType=e},showList:function(e,t){this.showChild=!0,this.parentCode=e.tagCode,this.querySessionTag("child"),this.activeClass=t},removerow:function(e,t){var s=this,a={data:{busiId:e.busiId},headers:ve.json};ws.deleteSessionTag(a).then(function(e){"0"==e.code?(s.$Message.info("删除标签成功"),s.querySessionTag(s.tagType)):s.$Message.info(e.message)},function(e){s.$Message.error(e)})},editOk:function(){var e=this;this.$refs.curTag.validate(function(t){if(t){var s={data:{busiId:e.curTag.busiId,tagName:e.curTag.tagName},headers:ve.json};ws.updateSessionTag(s).then(function(t){"0"==t.code?(e.$Message.info("修改成功"),e.querySessionTag(),e.editModal=!1):(e.editModal=!0,e.$Message.info(t.message))},function(t){e.$Message.error(t)})}})},cancel:function(){},edit:function(e,t){this.editModal=!0,this.curTag=e},change:function(e){this.updateSessionTagSetting()},querySessionTagSetting:function(){var e=this,t={headers:ve.json};ws.querySessionTagSetting(t).then(function(t){"0"==t.code?e.tagSwitch=1!=t.resultData.addSessionTagSwitch:e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},updateSessionTagSetting:function(){var e=this,t={data:{addSessionTagSwitch:1==this.tagSwitch?0:1},headers:ve.json};ws.updateSessionTagSetting(t).then(function(t){"0"==t.code?e.$Message.info("修改开关成功"):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})}},mounted:function(){this.querySessionTag("root"),this.querySessionTagSetting()}},Sa={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"session-tag"},[s("Row",{staticClass:"top"},[s("Col",{staticStyle:{"text-align":"left"},attrs:{span:"3"}},[s("h3",[e._v("会话标签")])]),e._v(" "),s("Col",{staticStyle:{"text-align":"right","padding-right":"40px"},attrs:{span:"21"}},[e._v("\n            会话结束时强制添加会话标签\n            "),s("i-switch",{attrs:{size:"large"},on:{"on-change":e.change},model:{value:e.tagSwitch,callback:function(t){e.tagSwitch=t},expression:"tagSwitch"}})],1)],1),e._v(" "),s("Row",{staticClass:"tag-layout"},[s("Col",{staticClass:"tag-list",attrs:{span:"7"}},[e._l(e.tagList,function(t,a){return s("Row",{key:a,staticClass:"tag-item label",class:{active:e.activeClass==a}},[s("Col",{staticClass:"tag-text",attrs:{span:"18",title:t.tagName},nativeOn:{click:function(s){e.showList(t,a)}}},[e._v(e._s(t.tagName))]),e._v(" "),s("Col",{staticStyle:{"text-align":"right"},attrs:{span:"5"}},[s("div",{staticClass:"icon"},[s("Icon",{attrs:{type:"edit"},nativeOn:{click:function(s){e.edit(t,a)}}}),e._v(" "),s("Icon",{attrs:{type:"trash-a"},nativeOn:{click:function(s){e.removerow(t,a)}}})],1)])],1)}),e._v(" "),s("Row",{staticClass:"tag-item add-btn",nativeOn:{click:function(t){e.addTag("root")}}},[s("Icon",{attrs:{type:"android-add"}}),e._v("\n                添加标签\n            ")],1)],2),e._v(" "),s("Col",{directives:[{name:"show",rawName:"v-show",value:e.showChild,expression:"showChild"}],staticClass:"tag-list child",attrs:{span:"7"}},[e._l(e.subTagList,function(t,a){return s("Row",{key:a,staticClass:"tag-item label"},[s("Col",{staticClass:"tag-text",attrs:{span:"18",title:t.tagName}},[e._v(e._s(t.tagName))]),e._v(" "),s("Col",{staticStyle:{"text-align":"right"},attrs:{span:"5"}},[s("div",{staticClass:"icon"},[s("Icon",{attrs:{type:"edit"},nativeOn:{click:function(s){e.edit(t,a)}}}),e._v(" "),s("Icon",{attrs:{type:"trash-a"},nativeOn:{click:function(s){e.removerow(t,a)}}})],1)])],1)}),e._v(" "),s("Row",{staticClass:"tag-item add-btn",nativeOn:{click:function(t){e.addTag("child")}}},[s("Icon",{attrs:{type:"android-add"}}),e._v("\n                添加子标签\n            ")],1)],2)],1),e._v(" "),s("Modal",{attrs:{title:"编辑"},on:{"on-ok":function(t){e.editOk()},"on-cancel":e.cancel},model:{value:e.editModal,callback:function(t){e.editModal=t},expression:"editModal"}},[s("Form",{ref:"curTag",attrs:{model:e.curTag,rules:e.ruleValidate}},[s("FormItem",{attrs:{labelWidth:100,label:"标签编码",prop:"tagCode"}},[s("Input",{staticStyle:{width:"300px"},model:{value:e.curTag.tagCode,callback:function(t){e.$set(e.curTag,"tagCode",t)},expression:"curTag.tagCode"}})],1),e._v(" "),s("FormItem",{attrs:{labelWidth:100,label:"标签名称",prop:"tagName"}},[s("Input",{staticStyle:{width:"300px"},model:{value:e.curTag.tagName,callback:function(t){e.$set(e.curTag,"tagName",t)},expression:"curTag.tagName"}})],1)],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){e.editModal=!1}}},[e._v("取消")]),e._v(" "),s("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.editOk()}}},[e._v("确定")])],1)],1),e._v(" "),s("Modal",{attrs:{title:"添加"},on:{"on-ok":function(t){e.add()},"on-cancel":e.cancel},model:{value:e.addModal,callback:function(t){e.addModal=t},expression:"addModal"}},[s("Form",{ref:"tag",attrs:{model:e.tag,rules:e.ruleValidate}},[s("FormItem",{attrs:{labelWidth:100,label:"标签编码",prop:"tagCode"}},[s("Input",{staticStyle:{width:"300px"},model:{value:e.tag.tagCode,callback:function(t){e.$set(e.tag,"tagCode",t)},expression:"tag.tagCode"}})],1),e._v(" "),s("FormItem",{attrs:{labelWidth:100,label:"标签名称",prop:"tagName"}},[s("Input",{staticStyle:{width:"300px"},model:{value:e.tag.tagName,callback:function(t){e.$set(e.tag,"tagName",t)},expression:"tag.tagName"}})],1)],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){e.addModal=!1}}},[e._v("取消")]),e._v(" "),s("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.add()}}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var Ta=s("VU/8")(_a,Sa,!1,function(e){s("ZrVV")},"data-v-87942eb4",null).exports,Ma=s("mvHQ"),Na=s.n(Ma),Ra={data:function(){return{trueVal:"0",falseVal:"1",min:0,searchKey:"",tagList:[],showSubTag:!1,curSubTagList:[],selectedTag:[],remarkText:"",addTagModal:!1,busiId:"",tenantId:"",formItem:{configType:"1",configBody:{dispatcherName:"",endMsgSwitch:1,endMsg:"",greetingSwitch:1,greetings:""}},customerForm:{hours:0,minitues:0,seconds:1,configType:"2",configBody:{seatTimeout:"",seatRemindSwitch:1,seatRemindCustomerSwitch:"1",seatRemindCustomerMsg:"",seatAlarmRecordSwitch:1}},visitorForm:{hours:0,minitues:0,seconds:0,lasthours:0,lastmintues:0,configType:"3",configBody:{customerTimeoutSwitch:"1",customerTimeout:"",customerRemindNum:0,customerTimeoutMsg:"",customerLastTimeout:""}},ruleValidate:{"configBody.dispatcherName":[{type:"string",max:50,message:"客服昵称最多不超过50个"}],"configBody.endMsg":[{type:"string",max:100,message:"字符长度最多不超过100个",trigger:"blur"}],"configBody.greetings":[{type:"string",max:100,message:"字符长度最多不超过100个",trigger:"blur"}],"configBody.seatRemindCustomerMsg":[{type:"string",max:200,message:"字符长度最多不超过200个",trigger:"blur"}],"configBody.customerTimeoutMsg":[{type:"string",max:200,message:"字符长度最多不超过200个",trigger:"blur"}]}}},methods:{closeTag:function(){this.selectedTag.splice(0,this.selectedTag.length),this.visitorForm.configBody.endSessionTagCode="",this.visitorForm.configBody.endSessionTagName="",this.visitorForm.configBody.endParentSessionTagCode="",this.visitorForm.configBody.endParentSessionTagName=""},querySessionTag:function(e){var t=this,s={data:{parentCode:"root"==e?"0":this.parentCode},headers:ve.json};ws.querySessionTag(s).then(function(s){"0"==s.code?"root"==e?t.tagList=s.resultData:t.subTagList=s.resultData:t.$Message.warning(s.message)},function(e){t.$Message.error(e)})},addTag:function(e){if("popup"==e)this.addTagModal=!0,this.querySessionTag("root"),this.querySessionTag("child");else{var t={};this.selectedTag[0].children.map(function(e,s){t.endSessionTagCode=e.tagCode,t.endSessionTagName=e.tagName}),t.endParentSessionTagCode=this.selectedTag[0].tagCode,t.endParentSessionTagName=this.selectedTag[0].tagName,t.endSessionRemark=this.remarkText,this.visitorForm.configBody=na()(this.visitorForm.configBody,t)}},selectTag:function(e){var t=this;"0"==e.parentCode?(this.showSubTag=!0,this.curSubTagList=this.subTagList.filter(function(t,s){return t.parentCode==e.tagCode})):(this.selectedTag.splice(0,this.selectedTag.length),this.tagList.map(function(s,a){s.tagCode==e.parentCode&&(s.children=[],s.children.push(e),t.selectedTag.push(s))}))},querySysConfigByTenantId:function(){var e=this,t=this,s={data:{},headers:ve.json};ws.querySysConfigByTenantId(s).then(function(s){"0"==s.code&&s.resultData.map(function(s,a){"1"==s.configType&&(s.configBody=JSON.parse(s.configBody),v()(s.configBody).map(function(e,t){e.indexOf("switch")>-1&&(e+="")}),t.formItem=s);if("2"==s.configType&&(s.configBody=JSON.parse(s.configBody),v()(s.configBody).map(function(e,t){e.indexOf("switch")>-1&&(e+="")}),t.customerForm=s,s.configBody.seatTimeout)){var n=parseInt(s.configBody.seatTimeout/3600),o=parseInt((s.configBody.seatTimeout-3600*n)/60),r=s.configBody.seatTimeout%60;e.customerForm.hours=n,e.customerForm.minitues=o,e.customerForm.seconds=r}if("3"==s.configType&&(s.configBody=JSON.parse(s.configBody),v()(s.configBody).map(function(e,t){e.indexOf("switch")>-1&&(e+="")}),t.visitorForm=s,s.configBody.customerTimeout)){var i=parseInt(s.configBody.customerTimeout/3600),c=parseInt((s.configBody.customerTimeout-3600*i)/60);e.visitorForm.hours=i,e.visitorForm.minitues=c;var l=parseInt(s.configBody.customerLastTimeout/3600),u=parseInt((s.configBody.customerLastTimeout-3600*l)/60);e.visitorForm.lasthours=l,e.visitorForm.lastminitues=u}})})},switchChange:function(e){},submit:function(){var e=this;this.$refs.formItem.validate(function(t){if(t){var s={data:{busiId:e.formItem.busiId,tenantId:e.formItem.tenantId,configBody:Na()(e.formItem.configBody),configType:e.formItem.configType},headers:ve.json};ws.saveBusiSysConfig(s).then(function(t){"0"==t.code?(e.$Message.info("自动消息设置成功"),e.querySysConfigByTenantId()):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})}})},submitCustomer:function(){var e=this;this.customerForm.configBody.seatTimeout=3600*this.customerForm.hours+60*this.customerForm.minitues+this.customerForm.seconds,this.$refs.customerForm.validate(function(t){if(t){var s={data:{busiId:e.customerForm.busiId,tenantId:e.customerForm.tenantId,configBody:Na()(e.customerForm.configBody),configType:e.customerForm.configType},headers:ve.json};ws.saveBusiSysConfig(s).then(function(t){"0"==t.code?(e.$Message.info("客服超时未回复设置成功"),e.querySysConfigByTenantId()):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})}})},submitVisitor:function(){var e=this;this.visitorForm.configBody.customerTimeout=3600*this.visitorForm.hours+60*this.visitorForm.minitues,this.visitorForm.configBody.customerLastTimeout=3600*this.visitorForm.lasthours+60*this.visitorForm.lastminitues,this.$refs.visitorForm.validate(function(t){if(t){var s={data:{busiId:e.visitorForm.busiId,tenantId:e.visitorForm.tenantId,configBody:Na()(e.visitorForm.configBody),configType:"3"},headers:ve.json};ws.saveBusiSysConfig(s).then(function(t){"0"==t.code?(e.$Message.info("访客超时未回复自动结束会话设置成功"),e.querySysConfigByTenantId()):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})}})}},mounted:function(){this.querySysConfigByTenantId()}},Fa={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"system-switch"},[s("Form",{ref:"formItem",staticClass:"system-info",attrs:{model:e.formItem,rules:e.ruleValidate,"label-width":90}},[s("Row",{staticClass:"form-title"},[e._v("自动消息设置")]),e._v(" "),s("FormItem",{attrs:{label:"调度员呢称",prop:"configBody.dispatcherName"}},[s("Input",{attrs:{placeholder:"请输入调度员呢称!"},model:{value:e.formItem.configBody.dispatcherName,callback:function(t){e.$set(e.formItem.configBody,"dispatcherName",t)},expression:"formItem.configBody.dispatcherName"}})],1),e._v(" "),s("Row",{staticClass:"form-title"},[s("Row",{staticClass:"title"},[s("Col",{attrs:{span:"12"}},[e._v("企业问候语")]),e._v(" "),s("Col",{staticStyle:{"text-align":"right"},attrs:{span:"12"}},[s("i-switch",{attrs:{"true-value":e.trueVal,"false-value":e.falseVal},on:{"on-change":e.switchChange},model:{value:e.formItem.configBody.greetingSwitch,callback:function(t){e.$set(e.formItem.configBody,"greetingSwitch",t)},expression:"formItem.configBody.greetingSwitch"}},[s("span",{attrs:{slot:"open"},slot:"open"},[e._v("开")]),e._v(" "),s("span",{attrs:{slot:"close"},slot:"close"},[e._v("关")])])],1)],1),e._v(" "),s("Row",{staticClass:"tips"},[e._v("访客发起新的会话时，将在发送首条消息之后收到系统自动发送的企业问候语")]),e._v(" "),s("FormItem",{attrs:{prop:"configBody.greetings"}},[s("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入企业问候语"},model:{value:e.formItem.configBody.greetings,callback:function(t){e.$set(e.formItem.configBody,"greetings",t)},expression:"formItem.configBody.greetings"}})],1),e._v(" "),s("Row",{staticClass:"tips"},[e._v("在问候语中填入##亲##，可以实现访客昵称的显示，如果访客的昵称是无效的会显示##里面的内容，当然##里面的内容您可以自己定制。")])],1),e._v(" "),s("Row",{staticClass:"form-title"},[s("Row",{staticClass:"title"},[s("Col",{attrs:{span:"12"}},[e._v("会话结束语")]),e._v(" "),s("Col",{staticStyle:{"text-align":"right"},attrs:{span:"12"}},[s("i-switch",{attrs:{"true-value":e.trueVal,"false-value":e.falseVal},on:{"on-change":e.switchChange},model:{value:e.formItem.configBody.endMsgSwitch,callback:function(t){e.$set(e.formItem.configBody,"endMsgSwitch",t)},expression:"formItem.configBody.endMsgSwitch"}},[s("span",{attrs:{slot:"open"},slot:"open"},[e._v("开")]),e._v(" "),s("span",{attrs:{slot:"close"},slot:"close"},[e._v("关")])])],1)],1),e._v(" "),s("Row",{staticClass:"tips"},[e._v("会话结束后，系统自动发出结束语")]),e._v(" "),s("FormItem",{attrs:{prop:"configBody.endMsg"}},[s("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入会话结束语"},model:{value:e.formItem.configBody.endMsg,callback:function(t){e.$set(e.formItem.configBody,"endMsg",t)},expression:"formItem.configBody.endMsg"}})],1),e._v(" "),s("Row",{staticClass:"tips"})],1),e._v(" "),s("FormItem",[s("Col",{staticStyle:{"text-align":"right"}},[s("Button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v("保存")])],1)],1)],1),e._v(" "),s("Form",{ref:"customerForm",staticClass:"customer-info",attrs:{model:e.customerForm,rules:e.ruleValidate,"label-width":90}},[s("Row",{staticClass:"form-title"},[s("Row",{staticClass:"title"},[s("Col",{attrs:{span:"12"}},[e._v("客服超时未回复设置")])],1),e._v(" "),s("FormItem",{attrs:{label:"超时时间"}},[s("Col",{attrs:{span:"2"}},[s("InputNumber",{attrs:{min:e.min,formatter:function(e){return""+(e>9?e:"0"+e)},parser:function(e){return parseInt(e)}},model:{value:e.customerForm.hours,callback:function(t){e.$set(e.customerForm,"hours",t)},expression:"customerForm.hours"}}),e._v("\n                    时\n                ")],1),e._v(" "),s("Col",{attrs:{span:"2"}},[s("InputNumber",{attrs:{max:59,min:e.min,formatter:function(e){return""+(e>9?e:"0"+e)},parser:function(e){return parseInt(e)}},model:{value:e.customerForm.minitues,callback:function(t){e.$set(e.customerForm,"minitues",t)},expression:"customerForm.minitues"}}),e._v("\n                    分\n                ")],1),e._v(" "),s("Col",{attrs:{span:"2"}},[s("InputNumber",{attrs:{max:59,min:e.min,formatter:function(e){return""+(e>9?e:"0"+e)},parser:function(e){return parseInt(e)}},model:{value:e.customerForm.seconds,callback:function(t){e.$set(e.customerForm,"seconds",t)},expression:"customerForm.seconds"}}),e._v("\n                    秒\n                ")],1)],1),e._v(" "),s("Row",{staticClass:"title"},[s("Col",{attrs:{span:"12"}},[e._v("提醒访客")]),e._v(" "),s("Col",{staticStyle:{"text-align":"right"},attrs:{span:"12"}},[s("i-switch",{attrs:{"true-value":e.trueVal,"false-value":e.falseVal},on:{"on-change":e.switchChange},model:{value:e.customerForm.configBody.seatRemindCustomerSwitch,callback:function(t){e.$set(e.customerForm.configBody,"seatRemindCustomerSwitch",t)},expression:"customerForm.configBody.seatRemindCustomerSwitch"}},[s("span",{attrs:{slot:"open"},slot:"open"},[e._v("开")]),e._v(" "),s("span",{attrs:{slot:"close"},slot:"close"},[e._v("关")])])],1)],1),e._v(" "),s("Row",{staticClass:"tips"},[e._v("访客发送消息后，若客服超过设定时间未回复，系统将自动发送以下提示语给访客")]),e._v(" "),s("FormItem",{attrs:{prop:"configBody.seatRemindCustomerMsg"}},[s("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"备注信息"},model:{value:e.customerForm.configBody.seatRemindCustomerMsg,callback:function(t){e.$set(e.customerForm.configBody,"seatRemindCustomerMsg",t)},expression:"customerForm.configBody.seatRemindCustomerMsg"}})],1)],1),e._v(" "),s("FormItem",[s("Col",{staticStyle:{"text-align":"right"}},[s("Button",{attrs:{type:"primary"},on:{click:e.submitCustomer}},[e._v("保存")])],1)],1)],1),e._v(" "),s("Form",{ref:"visitorForm",staticClass:"visitor-info",attrs:{model:e.visitorForm,rules:e.ruleValidate,"label-width":80}},[s("Row",{staticClass:"form-title"},[s("Row",{staticClass:"title"},[s("Col",{attrs:{span:"12"}},[e._v("访客超时未回复自动结束会话")]),e._v(" "),s("Col",{staticStyle:{"text-align":"right"},attrs:{span:"12"}},[s("i-switch",{attrs:{"true-value":e.trueVal,"false-value":e.falseVal},on:{"on-change":e.switchChange},model:{value:e.visitorForm.configBody.customerTimeoutSwitch,callback:function(t){e.$set(e.visitorForm.configBody,"customerTimeoutSwitch",t)},expression:"visitorForm.configBody.customerTimeoutSwitch"}},[s("span",{attrs:{slot:"open"},slot:"open"},[e._v("开")]),e._v(" "),s("span",{attrs:{slot:"close"},slot:"close"},[e._v("关")])])],1)],1)],1),e._v(" "),s("Row",{staticClass:"tips"},[e._v("\n            开关打开时，如果访客在设定时间内没有回复消息，系统将自动发送提示语给访客，发送最后一次提示语后访客在设定时间内如果仍未回复，会话将自动结束。\n            开关关闭时，不会发送提示语，会话也不会自动结束。如果会话提示语设置为空，表示不发送提示语。\n        ")]),e._v(" "),s("FormItem",{attrs:{label:"访客未回复超时时间","label-width":140}},[s("Col",{attrs:{span:"2"}},[s("InputNumber",{attrs:{max:1e4,min:e.min,formatter:function(e){return""+(e>9?e:"0"+e)},parser:function(e){return parseInt(e)}},model:{value:e.visitorForm.hours,callback:function(t){e.$set(e.visitorForm,"hours",t)},expression:"visitorForm.hours"}}),e._v("\n                时\n            ")],1),e._v(" "),s("Col",{attrs:{span:"2"}},[s("InputNumber",{attrs:{max:59,min:e.min,formatter:function(e){return""+(e>9?e:"0"+e)},parser:function(e){return parseInt(e)}},model:{value:e.visitorForm.minitues,callback:function(t){e.$set(e.visitorForm,"minitues",t)},expression:"visitorForm.minitues"}}),e._v("\n                分\n            ")],1)],1),e._v(" "),s("Row",{staticClass:"form-title"},[e._v("超时提示语")]),e._v(" "),s("FormItem",{attrs:{prop:"configBody.customerTimeoutMsg"}},[s("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"请输入超时提示语"},model:{value:e.visitorForm.configBody.customerTimeoutMsg,callback:function(t){e.$set(e.visitorForm.configBody,"customerTimeoutMsg",t)},expression:"visitorForm.configBody.customerTimeoutMsg"}})],1),e._v(" "),s("Row",{staticStyle:{"margin-top":"10px"}},[s("span",[e._v("最后一次提示语发出")]),e._v(" "),s("span",[s("InputNumber",{attrs:{max:1e4,min:e.min,formatter:function(e){return""+(e>9?e:"0"+e)},parser:function(e){return parseInt(e)}},model:{value:e.visitorForm.lasthours,callback:function(t){e.$set(e.visitorForm,"lasthours",t)},expression:"visitorForm.lasthours"}}),e._v("\n                时\n            ")],1),e._v(" "),s("span",[s("InputNumber",{attrs:{max:59,min:e.min,formatter:function(e){return""+(e>9?e:"0"+e)},parser:function(e){return parseInt(e)}},model:{value:e.visitorForm.lastminitues,callback:function(t){e.$set(e.visitorForm,"lastminitues",t)},expression:"visitorForm.lastminitues"}}),e._v("\n                分钟\n            ")],1),e._v(" "),s("span",[e._v("\n            后访客仍未回复将自动结束会话，自动会话结束时，将同时为该会话添加以下标签和备注：\n            ")])]),e._v(" "),s("Row",[s("Col",{staticStyle:{"text-align":"left"}},[s("Row",{directives:[{name:"show",rawName:"v-show",value:e.visitorForm.configBody.endParentSessionTagName&&e.visitorForm.configBody.endSessionTagName,expression:"visitorForm.configBody.endParentSessionTagName && visitorForm.configBody.endSessionTagName"}],staticClass:"select-tag"},[s("Tag",{attrs:{closable:"",color:"green"},on:{"on-close":e.closeTag}},[e._v("\n                        "+e._s(e.visitorForm.configBody.endParentSessionTagName+">"+e.visitorForm.configBody.endSessionTagName)+"\n                    ")])],1),e._v(" "),s("Button",{staticStyle:{margin:"10px 0px"},attrs:{type:"primary"},on:{click:function(t){e.addTag("popup")}}},[e._v("+会话标签和备注")]),e._v(" "),s("Modal",{attrs:{title:"会话标签和备注"},on:{"on-ok":function(t){e.addTag("save")}},model:{value:e.addTagModal,callback:function(t){e.addTagModal=t},expression:"addTagModal"}},[s("Row",[s("Row",[e._v("添加会话标签和备注")]),e._v(" "),s("Row",[s("Input",{staticClass:"search",attrs:{placeholder:"标签和备注"},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}},[s("Button",{attrs:{slot:"append",icon:"ios-search"},on:{click:function(t){e.search(e.searchKey)}},slot:"append"})],1)],1),e._v(" "),s("Row",{staticClass:"tag-list"},[s("Col",{attrs:{span:"12"}},e._l(e.tagList,function(t,a){return s("Row",{key:a,staticClass:"tag",nativeOn:{click:function(s){e.selectTag(t)}}},[s("Col",{attrs:{span:"20"}},[e._v(e._s(t.tagName))]),e._v(" "),s("Col",{attrs:{span:"4"}},[s("div",{staticClass:"tag-color"})])],1)})),e._v(" "),s("Col",{directives:[{name:"show",rawName:"v-show",value:e.showSubTag,expression:"showSubTag"}],staticStyle:{padding:"0px 5px"},attrs:{span:"12"}},e._l(e.curSubTagList,function(t,a){return s("Row",{key:a,staticClass:"tag",nativeOn:{click:function(s){e.selectTag(t)}}},[e._v(e._s(t.tagName))])}))],1),e._v(" "),s("Row",{staticClass:"selected-tag"},[e._l(e.selectedTag,function(t,a){return[t.children&&t.children.length>0?e._l(t.children,function(a,n){return s("Tag",{key:n,attrs:{closable:"",color:"blue"}},[e._v(e._s(t.tagName+">"+a.tagName))])}):[s("Tag",{attrs:{closable:"",color:"blue"}},[e._v(e._s(t.tagName))])]]})],2),e._v(" "),s("Row",{staticClass:"remark"},[s("Input",{attrs:{type:"textarea",row:"3",placeholder:"备注"},model:{value:e.remarkText,callback:function(t){e.remarkText=t},expression:"remarkText"}})],1)],1)],1)],1)],1),e._v(" "),s("FormItem",[s("Col",{staticStyle:{"text-align":"right"}},[s("Button",{attrs:{type:"primary"},on:{click:e.submitVisitor}},[e._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]};var Ba=s("VU/8")(Ra,Fa,!1,function(e){s("YCqe")},"data-v-4b78aef8",null).exports,ja={name:"Application",data:function(){return{relateList:[{name:"App",logo:s("jktY")}],infoList:[{label:"关联名称",val:"快速创建的关联"},{label:"AppKey",val:"1150181010228220#peidou"},{label:"Client ID",val:"YXA6898HSDKJSH_nskjdhBJHBbnjhbJHBJH"},{label:"Client Secret",val:"8909KNJDHAKSDH_KNSDsjkdnJDSHHDKFKDJNSAKDJNASJD"},{label:"IM服务号",val:"kefuchannelimid_1464643"},{label:"组织",val:"145464564645646"},{label:"应用名称",val:"kefuchannelapp58982"},{label:"关联ID",val:"86742"},{label:"验证状态",val:"通过"},{label:"接入状态",val:"联通中"},{label:"关联时间",val:"2018-10-30"},{label:"集成指南",type:"link",src:"http://www.baidu.com",val:"点击查看集成指南"},{label:"二维码",type:"pic",val:s("jktY")}]}},methods:{addAppRelate:function(){}}},$a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Row",{staticClass:"application"},[s("Row",{staticClass:"top"},[s("Col",{staticStyle:{"text-align":"left","padding-left":"10px","font-size":"16px","font-weight":"bold"},attrs:{span:"10"}},[e._v("\n            手机APP\n        ")]),e._v(" "),s("Col",{staticStyle:{"text-align":"right","padding-right":"10px"},attrs:{span:"14"}},[s("Button",{attrs:{type:"primary",icon:"ios-plus-outline"},on:{click:e.addAppRelate}},[e._v("添加APP关联")])],1)],1),e._v(" "),s("Row",{staticClass:"content"},[s("Col",{staticClass:"left",attrs:{span:"4"}},e._l(e.relateList,function(t,a){return s("Row",{key:a,staticClass:"list-item"},[s("img",{staticClass:"logo",staticStyle:{"margin-top":"8px"},attrs:{src:t.logo}}),e._v(" "),s("span",[e._v(e._s(t.name))])])})),e._v(" "),s("Col",{staticClass:"right",attrs:{span:"20"}},[s("Row",{staticClass:"inline-content"},[s("Row",{staticClass:"title"},[e._v("关联APP信息")]),e._v(" "),e._l(e.infoList,function(t,a){return s("Row",{key:a,staticClass:"desc"},[s("Col",{attrs:{span:"4"}},[e._v(e._s(t.label))]),e._v(" "),s("Col",{attrs:{span:"20"}},["link"==t.type?[s("a",{attrs:{href:t.src,target:"_blank"}},[e._v(e._s(t.val))])]:"pic"==t.type?[s("img",{attrs:{src:t.val}})]:[e._v("\n                            "+e._s(t.val)+"\n                        ")]],2)],1)})],2)],1)],1)],1)},staticRenderFns:[]};var Oa=s("VU/8")(ja,$a,!1,function(e){s("43y4")},null,null).exports,Da=s("Gu7T"),Pa=s.n(Da),La={name:"PersonalManage",components:{xTable:Fs,xTableColumn:$s},props:["props"],data:function(){return{searchKey:""}},methods:{search:function(){this.$emit("search",{searchKey:this.searchKey})},resetPwd:function(e){this.$emit("resetPwd",e)},back:function(){this.$emit("back")},addKF:function(){this.$emit("addKF")},editKF:function(e){this.$emit("editKF",e)},changePageNum:function(e){this.$emit("changePMNum",e)}}},Ea={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"personal-manage"},[s("Row",{directives:[{name:"show",rawName:"v-show",value:e.props.showkfModal,expression:"props.showkfModal"}]},[s("Row",{staticClass:"top common"},[s("Col",{staticClass:"top-left",attrs:{span:"10"}},[s("Col",{staticClass:"top-type",attrs:{span:"24"},nativeOn:{click:function(t){return e.back(t)}}},[s("Icon",{attrs:{type:"ios-arrow-left"}}),e._v(" 返回 "+e._s(e.props.curTenantName+(e.props.curCenterName?"-"+e.props.curCenterName:""))+"\n                ")],1)],1),e._v(" "),s("Col",{staticClass:"top-right",attrs:{span:"14"}},[s("Row",{attrs:{type:"flex",justify:"end"}},[s("Col",{staticStyle:{width:"200px","margin-right":"10px"}},[s("Input",{attrs:{icon:"search",placeholder:"请输入客服昵称"},on:{"on-click":e.search},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1),e._v(" "),s("Col",{staticStyle:{width:"110px"}},[s("Button",{attrs:{type:"primary",icon:"ios-plus-empty"},on:{click:e.addKF}},[e._v("添加客服")])],1)],1)],1)],1),e._v(" "),s("Row",{staticClass:"kf-content"},[s("x-table",{ref:"default",attrs:{data:e.props.curPageData,"show-header":e.props.showHeader,"no-data-text":"没有数据"}},[s("x-table-column",{attrs:{title:"编号",prop:"seatCode"}}),e._v(" "),s("x-table-column",{attrs:{title:"用户名",prop:"userAccount"}}),e._v(" "),s("x-table-column",{attrs:{title:"客服昵称",prop:"seatName"}}),e._v(" "),s("x-table-column",{attrs:{title:"在线状态",prop:"loginStatus"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s("1"==t.loginStatus?"在线":"2"==t.loginStatus?"离线":"忙碌")+"\n                    ")]}}])}),e._v(" "),s("x-table-column",{attrs:{title:"接待数",prop:"maxWaitNum"}}),e._v(" "),s("x-table-column",{attrs:{title:"角色",prop:"roleName"}}),e._v(" "),s("x-table-column",{attrs:{title:"账户启用",prop:"enableStatus"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Checkbox",{attrs:{disabled:""},model:{value:"0"==t.enableStatus,callback:function(s){e.$set(t,"enableStatus=='0'?true:false",s)},expression:"scope.enableStatus=='0'?true:false"}})]}}])}),e._v(" "),s("x-table-column",{attrs:{title:"人员类型",prop:"isPrivate"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s("0"==t.isPrivate?"自有":"外部")+"\n                    ")]}}])}),e._v(" "),s("x-table-column",{attrs:{title:"所属租户",prop:"tenantName"}}),e._v(" "),s("x-table-column",{attrs:{title:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Button",{attrs:{type:"text",size:"large",icon:"edit",title:"编辑"},on:{click:function(s){e.editKF(t)}}}),e._v(" "),s("Button",{attrs:{type:"text",size:"large",icon:"refresh",title:"重置密码"},on:{click:function(s){e.resetPwd(t)}}})]}}])})],1),e._v(" "),s("Row",{staticClass:"page"},[s("Page",{attrs:{total:e.props.page.total},on:{"on-change":e.changePageNum}})],1)],1)],1)],1)},staticRenderFns:[]};var qa={name:"KF",components:{xTable:Fs,xTableColumn:$s,personalManage:s("VU/8")(La,Ea,!1,function(e){s("aPj9")},"data-v-0311826a",null).exports},computed:{userId:{get:function(){return this.$store.state.userId},set:function(e){this.$store.dispatch("setUserId",e)}}},data:function(){var e=this,t=/^(?![0-9]+$)(?![a-zA-Z]+$)[0-9A-Za-z]{6,16}$/;return{diabledBtn:!1,addTenantModal:!1,curBusId:"",ruleValidate:{seatName:[{required:!0,message:"客服昵称不能为空",trigger:"blur"},{type:"string",max:50,message:"字符长度最多不超过50个"}],"sysUserEntity.userAccount":[{required:!0,message:"用户账户不能为空",trigger:"blur"},{type:"string",max:50,message:"字符长度最多不超过50个"}],userAccount:[{required:!0,message:"用户账户不能为空",trigger:"blur"},{type:"string",max:50,message:"字符长度最多不超过50个"}],"sysUserEntity.userPwd":[{required:!0,validator:function(s,a,n){""===a?n(new Error("请输入密码")):t.test(a)?(""!==e.formItem.confirmPwd&&e.$refs.formItem.validateField("confirmPwd"),n()):n(new Error("请输入6-16位数字与字母的组合字"))},trigger:"blur"}],confirmPwd:[{required:!0,validator:function(t,s,a){""===s?a(new Error("确认密码不能为空")):s!==e.formItem.sysUserEntity.userPwd?a(new Error("两次输入密码不一致!")):a()},trigger:"blur"}],"sysUserEntity.realName":[{required:!0,message:"请输入真实姓名",trigger:"blur"},{type:"string",max:50,message:"字符长度最多不超过50个"}],realName:[{required:!0,message:"请输入真实姓名",trigger:"blur"},{type:"string",max:50,message:"字符长度最多不超过50个"}],"sysUserEntity.workNum":[{required:!0,message:"工号不能为空",trigger:"blur"},{type:"string",max:10,message:"字符长度最多不超过10个",trigger:"blur"}],workNum:[{required:!0,message:"工号不能为空",trigger:"blur"},{type:"string",max:10,message:"字符长度最多不超过10个",trigger:"blur"}],maxWaitNum:[{required:!0,message:"请选择接待人数",trigger:"change"}],enableStatus:[{required:!0,message:"请选择是否启用",trigger:"change"}]},personalManage:{showkfModal:!1,curTenantName:"",curPageData:[],showHeader:!0,page:{pageSize:10,pageNum:1,total:0}},customerPage:{pageSize:10,pageNum:1,total:0},centerObj:{csCenterId:"",csCenterName:""},tenantModal:!1,freeKfSeat:[{seatName:"",seatCode:""}],showModal:!1,curCompany:"",curTenantId:"",maxWaitNum:"",seatName:"",companyList:[{tenantName:"",sysId:""}],roleList:[],labelInValue:!0,searchKey:"",customerPageData:[],formItem:{seatName:"",sysUserEntity:{userAccount:"",userPwd:"",realName:"",workNum:"",roleId:"",enableStatus:""},tenantId:"",maxWaitNum:"",centerObj:{csCenterId:"",csCenterName:""},otherBusiSeatInfos:[]},eShowModal:!1,eFormItem:{seatName:"",sysUserEntity:{userAccount:"",userPwd:"",realName:"",workNum:"",roleId:"",enableStatus:""},tenantId:"",maxWaitNum:"",centerObj:{csCenterId:"",csCenterName:""},otherBusiSeatInfos:[]},aFormItem:{}}},methods:{search:function(e){this.queryCsSeatByTenantIdForPage(e.searchKey)},resetPwd:function(e){var t={title:"请您确认",content:"您将重置密码",onOk:function(){var t=this,s=fe.a.createHash("md5"),a={data:{userAccount:e.userAccount,userPwd:s.update("123456").digest("hex")},headers:ve.json};return $t.modifyPwd(a).then(function(e){"0"==e.code?t.$Message.info("重置密码成功"):t.$Message.warning(e.message)},function(e){t.$Message.error(e)}),!0},onCancel:function(){}};this.$Modal.confirm(t)},selecTenant:function(e){this.aFormItem.tenantId=e.value,this.aFormItem.csTenantName=e.label},delKF:function(e){this.formItem.otherBusiSeatInfos.splice(e._index,1)},delEditKF:function(e){this.eFormItem.otherBusiSeatInfos.splice(e._index,1)},editOk:function(){var e=this;this.$refs.eFormItem.validate(function(t){if(t){fe.a.createHash("md5");var s={data:{busId:e.curBusId,seatName:e.eFormItem.seatName,sysUserEntity:{sysId:e.eFormItem.userId,userAccount:e.eFormItem.userAccount,realName:e.eFormItem.realName,workNum:e.eFormItem.workNum,enableStatus:e.eFormItem.enableStatus,roleId:e.eFormItem.roleId&&"undefined"!=e.eFormItem.roleId?e.eFormItem.roleId:""},tenantId:e.eFormItem.tenantId,maxWaitNum:e.eFormItem.maxWaitNum,csCenterId:e.eFormItem.csCenterId,otherBusiSeatInfos:[].concat(Pa()(e.eFormItem.otherBusiSeatInfos))},headers:ve.json};$t.updateCsSeatBySeatId(s).then(function(t){"0"==t.code?(e.$Message.info("编辑客服成功"),e.queryCsSeatByTenantIdForPage(),e.eShowModal=!1):(e.$Message.warning(t.message),e.$refs.eFormItem.resetFields())},function(t){e.$Message.error(t)})}})},queryCsMemberForPage:function(){var e=this,t={data:{pageNum:this.customerPage.pageNum,pageSize:this.customerPage.pageSize},headers:ve.urlencoded};$t.queryCsMemberForPage(t).then(function(t){"0"==t.code?(e.customerPageData=t.resultData.list,e.customerPage.total=t.resultData.total):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},queryCsSeatByTenantIdForPage:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s={data:{pageNum:this.personalManage.page.current,pageSize:this.personalManage.page.pageSize,tenantId:this.curTenantId?this.curTenantId:"",seatName:t||""},headers:ve.urlencoded};$t.queryCsSeatByTenantIdForPage(s).then(function(t){"0"==t.code?(e.personalManage.curPageData=t.resultData.list,e.personalManage.page.total=t.resultData.total):e.$Message.info(t.message)},function(t){e.$Message.error(t)})},personnelRole:function(e){this.personalManage.curTenantName=e.tenantName,this.personalManage.curCenterName=e.csCenterName,this.formItem.tenantId=e.sysId,this.centerObj.csCenterId=e.centerId,this.centerObj.csCenterName=e.csCenterName,this.curTenantId=e.sysId,this.personalManage.showkfModal=!0,this.queryCsSeatByTenantIdForPage("")},back:function(){this.personalManage.showkfModal=!1},getRoleList:function(){var e=this,t={data:{tenantId:this.curTenantId},headers:ve.json};$t.queryTenantRoleForList(t).then(function(t){"0"==t.code?e.roleList=t.resultData:e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},queryTenantForCenter:function(){var e=this;$t.queryTenantForCenter({data:{tenantId:this.curTenantId},headers:ve.json}).then(function(t){"0"==t.code?e.formItem.centerObj=t.resultData:e.$Message.info(t.message)},function(t){e.$Message.error(t)})},addKF:function(){this.showModal=!0,this.formItem.enableStatus="0",this.formItem.maxWaitNum="10",this.getRoleList(),this.queryTenantForCenter()},editKF:function(e){var t=this;this.eShowModal=!0,this.curBusId=e.busId,this.getRoleList();var s={data:{busId:e.busId,userId:e.userId},headers:ve.json};$t.querySeatIdByUserId(s).then(function(e){"0"==e.code?(t.eFormItem=e.resultData,t.eFormItem.maxWaitNum=t.eFormItem.maxWaitNum+"",t.eFormItem.roleId=t.eFormItem.roleId+"",t.eFormItem.enableStatus=t.eFormItem.enableStatus+""):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})},changePageNum:function(e){this.personalManage.curPageData.splice(0,this.personalManage.curPageData.length),this.personalManage.curPageData=this.personalManage.curPageData.slice(10*(e-1),10*e),this.customerPage.pageNum=e,this.queryCsMemberForPage()},changePMNum:function(e){this.personalManage.page.current=e,this.queryCsSeatByTenantIdForPage()},changeServeCompany:function(e){e.status=!e.status},seatOk:function(){var e=this;if(console.log("_this.diabledBtn",e.diabledBtn),Object(ke.isNull)(e.formItem.sysUserEntity.roleId))return e.$Message.warning("请选择角色"),!1;this.$refs.formItem.validate(function(t){if(e.diabledBtn=!0,t){var s=e.formItem.centerObj&&e.formItem.centerObj.csCenterId?e.formItem.centerObj.csCenterId:"",a={data:{seatName:e.formItem.seatName,sysUserEntity:o()({},e.formItem.sysUserEntity),otherBusiSeatInfos:[].concat(Pa()(e.formItem.otherBusiSeatInfos)),tenantId:e.formItem.tenantId,maxWaitNum:e.formItem.maxWaitNum,csCenterId:s||""},headers:ve.json},n=fe.a.createHash("md5");a.data.sysUserEntity.userPwd=n.update(e.formItem.sysUserEntity.userPwd.toLowerCase()).digest("hex"),$t.addCsSeatByTenantId(a).then(function(t){"0"==t.code?(e.queryCsSeatByTenantIdForPage(),e.showModal=!1,e.diabledBtn=!1):(e.$Message.warning(t.message),e.diabledBtn=!1)},function(t){e.$Message.error(t),e.diabledBtn=!1})}else e.showModal=!0,e.diabledBtn=!1})},mechanismOk:function(){return Object(ke.isNull)(this.aFormItem.seatName)?(this.$Message.warning("客服昵称不能为空"),!1):Object(ke.isNull)(this.aFormItem.csTenantName)?(this.$Message.warning("服务租户不能为空"),!1):this.aFormItem.seatName.length>50?(this.$Message.warning("客服昵称不能超过50字符"),!1):(this.formItem.otherBusiSeatInfos.push({tenantId:this.aFormItem.tenantId,csTenantName:this.aFormItem.csTenantName,seatName:this.aFormItem.seatName,maxWaitNum:this.aFormItem.maxWaitNum}),void(this.addTenantModal=!1))},editAddServedTenantOk:function(){return Object(ke.isNull)(this.aFormItem.seatName)?(this.$Message.warning("客服昵称不能为空"),!1):Object(ke.isNull)(this.aFormItem.csTenantName)?(this.$Message.warning("服务租户不能为空"),!1):this.aFormItem.seatName.length>50?(this.$Message.warning("客服昵称不能超过50字符"),!1):(this.eFormItem.otherBusiSeatInfos.push({tenantId:this.aFormItem.tenantId,tenantName:this.aFormItem.csTenantName,seatName:this.aFormItem.seatName,maxWaitNum:this.aFormItem.maxWaitNum}),void(this.tenantModal=!1))},cancel:function(){this.showModal=!1},cancelTenantModal:function(){this.addTenantModal=!1,this.tenantModal=!1},queryTenantInCenter:function(){var e=this;me.getCenterAllCompany({data:{csCenterId:this.centerObj.csCenterId},headers:ve.json}).then(function(t){"0"==t.code?e.companyList=t.resultData.filter(function(t){return!(!t||t.sysId==e.curTenantId)}):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},addServeCompany:function(e){this.aFormItem.maxWaitNum="10","add"==e?this.addTenantModal=!0:this.tenantModal=!0,this.queryTenantInCenter()}},mounted:function(){this.changePageNum(1),this.queryCsMemberForPage(),this.aFormItem.serveCompany="",this.aFormItem.positionName=""}},Ha={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Row",{staticClass:"kf",staticStyle:{background:"#fff"}},[s("personal-manage",{attrs:{props:e.personalManage},on:{back:e.back,addKF:e.addKF,editKF:e.editKF,changePMNum:e.changePMNum,resetPwd:e.resetPwd,search:e.search}}),e._v(" "),s("Row",{directives:[{name:"show",rawName:"v-show",value:!e.personalManage.showkfModal,expression:"!personalManage.showkfModal"}],staticClass:"customer-content"},[s("Row",{staticClass:"common"},[e._v("客服")]),e._v(" "),s("Row",{staticClass:"customer"},[s("x-table",{ref:"selection",attrs:{data:e.customerPageData,"no-data-text":"没有数据"}},[s("x-table-column",{attrs:{title:"服务租户",prop:"tenantName"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Row",{staticClass:"company-name"},[s("span",{model:{value:t.tenantName,callback:function(s){e.$set(t,"tenantName",s)},expression:"scope.tenantName"}},[e._v(e._s(t.tenantName))])])]}}])}),e._v(" "),s("x-table-column",{attrs:{title:"租户属性",prop:"tenantType"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s("1"==t.tenantType?"平台":"2"==t.tenantType?"外部租户":"系统租户")+"\n                    ")]}}])}),e._v(" "),s("x-table-column",{attrs:{title:"客服中心",prop:"csCenterName"}}),e._v(" "),s("x-table-column",{attrs:{title:"坐席上限",prop:"maxSeatNum"}}),e._v(" "),s("x-table-column",{attrs:{title:"坐席数",prop:"csSeatNum"}}),e._v(" "),s("x-table-column",{attrs:{title:"外部人员数",prop:"csOutNum"}}),e._v(" "),s("x-table-column",{attrs:{title:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Button",{attrs:{type:"text",size:"large",icon:"edit",title:"人员管理"},on:{click:function(s){e.personnelRole(t)}}},[e._v("人员管理")])]}}])})],1),e._v(" "),s("Row",{staticClass:"page"},[s("Page",{attrs:{total:e.customerPage.total},on:{"on-change":e.changePageNum}})],1)],1)],1),e._v(" "),s("Modal",{staticClass:"add-kf",attrs:{title:"新增客服",width:"620"},on:{"on-cancel":e.cancel},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[s("Form",{ref:"formItem",attrs:{model:e.formItem,rules:e.ruleValidate,"label-width":80}},[s("Row",{},[s("Col",{attrs:{span:"12"}},[s("FormItem",{attrs:{label:"客服昵称",prop:"seatName"}},[s("Input",{attrs:{placeholder:"请输入客服昵称"},model:{value:e.formItem.seatName,callback:function(t){e.$set(e.formItem,"seatName",t)},expression:"formItem.seatName"}})],1),e._v(" "),s("FormItem",{attrs:{label:"用户账户",prop:"sysUserEntity.userAccount"}},[s("Input",{attrs:{placeholder:"请输入字符、数字组成的字符串，不要包含特殊字符"},model:{value:e.formItem.sysUserEntity.userAccount,callback:function(t){e.$set(e.formItem.sysUserEntity,"userAccount",t)},expression:"formItem.sysUserEntity.userAccount"}})],1),e._v(" "),s("FormItem",{attrs:{label:"密码",prop:"sysUserEntity.userPwd"}},[s("Input",{attrs:{type:"password",placeholder:"请输入6-16位任意数字或字母"},model:{value:e.formItem.sysUserEntity.userPwd,callback:function(t){e.$set(e.formItem.sysUserEntity,"userPwd",t)},expression:"formItem.sysUserEntity.userPwd"}})],1),e._v(" "),s("FormItem",{attrs:{label:"确认密码",prop:"confirmPwd"}},[s("Input",{attrs:{type:"password",placeholder:"请再次输入密码"},model:{value:e.formItem.confirmPwd,callback:function(t){e.$set(e.formItem,"confirmPwd",t)},expression:"formItem.confirmPwd"}})],1),e._v(" "),s("FormItem",{attrs:{label:"真实姓名",prop:"sysUserEntity.realName"}},[s("Input",{attrs:{placeholder:"请输入真实姓名"},model:{value:e.formItem.sysUserEntity.realName,callback:function(t){e.$set(e.formItem.sysUserEntity,"realName",t)},expression:"formItem.sysUserEntity.realName"}})],1),e._v(" "),s("FormItem",{attrs:{label:"工号",maxlength:10,prop:"sysUserEntity.workNum"}},[s("Input",{attrs:{placeholder:"请输入工号"},model:{value:e.formItem.sysUserEntity.workNum,callback:function(t){e.$set(e.formItem.sysUserEntity,"workNum",t)},expression:"formItem.sysUserEntity.workNum"}})],1)],1),e._v(" "),s("Col",{attrs:{span:"12"}},[s("FormItem",{attrs:{label:"接待人数",prop:"maxWaitNum"}},[s("Select",{staticStyle:{width:"200px"},model:{value:e.formItem.maxWaitNum,callback:function(t){e.$set(e.formItem,"maxWaitNum",t)},expression:"formItem.maxWaitNum"}},[s("Option",{attrs:{value:"5"}},[e._v("5")]),e._v(" "),s("Option",{attrs:{value:"8"}},[e._v("8")]),e._v(" "),s("Option",{attrs:{value:"10"}},[e._v("10")]),e._v(" "),s("Option",{attrs:{value:"15"}},[e._v("15")]),e._v(" "),s("Option",{attrs:{value:"20"}},[e._v("20")])],1)],1),e._v(" "),s("FormItem",{attrs:{label:"所属租户"}},[s("Input",{staticStyle:{width:"200px"},attrs:{disabled:"",placeholder:"请输入所属租户"},model:{value:e.personalManage.curTenantName,callback:function(t){e.$set(e.personalManage,"curTenantName",t)},expression:"personalManage.curTenantName"}})],1),e._v(" "),s("FormItem",{attrs:{label:"角色",prop:"roleName"}},[s("Select",{staticStyle:{width:"200px"},attrs:{placeholder:"请选择角色"},model:{value:e.formItem.sysUserEntity.roleId,callback:function(t){e.$set(e.formItem.sysUserEntity,"roleId",t)},expression:"formItem.sysUserEntity.roleId"}},e._l(e.roleList,function(t){return s("Option",{key:t.sysId,attrs:{value:t.sysId}},[e._v(e._s(t.roleName))])}))],1),e._v(" "),s("FormItem",{attrs:{label:"启用状态",prop:"enableStatus"}},[s("Select",{staticStyle:{width:"200px"},model:{value:e.formItem.enableStatus,callback:function(t){e.$set(e.formItem,"enableStatus",t)},expression:"formItem.enableStatus"}},[s("Option",{attrs:{value:"0"}},[e._v("启用")]),e._v(" "),s("Option",{attrs:{value:"1"}},[e._v("停用")])],1)],1),e._v(" "),s("FormItem",{attrs:{label:"服务中心"}},[s("Input",{staticStyle:{width:"200px"},attrs:{disabled:"",placeholder:"请输入服务中心"},model:{value:e.centerObj.csCenterName,callback:function(t){e.$set(e.centerObj,"csCenterName",t)},expression:"centerObj.csCenterName"}})],1)],1)],1),e._v(" "),s("Row",{},[s("Row",{staticClass:"served-tenant",attrs:{type:"flex",justify:"end"}},[s("Col",{attrs:{span:"12"}},[e._v("其他服务租户")]),e._v(" "),s("Col",{staticStyle:{"text-align":"right"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){e.addServeCompany("add")}}},[e._v("添加服务租户")])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.addTenantModal,expression:"addTenantModal"}],staticClass:"sub-mask"},[s("Modal",{attrs:{"class-name":"sub-modal",title:"添加服务租户"},model:{value:e.addTenantModal,callback:function(t){e.addTenantModal=t},expression:"addTenantModal"}},[s("Form",{attrs:{"label-width":80},model:{value:e.aFormItem,callback:function(t){e.aFormItem=t},expression:"aFormItem"}},[s("FormItem",{attrs:{label:"服务租户"}},[s("Select",{staticStyle:{width:"300px"},attrs:{"label-in-value":""},on:{"on-change":e.selecTenant},model:{value:e.aFormItem.tenantName,callback:function(t){e.$set(e.aFormItem,"tenantName",t)},expression:"aFormItem.tenantName"}},e._l(e.companyList,function(t){return s("Option",{key:t.sysId,attrs:{value:t.sysId}},[e._v(e._s(t.tenantName))])}))],1),e._v(" "),s("FormItem",{attrs:{label:"客服昵称"}},[s("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入"},model:{value:e.aFormItem.seatName,callback:function(t){e.$set(e.aFormItem,"seatName",t)},expression:"aFormItem.seatName"}})],1),e._v(" "),s("FormItem",{attrs:{label:"接待人数"}},[s("Select",{staticStyle:{width:"300px"},model:{value:e.aFormItem.maxWaitNum,callback:function(t){e.$set(e.aFormItem,"maxWaitNum",t)},expression:"aFormItem.maxWaitNum"}},[s("Option",{attrs:{value:"5"}},[e._v("5")]),e._v(" "),s("Option",{attrs:{value:"8"}},[e._v("8")]),e._v(" "),s("Option",{attrs:{value:"10"}},[e._v("10")]),e._v(" "),s("Option",{attrs:{value:"15"}},[e._v("15")]),e._v(" "),s("Option",{attrs:{value:"20"}},[e._v("20")])],1)],1)],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text"},on:{click:e.cancelTenantModal}},[e._v("取消")]),e._v(" "),s("Button",{attrs:{type:"primary"},on:{click:e.mechanismOk}},[e._v("确定")])],1)],1)],1)],1),e._v(" "),s("Row",{staticClass:"served-list"},[s("x-table",{ref:"default",attrs:{data:e.formItem.otherBusiSeatInfos,"show-header":e.personalManage.showHeader,"no-data-text":"没有数据"}},[s("x-table-column",{attrs:{title:"租户名称",prop:"csTenantName"}}),e._v(" "),s("x-table-column",{attrs:{title:"坐席名称",prop:"seatName"}}),e._v(" "),s("x-table-column",{attrs:{title:"接待人数",prop:"maxWaitNum"}}),e._v(" "),s("x-table-column",{attrs:{title:"操作",prop:"operation"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Button",{attrs:{type:"text",size:"large",icon:"ios-trash-outline",title:"删除"},on:{click:function(s){e.delKF(t)}}})]}}])})],1)],1)],1)],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){e.showModal=!1}}},[e._v("取消")]),e._v(" "),s("Button",{attrs:{type:"primary",size:"large",disabled:e.diabledBtn},on:{click:e.seatOk}},[e._v("确定")])],1)],1),e._v(" "),s("Modal",{staticClass:"edit-kf",attrs:{title:"编辑客服",width:"620"},on:{"on-cancel":e.cancel},model:{value:e.eShowModal,callback:function(t){e.eShowModal=t},expression:"eShowModal"}},[s("Form",{ref:"eFormItem",attrs:{model:e.eFormItem,rules:e.ruleValidate,"label-width":80}},[s("Row",{},[s("Col",{attrs:{span:"12"}},[s("FormItem",{attrs:{label:"客服昵称",prop:"seatName"}},[s("Input",{attrs:{placeholder:"请输入客服昵称"},model:{value:e.eFormItem.seatName,callback:function(t){e.$set(e.eFormItem,"seatName",t)},expression:"eFormItem.seatName"}})],1),e._v(" "),s("FormItem",{attrs:{label:"用户账户",prop:"userAccount"}},[s("Input",{attrs:{disabled:"",placeholder:"请输入登陆用户名"},model:{value:e.eFormItem.userAccount,callback:function(t){e.$set(e.eFormItem,"userAccount",t)},expression:"eFormItem.userAccount"}})],1),e._v(" "),s("FormItem",{attrs:{label:"真实姓名",prop:"realName"}},[s("Input",{attrs:{placeholder:"请输入真实姓名"},model:{value:e.eFormItem.realName,callback:function(t){e.$set(e.eFormItem,"realName",t)},expression:"eFormItem.realName"}})],1),e._v(" "),s("FormItem",{attrs:{label:"工号",prop:"workNum"}},[s("Input",{attrs:{type:"text",placeholder:"请输入工号"},model:{value:e.eFormItem.workNum,callback:function(t){e.$set(e.eFormItem,"workNum",t)},expression:"eFormItem.workNum"}})],1)],1),e._v(" "),s("Col",{attrs:{span:"12"}},[s("FormItem",{attrs:{label:"接待人数",prop:"maxWaitNum"}},[s("Select",{staticStyle:{width:"200px"},model:{value:e.eFormItem.maxWaitNum,callback:function(t){e.$set(e.eFormItem,"maxWaitNum",t)},expression:"eFormItem.maxWaitNum"}},[s("Option",{attrs:{value:"5"}},[e._v("5")]),e._v(" "),s("Option",{attrs:{value:"8"}},[e._v("8")]),e._v(" "),s("Option",{attrs:{value:"10"}},[e._v("10")]),e._v(" "),s("Option",{attrs:{value:"15"}},[e._v("15")]),e._v(" "),s("Option",{attrs:{value:"20"}},[e._v("20")])],1)],1),e._v(" "),s("FormItem",{attrs:{label:"所属租户",prop:"tenantName"}},[s("Input",{staticStyle:{width:"200px"},attrs:{disabled:"",placeholder:"请输入所属租户"},model:{value:e.eFormItem.tenantName,callback:function(t){e.$set(e.eFormItem,"tenantName",t)},expression:"eFormItem.tenantName"}})],1),e._v(" "),s("FormItem",{attrs:{label:"角色",prop:"roleId"}},[s("Select",{staticStyle:{width:"200px"},model:{value:e.eFormItem.roleId,callback:function(t){e.$set(e.eFormItem,"roleId",t)},expression:"eFormItem.roleId"}},e._l(e.roleList,function(t){return s("Option",{key:t.sysId,attrs:{placeholder:"请选择角色",label:t.roleName,value:t.sysId+""}},[e._v(e._s(t.roleName))])}))],1),e._v(" "),s("FormItem",{attrs:{label:"启用状态",prop:"enableStatus"}},[s("Select",{staticStyle:{width:"200px"},model:{value:e.eFormItem.enableStatus,callback:function(t){e.$set(e.eFormItem,"enableStatus",t)},expression:"eFormItem.enableStatus"}},[s("Option",{attrs:{value:"0"}},[e._v("启用")]),e._v(" "),s("Option",{attrs:{value:"1"}},[e._v("停用")])],1)],1),e._v(" "),s("FormItem",{attrs:{label:"服务中心"}},[s("Input",{staticStyle:{width:"200px"},attrs:{disabled:"",placeholder:"请输入服务中心"},model:{value:e.eFormItem.csCenterName,callback:function(t){e.$set(e.eFormItem,"csCenterName",t)},expression:"eFormItem.csCenterName"}})],1)],1)],1),e._v(" "),s("Row",{},[s("Row",{staticClass:"served-tenant",attrs:{type:"flex",justify:"end"}},[s("Col",{attrs:{span:"12"}},[e._v("其他服务租户")]),e._v(" "),s("Col",{staticStyle:{"text-align":"right"},attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){e.addServeCompany("edit")}}},[e._v("添加服务租户")])],1),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:e.tenantModal,expression:"tenantModal"}],staticClass:"sub-mask"},[s("Modal",{attrs:{"class-name":"sub-modal",title:"添加服务租户"},model:{value:e.tenantModal,callback:function(t){e.tenantModal=t},expression:"tenantModal"}},[s("Form",{attrs:{"label-width":80},model:{value:e.aFormItem,callback:function(t){e.aFormItem=t},expression:"aFormItem"}},[s("FormItem",{attrs:{label:"服务租户"}},[s("Select",{staticStyle:{width:"300px"},attrs:{"label-in-value":""},on:{"on-change":e.selecTenant},model:{value:e.aFormItem.tenantName,callback:function(t){e.$set(e.aFormItem,"tenantName",t)},expression:"aFormItem.tenantName"}},e._l(e.companyList,function(t){return s("Option",{key:t.sysId,attrs:{value:t.sysId}},[e._v(e._s(t.tenantName))])}))],1),e._v(" "),s("FormItem",{attrs:{label:"客服昵称"}},[s("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入"},model:{value:e.aFormItem.seatName,callback:function(t){e.$set(e.aFormItem,"seatName",t)},expression:"aFormItem.seatName"}})],1),e._v(" "),s("FormItem",{attrs:{label:"接待人数"}},[s("Select",{staticStyle:{width:"300px"},model:{value:e.aFormItem.maxWaitNum,callback:function(t){e.$set(e.aFormItem,"maxWaitNum",t)},expression:"aFormItem.maxWaitNum"}},[s("Option",{attrs:{value:"5"}},[e._v("5")]),e._v(" "),s("Option",{attrs:{value:"8"}},[e._v("8")]),e._v(" "),s("Option",{attrs:{value:"10"}},[e._v("10")]),e._v(" "),s("Option",{attrs:{value:"15"}},[e._v("15")]),e._v(" "),s("Option",{attrs:{value:"20"}},[e._v("20")])],1)],1)],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text"},on:{click:e.cancelTenantModal}},[e._v("取消")]),e._v(" "),s("Button",{attrs:{type:"primary"},on:{click:e.editAddServedTenantOk}},[e._v("确定")])],1)],1)],1)],1),e._v(" "),s("Row",{staticClass:"served-list"},[s("x-table",{ref:"default",attrs:{data:e.eFormItem.otherBusiSeatInfos,"show-header":e.personalManage.showHeader,"no-data-text":"没有数据"}},[s("x-table-column",{attrs:{title:"租户名称",prop:"tenantName"}}),e._v(" "),s("x-table-column",{attrs:{title:"坐席名称",prop:"seatName"}}),e._v(" "),s("x-table-column",{attrs:{title:"接待人数",prop:"maxWaitNum"}}),e._v(" "),s("x-table-column",{attrs:{title:"操作",prop:"operation"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Button",{attrs:{type:"text",size:"large",icon:"ios-trash-outline",title:"删除"},on:{click:function(s){e.delEditKF(t)}}})]}}])})],1)],1)],1)],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){e.eShowModal=!1}}},[e._v("取消")]),e._v(" "),s("Button",{attrs:{type:"primary",size:"large"},on:{click:e.editOk}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]};var Ua=s("VU/8")(qa,Ha,!1,function(e){s("Lq8/")},null,null).exports,Wa={name:"KFGroup",data:function(){return{curGroupId:"",curTenantId:"",showModal:!1,modal1:!1,AllNum:"30",management:!1,companyList:[],customerGroupName:"",seatInfoList:[],curSeatList:[],groupList:[],curCompany:0,blessingSwitch:!1,blessing:""}},methods:{changeSeat:function(e){},addKF:function(){this.addSeatGroupByTenant()},addSeatGroupByTenant:function(){var e=this,t=[];this.seatInfoList.map(function(s,a){e.curSeatList.map(function(e,a){s.seatName==e&&t.push({busId:s.busId,seatName:s.seatName})})});var s={data:{skillGroupId:this.curGroupId,seatInfoList:t},headers:ve.json};$t.addSeatGroupByTenant(s).then(function(t){"0"==t.code?(e.$Message.info("添加客服分组成功"),e.getKfGroup()):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},addKfgroup:function(){var e=this;if(this.customerGroupName.length>50)return this.$Message.warning("客服组名称不能超过50个字符"),!1;var t={data:{tenantId:this.curTenantId,groupName:this.customerGroupName,greetingsOnOff:1==this.blessingSwitch?"1":"0",greetingsContent:this.blessing},headers:ve.json};$t.addKfgroup(t).then(function(t){"0"==t.code?(e.$Message.info("添加客服分组成功"),e.getKfGroup()):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},memberManagement:function(e){this.management=!0,this.curGroupId=e,this.curSeatList.splice(0,this.curSeatList.length),this.querySeatsByTenantId()},querySeatsByTenantId:function(){var e=this,t={data:{tenantId:this.curTenantId,skillGroupId:this.curGroupId},headers:ve.json};$t.querySeatsByTenantId(t).then(function(t){"0"==t.code?(e.seatInfoList=t.resultData,e.curSeatList.splice(0,e.curSeatList.length),t.resultData.map(function(t,s){t.isChecked&&e.curSeatList.push(t.seatName)})):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},getKfGroup:function(){var e=this,t={data:{tenantId:this.curTenantId},headers:ve.json};$t.querySkillGroup(t).then(function(t){"0"==t.code?e.groupList=t.resultData:e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},selectCompany:function(e,t){this.curCompany=t,this.curTenantId=e.sysId,this.getKfGroup()},addGroup:function(){this.showModal=!0},ok:function(){this.addKfgroup()},cancel:function(){},change:function(){},queryTenantByPermi:function(){var e=this;return l()(i.a.mark(function t(){var s;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s={headers:ve.json},t.next=3,$t.queryTenantByPermi(s).then(function(t){"0"==t.code?e.companyList=t.resultData||[]:e.$Message.warning(t.message)},function(t){e.$Message.error(t)});case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}},t,e)}))()}},mounted:function(){var e=this;this.queryTenantByPermi().then(function(){e.companyList.length>0&&e.companyList.map(function(t,s){0==s&&(e.curTenantId=t.sysId,e.getKfGroup())})})}},Va={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Row",{staticClass:"kf-group"},[s("Row",{staticClass:"top"},[s("span",{staticClass:"top-title"},[e._v("客服分组")])]),e._v(" "),s("Row",{staticClass:"content"},[s("Col",{staticClass:"content-left",attrs:{span:"4"}},[s("Row",{staticClass:"dept-list"},[s("Row",{staticClass:"dept-title"},[e._v("分组列表("+e._s(e.companyList.length||0)+")")]),e._v(" "),s("Row",{style:{height:"540px","overflow-y":e.companyList.length>11?"scroll":"hidden"}},e._l(e.companyList,function(t,a){return s("Row",{key:a,staticClass:"nav",class:{selected:e.curCompany==a},nativeOn:{click:function(s){e.selectCompany(t,a)}}},[e._v(e._s(t.tenantName))])}))],1)],1),e._v(" "),s("Col",{staticClass:"content-right",attrs:{span:"20"}},[s("Row",{staticClass:"inline-right"},[s("Row",{directives:[{name:"show",rawName:"v-show",value:e.groupList.length>0,expression:"groupList.length > 0"}]},e._l(e.groupList,function(t,a){return s("Col",{key:a,staticClass:"group",attrs:{span:"8"}},[s("Row",{staticClass:"group-inline"},[s("Row",{staticClass:"group-header"},[s("Col",{attrs:{span:"18"}},[e._v(" "+e._s(t.groupName+"("+t.groupPersonCount+"人)"))]),e._v(" "),s("Col",{attrs:{span:"6",align:"right"}},[s("Button",{staticStyle:{background:"none"},attrs:{type:"text",icon:"ios-people"},nativeOn:{click:function(s){e.memberManagement(t.busId)}}},[e._v("成员管理")])],1)],1),e._v(" "),s("Row",{staticClass:"add-kf"},[s("Row",e._l(t.seatInfoList,function(t,a){return s("Col",{key:a,attrs:{span:"5"}},[s("Row",{staticStyle:{"flex-direction":"column","line-height":"30px","margin-top":"10px"},attrs:{type:"flex",justify:"center",align:"middle"}},[s("Col",{attrs:{span:"5"}},[s("Icon",{staticStyle:{"font-size":"22px",height:"20px"},attrs:{type:"android-person"}})],1),e._v(" "),s("Col",{staticClass:"person-name",staticStyle:{"text-overflow":"ellipsis"},attrs:{span:"14",title:t.seatName}},[e._v(e._s(t.seatName))])],1)],1)}))],1),e._v(" "),s("Modal",{attrs:{title:"添加客服"},on:{"on-ok":e.addKF,"on-cancel":e.cancel},model:{value:e.management,callback:function(t){e.management=t},expression:"management"}},[s("Row",{staticStyle:{"border-bottom":"1px solid #eee"}},[e._v("全部坐席("+e._s(e.seatInfoList.length||0)+")")]),e._v(" "),s("Row",{staticStyle:{height:"200px","overflow-y":"scroll"}},[s("Row",{staticStyle:{"font-size":"14px","margin-top":"10px"}},[s("CheckboxGroup",{on:{"on-change":function(s){e.changeSeat(t)}},model:{value:e.curSeatList,callback:function(t){e.curSeatList=t},expression:"curSeatList"}},e._l(e.seatInfoList,function(e,t){return s("Row",{key:t},[s("Checkbox",{attrs:{label:e.seatName}})],1)}))],1)],1)],1)],1)],1)})),e._v(" "),s("Row",[s("Col",{attrs:{span:"8"}},[s("Row",{staticClass:"group-inline"},[s("Row",{staticClass:"add-group"},[s("Button",{attrs:{type:"text",icon:"plus"},on:{click:e.addGroup}},[e._v("添加客服组")]),e._v(" "),s("Modal",{attrs:{title:"添加客服组"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[s("Row",{staticClass:"group-name"},[s("Col",{attrs:{span:"4"}},[e._v("组名")]),e._v(" "),s("Col",{attrs:{span:"20"}},[s("Input",{attrs:{placeholder:"请输入客服分组名称"},model:{value:e.customerGroupName,callback:function(t){e.customerGroupName=t},expression:"customerGroupName"}})],1)],1),e._v(" "),s("Row",{staticClass:"blessing"},[s("Col",{attrs:{span:"4"}},[e._v("客服组问候语")]),e._v(" "),s("Col",{attrs:{span:"20"}},[s("Row",{staticClass:"blessing-switch"},[s("i-switch",{on:{"on-change":e.change},model:{value:e.blessingSwitch,callback:function(t){e.blessingSwitch=t},expression:"blessingSwitch"}})],1),e._v(" "),s("Row",{staticClass:"blessing-text"},[s("Input",{attrs:{type:"textarea",row:"4"},model:{value:e.blessing,callback:function(t){e.blessing=t},expression:"blessing"}})],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var za=s("VU/8")(Wa,Va,!1,function(e){s("u+Fi")},null,null).exports,Ga={name:"SummeryStatics",data:function(){return{visitorsNum:562,browseNum:123,requestNum:556,dialogNum:0,effectiveNum:0,lineNum:200,giveupNum:323,AverageTime:243,classifyTime:123,longestTime:22,MenuText:"访问统计"}},mounted:function(){this.drawLineGraph(),this.barLine(),this.barLinetwo()},methods:{changeMenu:function(e){this.MenuText="pre"==e?"访问统计":"degree"==e?"对话统计":"排队统计"},drawLineGraph:function(){this.$echarts.init(document.getElementById("dialogue")).setOption({tooltip:{trigger:"axis"},legend:{data:["访问数","浏览数","访问次数"]},grid:{left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisTick:{show:!1},data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value"},series:[{name:"访问数",type:"line",stack:"总量",data:[120,132,101,134,90,230,210],itemStyle:{normal:{color:"#13C27C",lineStyle:{color:"#13C27C"}}}},{name:"浏览数",type:"line",stack:"总量",data:[220,182,191,234,290,330,310],itemStyle:{normal:{color:"#feae67",lineStyle:{color:"#feae67"}}}},{name:"访问次数",type:"line",stack:"总量",data:[150,232,201,154,190,330,410],itemStyle:{normal:{color:"#2099e0",lineStyle:{color:"#2099e0"}}}}]})},barLine:function(){this.$echarts.init(document.getElementById("barChart")).setOption({title:{text:"首次响应时长"},tooltip:{trigger:"axis"},legend:{data:["访问数","浏览数","访问次数"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["11-01","11-02","11-03","11-04","11-05","11-06","11-07"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"直接访问",type:"bar",barWidth:20,data:[10,52,200,334,390,330,220],itemStyle:{normal:{color:"#13C27C",lineStyle:{color:"#13C27C"}}}}]})},barLinetwo:function(){this.$echarts.init(document.getElementById("barCharttwo")).setOption({title:{text:"对话平均响应时长"},tooltip:{trigger:"axis"},legend:{data:["访问数","浏览数","访问次数"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["11-01","11-02","11-03","11-04","11-05","11-06","11-07"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"直接访问",type:"bar",barWidth:"20",data:[10,52,200,334,390,330,220],itemStyle:{normal:{color:"#13C27C",lineStyle:{color:"#13C27C"}}}}]})}}},Ka={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"summery-statics",staticStyle:{background:"#fff",padding:"20px"}},[s("h2",[e._v("统计概况")]),e._v(" "),s("Row",{staticClass:"chage-button"},[s("Col",{attrs:{span:"1"}},[s("Button",{attrs:{type:"primary"}},[e._v("今日")])],1),e._v(" "),s("Col",{attrs:{span:"1"}},[s("Button",{attrs:{type:"ghost"}},[e._v("昨日")])],1),e._v(" "),s("Col",{attrs:{span:"1"}},[s("Button",{attrs:{type:"ghost"}},[e._v("近7天")])],1),e._v(" "),s("Col",{attrs:{span:"2"}},[s("Button",{attrs:{type:"ghost"}},[e._v("近三十天")])],1)],1),e._v(" "),s("Row",[s("Col",{staticClass:"statist-show",staticStyle:{"margin-right":"4%"},attrs:{span:"12"}},[s("Row",{staticClass:"head-title"},[e._v("访问统计")]),e._v(" "),s("Row",[s("Col",{staticClass:"zone",attrs:{span:"8"}},[s("b",[e._v("访客数")]),e._v(" "),s("p",[e._v(e._s(e.visitorsNum))])]),e._v(" "),s("Col",{staticClass:"zone",attrs:{span:"8"}},[s("b",[e._v("浏览量")]),e._v(" "),s("p",[e._v(e._s(e.browseNum))])]),e._v(" "),s("Col",{staticClass:"zone",attrs:{span:"8"}},[s("b",[e._v("访问次数")]),e._v(" "),s("p",[e._v(e._s(e.requestNum))])])],1)],1),e._v(" "),s("Col",{staticClass:"statist-show",attrs:{span:"11"}},[s("Row",{staticClass:"head-title"},[e._v("对话统计")]),e._v(" "),s("Row",[s("Col",{staticClass:"zone",attrs:{span:"12"}},[s("b",[e._v("总对话数")]),e._v(" "),s("p",[e._v(e._s(e.dialogNum))])]),e._v(" "),s("Col",{staticClass:"zone",attrs:{span:"12"}},[s("b",[e._v("有效对话数")]),e._v(" "),s("p",[e._v(e._s(e.effectiveNum))])])],1)],1)],1),e._v(" "),s("Row",{staticClass:"statist-show"},[s("Row",{staticClass:"head-title"},[e._v("排队统计")]),e._v(" "),s("Col",{staticClass:"zone",attrs:{span:"5"}},[s("b",[e._v("排队数")]),e._v(" "),s("p",[e._v(e._s(e.lineNum))])]),e._v(" "),s("Col",{staticClass:"zone",attrs:{span:"5"}},[s("b",[e._v("放弃排队数")]),e._v(" "),s("p",[e._v(e._s(e.giveupNum))])]),e._v(" "),s("Col",{staticClass:"zone",attrs:{span:"5"}},[s("b",[e._v("平均放弃排队时长")]),e._v(" "),s("p",[e._v(e._s(e.AverageTime))])]),e._v(" "),s("Col",{staticClass:"zone",attrs:{span:"4"}},[s("b",[e._v("平均排队时长")]),e._v(" "),s("p",[e._v(e._s(e.classifyTime))])]),e._v(" "),s("Col",{staticClass:"zone",attrs:{span:"4"}},[s("b",[e._v("最长排队时长")]),e._v(" "),s("p",[e._v(e._s(e.longestTime))])])],1),e._v(" "),s("div",{staticClass:"bottom-linemap"},[s("Dropdown",{staticClass:"drop",on:{"on-click":e.changeMenu}},[s("a",{attrs:{href:"javascript:void(0)",name:"pre"},domProps:{innerHTML:e._s(this.MenuText)}}),e._v(" "),s("Icon",{attrs:{type:"arrow-down-b"}}),e._v(" "),s("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[s("DropdownItem",{attrs:{name:"pre"}},[e._v("访问统计")]),e._v(" "),s("DropdownItem",{attrs:{name:"degree"}},[e._v("对话统计")]),e._v(" "),s("DropdownItem",{attrs:{name:"circulate"}},[e._v("排队统计")])],1)],1),e._v(" "),s("div",{style:{width:"calc(100% - 5px )",height:"320px"},attrs:{id:"dialogue"}})],1),e._v(" "),s("Row",{style:{marginTop:"20px"}},[s("Col",{attrs:{span:"12"}},[s("div",{style:{width:"720px",height:"300px"},attrs:{id:"barChart"}})]),e._v(" "),s("Col",{attrs:{span:"12"}},[s("div",{style:{width:"720px",height:"300px"},attrs:{id:"barCharttwo"}})])],1)],1)},staticRenderFns:[]};var Qa=s("VU/8")(Ga,Ka,!1,function(e){s("i2+4")},"data-v-891029b6",null).exports,Ja={name:"visitor",data:function(){return{columns11:[{title:"时段",key:"time",align:"center",width:120,fixed:"left"},{title:"访问",align:"center",children:[{title:"访问数",key:"building",align:"center",width:80},{title:"访问次数",key:"door",align:"center",width:90},{title:"浏览量",key:"door",align:"center",width:80},{title:"平均访问数",key:"door",align:"center",width:100}]},{title:"排队",align:"center",children:[{title:"总对话数",key:"caddress",align:"center",width:90},{title:"已接对话数",key:"cname",align:"center",width:100},{title:"对话率",key:"cname",align:"center",width:80}]},{title:"消息",align:"center",children:[{title:"客服消息",key:"caddress",align:"center",width:100},{title:"访客消息",key:"cname",align:"center",width:100}]},{title:"有效对话数",align:"center",children:[{title:"合计",key:"caddress",align:"center",width:80},{title:"一般对话",key:"cname",align:"center",width:100},{title:"较好对话",key:"cname",align:"center",width:100},{title:"极佳对话",key:"cname",align:"center",width:100},{title:"其它",key:"cname",align:"center",width:100}]},{title:"获取名片数",align:"center",key:"cards"}],data10:[]}},mounted:function(){this.drawLine();for(var e=[],t=0;t<8;t++)e.push({key:t,time:"00.00-03.00",age:t+1,street:"Lake Park",building:"231",door:2035,caddress:"123",cname:"241",cards:"66"});this.data10=e},methods:{drawLine:function(){this.$echarts.init(document.getElementById("myChart")).setOption({tooltip:{trigger:"axis"},legend:{data:["总访问数","总消息数","总对话数","总有效对话数"]},grid:{left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,axisTick:{show:!1},data:["00.00","01.00","02.00","03.00","04.00","05.00","06.00"]},yAxis:{type:"value"},series:[{name:"总访问数",type:"line",stack:"总量",data:[120,132,101,134,90,230,210],itemStyle:{normal:{color:"#13C27C",lineStyle:{color:"#13C27C"}}}},{name:"总消息数",type:"line",stack:"总量",data:[220,182,191,234,290,330,310],itemStyle:{normal:{color:"#feae67",lineStyle:{color:"#feae67"}}}},{name:"总对话数",type:"line",stack:"总量",data:[150,232,201,154,190,330,410],itemStyle:{normal:{color:"#2099e0",lineStyle:{color:"#2099e0"}}}},{name:"总有效对话数",type:"line",stack:"总量",data:[150,232,201,154,190,330,410],itemStyle:{normal:{color:"#FF8080",lineStyle:{color:"#FF8080"}}}}]})}}},Xa={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"visitor",staticStyle:{background:"#fff",padding:"20px"}},[s("h2",[e._v("统计概况")]),e._v(" "),s("Row",{staticClass:"chage-button",staticStyle:{"margin-top":"10px"}},[s("Col",{attrs:{span:"1"}},[s("Button",{attrs:{type:"primary"}},[e._v("今日")])],1),e._v(" "),s("Col",{attrs:{span:"1"}},[s("Button",{attrs:{type:"ghost"}},[e._v("昨日")])],1),e._v(" "),s("Col",{attrs:{span:"1"}},[s("Button",{attrs:{type:"ghost"}},[e._v("近7天")])],1),e._v(" "),s("Col",{attrs:{span:"2"}},[s("Button",{attrs:{type:"ghost"}},[e._v("近三十天")])],1)],1),e._v(" "),s("div",{style:{width:"calc(100% - 5px )",height:"300px"},attrs:{id:"myChart"}}),e._v(" "),s("Table",{style:{marginTop:"20px"},attrs:{columns:e.columns11,data:e.data10,border:"",height:"500"}})],1)},staticRenderFns:[]},Za=s("VU/8")(Ja,Xa,!1,null,null,null).exports,Ya={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"orderstatics",staticStyle:{background:"#fff",padding:"20px"}},[s("Row",{staticClass:"chage-button"},[s("h2",[e._v("营销数据")]),e._v(" "),s("Col",{staticStyle:{"margin-top":"10px"},attrs:{span:"10"}},[s("Dropdown",{staticStyle:{"margin-left":"20px"}},[s("Button",{attrs:{type:"primary"}},[e._v("\n                选择筛选器\n                "),s("Icon",{attrs:{type:"arrow-down-b"}})],1),e._v(" "),s("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[s("DropdownItem",[e._v("111")]),e._v(" "),s("DropdownItem",[e._v("222")]),e._v(" "),s("DropdownItem",[e._v("333")])],1)],1),e._v(" "),s("Dropdown",{staticStyle:{"margin-left":"20px"},attrs:{trigger:"custom",visible:e.visible}},[s("Button",{attrs:{type:"ghost"},on:{click:e.handleOpen}},[e._v("\n                设置显示列\n                "),s("Icon",{attrs:{type:"arrow-down-b"}})],1),e._v(" "),s("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[s("div",[s("div",{staticStyle:{"border-bottom":"1px solid #e9e9e9","padding-bottom":"6px","margin-bottom":"6px",top:"30px",left:"400px"}},[s("Checkbox",{attrs:{indeterminate:e.indeterminate,value:e.checkAll},nativeOn:{click:function(t){return t.preventDefault(),e.handleCheckAll(t)}}},[e._v("全选")])],1),e._v(" "),s("CheckboxGroup",{on:{"on-change":e.checkAllGroupChange},model:{value:e.checkAllGroup,callback:function(t){e.checkAllGroup=t},expression:"checkAllGroup"}},[s("Checkbox",{attrs:{label:"搜索词"}}),e._v(" "),s("Checkbox",{attrs:{label:"接待客服"}}),e._v(" "),s("Checkbox",{attrs:{label:"本次访问时间"}}),e._v(" "),s("Checkbox",{attrs:{label:"对话时长"}}),e._v(" "),s("Checkbox",{attrs:{label:"响应时间"}}),e._v(" "),s("Checkbox",{attrs:{label:"消息数"}}),e._v(" "),s("Checkbox",{attrs:{label:"访问"}}),e._v(" "),s("Checkbox",{attrs:{label:"对话方式"}}),e._v(" "),s("Checkbox",{attrs:{label:"对话结果"}}),e._v(" "),s("Checkbox",{attrs:{label:"访问页面"}}),e._v(" "),s("Checkbox",{attrs:{label:"浏览器标签"}})],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"right",margin:"10px"}},[s("Button",{attrs:{type:"primary"},on:{click:e.handleClose}},[e._v("关闭")])],1)])],1),e._v(" "),s("Button",{attrs:{type:"ghost"}},[e._v("导出数据")])],1),e._v(" "),s("Col",{staticStyle:{"text-align":"right"},attrs:{span:"14"}},[s("Button",{attrs:{type:"primary"}},[e._v("筛选")])],1)],1),e._v(" "),s("Table",{staticStyle:{"margin-top":"30px"},attrs:{columns:e.columns1,data:e.data1}})],1)},staticRenderFns:[]};var en=s("VU/8")({name:"orderstatics",data:function(){return{visible:!1,indeterminate:!0,checkAll:!1,checkAllGroup:["搜索词","接待客服","本次访问时间","对话时长","响应时间","消息数","访问","对话方式","对话结果","访问页面","浏览器标签"],columns1:[{title:"访客信息",key:"message"},{title:"对话时间",key:"time"},{title:"搜索词",key:"seach"},{title:"本次访问时间",key:"nowtime"},{title:"接待客服",key:"customer"},{title:"响应时间",key:"responsetime"},{title:"消息数",key:"messagesNum"},{title:"访问",key:"Visit"},{title:"对话结果",key:"result"},{title:"访问页数",key:"pagesNum"}],data1:[{message:"访客信息",time:"对话时间",seach:"21245",nowtime:"2016-10-03",customer:"客服001",responsetime:"10:02",messagesNum:"22",Visit:"访问",result:"对话结果",pagesNum:"2333"},{message:"访客信息",time:"对话时间",seach:"21245",nowtime:"2016-10-03",customer:"客服001",responsetime:"10:02",messagesNum:"22",Visit:"访问",result:"对话结果",pagesNum:"2333"},{message:"访客信息",time:"对话时间",seach:"21245",nowtime:"2016-10-03",customer:"客服001",responsetime:"10:02",messagesNum:"22",Visit:"访问",result:"对话结果",pagesNum:"2333"},{message:"访客信息",time:"对话时间",seach:"21245",nowtime:"2016-10-03",customer:"客服001",responsetime:"10:02",messagesNum:"22",Visit:"访问",result:"对话结果",pagesNum:"2333"},{message:"访客信息",time:"对话时间",seach:"21245",nowtime:"2016-10-03",customer:"客服001",responsetime:"10:02",messagesNum:"22",Visit:"访问",result:"对话结果",pagesNum:"2333"},{message:"访客信息",time:"对话时间",seach:"21245",nowtime:"2016-10-03",customer:"客服001",responsetime:"10:02",messagesNum:"22",Visit:"访问",result:"对话结果",pagesNum:"2333"}]}},methods:{handleOpen:function(){this.visible=!0},handleClose:function(){this.visible=!1},handleCheckAll:function(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.checkAllGroup=["搜索词","接待客服","本次访问时间","对话时长","响应时间","消息数","访问","对话方式","对话结果","访问页面","浏览器标签"]:this.checkAllGroup=[]},checkAllGroupChange:function(e){11===e.length?(this.indeterminate=!1,this.checkAll=!0):e.length>0?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)}}},Ya,!1,function(e){s("i4/8")},"data-v-74a7ad6e",null).exports,tn=function(e){return e.headers&&"application/x-www-form-urlencoded"==e.headers["Content-Type"]&&(e.data=k.a.stringify(e.data)),new h.a(function(t,s){_(e).then(function(e){"200"!=e.status&&"304"!=e.status||t(e.data)},function(e){s(e)})})},sn={url:"/busi/userinfo/query",type:"post"},an={url:"/busi/userinfo/modifyCustomer",type:"post"},nn={url:"/busi/blackcustomer/add",type:"post"},on={url:"/busi/blackcustomer/del",type:"post"},rn={url:"/sys/dict/queryPrivateTagByTenant",type:"post"},cn={url:"/sys/dict/updateDictValById",type:"post"},ln={url:"/sys/dict/insertCustomerTagByTenant",type:"post"},un={url:"/sys/dict/deleteDictValById",type:"post"},dn={url:"/busi/userinfo/queryBlackUserForPage",type:"post"},mn=function(e){return e.urlObj=dn,tn(e)},pn=function(e){return e.urlObj=cn,tn(e)},fn=function(e){return e.urlObj=ln,tn(e)},hn=function(e){return e.urlObj=un,tn(e)},gn=function(e){return e.urlObj=rn,tn(e)},vn=function(e){return e.urlObj=on,tn(e)},yn=function(e){return e.urlObj=nn,tn(e)},bn=function(e){return e.urlObj=an,tn(e)},Cn=function(e){return e.urlObj=sn,tn(e)},wn=(function(e){function t(t){return e.apply(this,arguments)}t.toString=function(){return e.toString()}}(function(e){return e.urlObj=queryAllTenantForList,tn(e)}),{data:function(){return{bTotal:0,total:0,operation:"",okText:"",modalTitle:"",showHeader:!0,pageSize:10,pageNum:1,searchKey:"",modalShow:!1,dataCount:0,formRight:{},customerData:[],blackList:[],ckList:[],ruleValidate:{nickName:[{required:!0,message:"客户昵称不能为空",trigger:"blur"},{type:"string",max:50,message:"字符长度最多不超过50个"}],customerEmail:[{type:"email",message:"邮箱格式不正确",trigger:"blur"}],customerWechat:[{type:"string",max:20,message:"字符长度最多不超过20个",trigger:"blur"}],remark:[{required:!0,message:"请输入描述",trigger:"blur"},{type:"string",max:200,message:"字符长度最多不超过250个",trigger:"blur"}]}}},components:{xTable:Fs,xTableColumn:$s},methods:{changeBlackPageNum:function(e){this.blackList.splice(0,this.blackList.length),this.pageNum=e,this.queryBlackUserForPage()},changePageNum:function(e){this.customerData.splice(0,this.customerData.length),this.pageNum=e,this.queryUserInfo()},queryBlackUserForPage:function(){var e=this,t={data:{pageNum:this.pageNum,pageSize:this.pageSize},headers:ve.urlencoded};mn(t).then(function(t){"0"==t.code?(e.blackList=t.resultData.list,e.blackList.map(function(e,t){Object(ke.isNull)(e.nickName)&&(e.nickName="用户"+e.busiId)}),e.bTotal=t.resultData.total):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},changeTab:function(e){this.pageNum=1,"customer"==e?this.queryUserInfo():this.queryBlackUserForPage()},search:function(){this.queryUserInfo({customerName:this.searchKey})},reset:function(){this.searchKey=""},delBlack:function(e){var t=this,s={data:{customerId:e.busiId},headers:ve.json};vn(s).then(function(e){"0"==e.code?(t.$Message.info("移除黑名单"),t.queryBlackUserForPage(),t.modalShow=!1):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})},addBlack:function(e){this.modalShow=!0,this.modalTitle="添加黑名单",this.okText="添加黑名单",this.operation="addBlack",this.formRight=e},queryUserInfo:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s={data:na()({pageNum:this.pageNum,pageSize:this.pageSize},t),headers:ve.urlencoded};Cn(s).then(function(t){"0"==t.code?(e.customerData=t.resultData.list||[],e.customerData.map(function(e,t){Object(ke.isNull)(e.nickName)&&(e.nickName="用户"+e.busiId)}),e.total=t.resultData.total):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},show:function(e){this.$Modal.info({title:"加入黑名单",content:"客户昵称："+this.data1[e].name+"<br>用户ID："+this.data1[e].id+"<br>手机号："+this.data1[e].phone+"<br>email："+this.data1[e].email+"<br>微信："+this.data1[e].WeChat})},edit:function(e){this.modalShow=!0,this.modalTitle="编辑",this.okText="保存",this.operation="edit",this.formRight=e},ok:function(){var e=this;this.$refs.formRight.validate(function(t){if(t)if("edit"==e.operation){var s={data:o()({},e.formRight),headers:ve.json};bn(s).then(function(t){"0"==t.code?(e.$Message.info("修改成功"),e.queryUserInfo(),e.modalShow=!1):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})}else if("addBlack"==e.operation){var a={data:{customerId:e.formRight.busiId,reason:e.formRight.remark},headers:ve.json};yn(a).then(function(t){"0"==t.code?(e.$Message.info("加入黑名单成功"),e.queryUserInfo(),e.modalShow=!1):e.$Message.warning(t.message)},function(t){e.$Message.error(t)})}})},cancel:function(){this.modalShow=!1},queryTag:function(){var e=this,t={data:{dictTypeCode:"CUSTOMER_TAG"},headers:ve.json};gn(t).then(function(t){"0"==t.code?e.ckList=t.resultData:e.$Message.warning(t.message)},function(t){e.$Message.error(t)})}},mounted:function(){this.queryUserInfo({}),this.queryTag()}}),In={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"customer"},[s("Tabs",{attrs:{value:"customer"},on:{"on-click":e.changeTab}},[s("TabPane",{attrs:{label:"客户列表",name:"customer"}},[s("Row",{staticStyle:{"margin-bottom":"20px"}},[s("Col",{attrs:{span:"5"}},[s("Input",{staticStyle:{width:"300px"},attrs:{icon:"ios-search-strong",placeholder:"请输入用户昵称"},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1),e._v(" "),s("Col",{staticClass:"button",attrs:{span:"3"}},[s("Button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("查询")]),e._v(" "),s("Button",{on:{click:e.reset}},[e._v("重置")])],1)],1),e._v(" "),s("x-table",{ref:"default",attrs:{data:e.customerData,"show-header":e.showHeader,"no-data-text":"没有数据"}},[s("x-table-column",{attrs:{title:"客户昵称",prop:"nickName"}}),e._v(" "),s("x-table-column",{attrs:{title:"客户ID",prop:"busiId"}}),e._v(" "),s("x-table-column",{attrs:{title:"手机号",prop:"customerPhone"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                        "+e._s(t.customerPhone?t.customerPhone.replace(/(\d{3})(\d{4})(\d{4})/,"$1****$3"):"")+"\n                    ")]}}])}),e._v(" "),s("x-table-column",{attrs:{title:"QQ号",prop:"customerQq"}}),e._v(" "),s("x-table-column",{attrs:{title:"邮箱",prop:"customerEmail"}}),e._v(" "),s("x-table-column",{attrs:{title:"微信",prop:"customerWechat"}}),e._v(" "),s("x-table-column",{attrs:{title:"描述",prop:"remark"}}),e._v(" "),s("x-table-column",{attrs:{title:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Button",{attrs:{type:"text",size:"large",icon:"edit",title:"编辑"},on:{click:function(s){e.edit(t)}}},[e._v("编辑")]),e._v(" "),s("Button",{attrs:{type:"text",size:"large",icon:"edit",title:"加入黑名单"},on:{click:function(s){e.addBlack(t)}}},[e._v("加入黑名单")])]}}])})],1),e._v(" "),s("Page",{staticStyle:{"text-align":"right",margin:"10px 0px"},attrs:{total:e.total,"page-size":e.pageSize},on:{"on-change":e.changePageNum}}),e._v(" "),s("Modal",{attrs:{title:e.modalTitle,okText:e.okText,cancelText:"取消"},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.modalShow,callback:function(t){e.modalShow=t},expression:"modalShow"}},[s("Form",{ref:"formRight",staticStyle:{"margin-right":"40px"},attrs:{model:e.formRight,rules:e.ruleValidate,"label-position":"right","label-width":100}},[s("FormItem",{attrs:{label:"客户昵称",prop:"nickName"}},[s("Input",{directives:[{name:"show",rawName:"v-show",value:"edit"==e.operation,expression:"operation=='edit'"}],model:{value:e.formRight.nickName,callback:function(t){e.$set(e.formRight,"nickName",t)},expression:"formRight.nickName"}}),e._v(" "),s("Row",{directives:[{name:"show",rawName:"v-show",value:"addBlack"==e.operation,expression:"operation=='addBlack'"}]},[e._v(e._s(e.formRight.nickName))])],1),e._v(" "),s("FormItem",{attrs:{label:"客户ID",prop:"busiId"}},[s("Input",{directives:[{name:"show",rawName:"v-show",value:"edit"==e.operation,expression:"operation=='edit'"}],attrs:{disabled:""},model:{value:e.formRight.busiId,callback:function(t){e.$set(e.formRight,"busiId",t)},expression:"formRight.busiId"}}),e._v(" "),s("Row",{directives:[{name:"show",rawName:"v-show",value:"addBlack"==e.operation,expression:"operation=='addBlack'"}]},[e._v(e._s(e.formRight.busiId))])],1),e._v(" "),s("FormItem",{attrs:{label:"手机号",prop:"customerPhone"}},[s("Input",{directives:[{name:"show",rawName:"v-show",value:"edit"==e.operation,expression:"operation=='edit'"}],attrs:{disabled:""},model:{value:e.formRight.customerPhone,callback:function(t){e.$set(e.formRight,"customerPhone",t)},expression:"formRight.customerPhone"}}),e._v(" "),s("Row",{directives:[{name:"show",rawName:"v-show",value:"addBlack"==e.operation,expression:"operation=='addBlack'"}]},[e._v(e._s(e.formRight.customerPhone))])],1),e._v(" "),s("FormItem",{attrs:{label:"邮箱",prop:"customerEmail"}},[s("Input",{directives:[{name:"show",rawName:"v-show",value:"edit"==e.operation,expression:"operation=='edit'"}],model:{value:e.formRight.customerEmail,callback:function(t){e.$set(e.formRight,"customerEmail",t)},expression:"formRight.customerEmail"}}),e._v(" "),s("Row",{directives:[{name:"show",rawName:"v-show",value:"addBlack"==e.operation,expression:"operation=='addBlack'"}]},[e._v(e._s(e.formRight.customerEmail))])],1),e._v(" "),s("FormItem",{attrs:{label:"微信",prop:"customerWechat"}},[s("Input",{directives:[{name:"show",rawName:"v-show",value:"edit"==e.operation,expression:"operation=='edit'"}],model:{value:e.formRight.customerWechat,callback:function(t){e.$set(e.formRight,"customerWechat",t)},expression:"formRight.customerWechat"}}),e._v(" "),s("Row",{directives:[{name:"show",rawName:"v-show",value:"addBlack"==e.operation,expression:"operation=='addBlack'"}]},[e._v(e._s(e.formRight.customerWechat))])],1),e._v(" "),s("FormItem",{attrs:{label:"描述",prop:"remark"}},[s("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"edit"==e.operation?"暂无":"请在此处输入加入黑名单的描述"},model:{value:e.formRight.remark,callback:function(t){e.$set(e.formRight,"remark",t)},expression:"formRight.remark"}})],1)],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){e.modalShow=!1}}},[e._v("取消")]),e._v(" "),s("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.ok()}}},[e._v("确定")])],1)],1)],1),e._v(" "),s("TabPane",{attrs:{label:"黑名单客户",name:"blackList"}},[s("x-table",{ref:"default",attrs:{data:e.blackList,"show-header":e.showHeader,"no-data-text":"没有数据"}},[s("x-table-column",{attrs:{title:"客户昵称",prop:"nickName"}}),e._v(" "),s("x-table-column",{attrs:{title:"客户ID",prop:"busiId"}}),e._v(" "),s("x-table-column",{attrs:{title:"描述",prop:"blackReason"}}),e._v(" "),s("x-table-column",{attrs:{title:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("Button",{attrs:{type:"text",size:"large",icon:"edit",title:"移除黑名单"},on:{click:function(s){e.delBlack(t)}}},[e._v("移除黑名单")])]}}])})],1),e._v(" "),s("Page",{staticStyle:{"text-align":"right",margin:"10px 0px"},attrs:{total:e.bTotal,"page-size":e.pageSize},on:{"on-change":e.changeBlackPageNum}})],1)],1)],1)},staticRenderFns:[]};var An=s("VU/8")(wn,In,!1,function(e){s("4fkz")},null,null).exports,xn={data:function(){return{curTag:{},formItem:{tagName:""},editFormItem:{tagName:""},ruleValidate:{tagName:[{required:!0,message:"请输入标签名称",trigger:"blur"},{type:"string",max:50,message:"字符长度最多不超过50个"}]},i:-1,addModal:!1,editModal:!1,labels:[{text:"#意向客户"},{text:"#普通用户"},{text:"#VIP客户"}]}},methods:{addTag:function(e){var t=this;"popup"==e?this.addModal=!0:this.$refs.formItem.validate(function(e){if(e){var s={data:{dictVal:t.formItem.tagName,dictTypeCode:"CUSTOMER_TAG"},headers:ve.json};fn(s).then(function(e){"0"==e.code?(t.$Message.info("新增成功"),t.addModal=!1,t.queryTag()):(t.addModal=!0,t.$Message.warning(e.message))},function(e){t.$Message.error(e)})}})},delTag:function(e){var t=this,s={data:{sysId:e.sysId},headers:ve.json};hn(s).then(function(e){"0"==e.code?(t.$Message.info("删除成功"),t.queryTag()):t.$Message.warning(e.message)},function(e){t.$Message.error(e)})},editTag:function(e,t){var s=this;"popup"==e?(this.editModal=!0,this.editFormItem.tagName=t.dictVal,this.curTag=t):this.$refs.editFormItem.validate(function(e){if(e){var t={data:{sysId:s.curTag.sysId,dictVal:s.editFormItem.tagName},headers:ve.json};pn(t).then(function(e){"0"==e.code?(s.$Message.info("修改成功"),s.editModal=!1,s.queryTag()):(s.editModal=!0,s.$Message.warning(e.message))},function(e){s.$Message.error(e)})}})},queryTag:function(){var e=this,t={data:{dictTypeCode:"CUSTOMER_TAG"},headers:ve.json};gn(t).then(function(t){"0"==t.code?e.labels=t.resultData:e.$Message.warning(t.message)},function(t){e.$Message.error(t)})},onMouseOver:function(e){this.i=e},onMouseout:function(e){this.i=-1},ok:function(){this.$Message.info("Clicked ok")},cancel:function(){this.addModal=this.editModal=!1}},mounted:function(){this.queryTag()}},kn={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"customer-tags"},[s("Row",{staticClass:"top"},[s("Col",{attrs:{span:"12"}},[s("h3",[e._v("客户标签")])]),e._v(" "),s("Col",{staticClass:"button",attrs:{span:"12"}},[s("Button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){e.addTag("popup")}}},[e._v("添加标签")])],1)],1),e._v(" "),s("Modal",{attrs:{title:"添加标签"},on:{"on-cancel":e.cancel},model:{value:e.addModal,callback:function(t){e.addModal=t},expression:"addModal"}},[s("Form",{ref:"formItem",attrs:{rules:e.ruleValidate,model:e.formItem}},[s("FormItem",{attrs:{label:"添加标签",prop:"tagName"}},[s("Input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入标签名称"},model:{value:e.formItem.tagName,callback:function(t){e.$set(e.formItem,"tagName",t)},expression:"formItem.tagName"}})],1)],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){e.addModal=!1}}},[e._v("取消")]),e._v(" "),s("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.addTag("save")}}},[e._v("确定")])],1)],1),e._v(" "),s("Modal",{attrs:{title:"编辑标签"},on:{"on-cancel":e.cancel},model:{value:e.editModal,callback:function(t){e.editModal=t},expression:"editModal"}},[s("Form",{ref:"editFormItem",attrs:{rules:e.ruleValidate,model:e.editFormItem}},[s("FormItem",{attrs:{label:"添加标签",prop:"tagName"}},[s("Input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入标签名称"},model:{value:e.editFormItem.tagName,callback:function(t){e.$set(e.editFormItem,"tagName",t)},expression:"editFormItem.tagName"}})],1)],1),e._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("Button",{attrs:{type:"text",size:"large"},on:{click:function(t){e.editModal=!1}}},[e._v("取消")]),e._v(" "),s("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.editTag("save")}}},[e._v("确定")])],1)],1),e._v(" "),s("Row",{staticClass:"tag-list"},e._l(e.labels,function(t,a){return s("Col",{key:a,staticClass:"customer-label",attrs:{span:"3"},nativeOn:{mouseenter:function(t){e.onMouseOver(a)},mouseleave:function(t){e.onMouseout(a)}}},[e._v("\r\n            "+e._s(t.dictVal)+"\r\n            "),s("div",{directives:[{name:"show",rawName:"v-show",value:a==e.i,expression:"index == i"}],staticStyle:{display:"inline"}},[s("Icon",{attrs:{type:"edit"},on:{click:function(s){e.editTag("popup",t)}}}),e._v(" "),s("Icon",{attrs:{type:"trash-a"},nativeOn:{click:function(s){e.delTag(t)}}})],1)])}))],1)},staticRenderFns:[]};var _n=s("VU/8")(xn,kn,!1,function(e){s("qyR+")},"data-v-12b03e1e",null).exports,Sn={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"orderstatics",staticStyle:{background:"#fff",padding:"20px"}},[s("Row",{staticClass:"chage-button"},[s("h2",[e._v("营销数据")]),e._v(" "),s("Col",{staticStyle:{"margin-top":"10px"},attrs:{span:"10"}},[s("Dropdown",{staticStyle:{"margin-left":"20px"}},[s("Button",{attrs:{type:"primary"}},[e._v("\n                选择筛选器\n                "),s("Icon",{attrs:{type:"arrow-down-b"}})],1),e._v(" "),s("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[s("DropdownItem",[e._v("111")]),e._v(" "),s("DropdownItem",[e._v("222")]),e._v(" "),s("DropdownItem",[e._v("333")])],1)],1),e._v(" "),s("Dropdown",{staticStyle:{"margin-left":"20px"},attrs:{trigger:"custom",visible:e.visible}},[s("Button",{attrs:{type:"ghost"},on:{click:e.handleOpen}},[e._v("\n                设置显示列\n                "),s("Icon",{attrs:{type:"arrow-down-b"}})],1),e._v(" "),s("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[s("div",[s("div",{staticStyle:{"border-bottom":"1px solid #e9e9e9","padding-bottom":"6px","margin-bottom":"6px",top:"30px",left:"400px"}},[s("Checkbox",{attrs:{indeterminate:e.indeterminate,value:e.checkAll},nativeOn:{click:function(t){return t.preventDefault(),e.handleCheckAll(t)}}},[e._v("全选")])],1),e._v(" "),s("CheckboxGroup",{on:{"on-change":e.checkAllGroupChange},model:{value:e.checkAllGroup,callback:function(t){e.checkAllGroup=t},expression:"checkAllGroup"}},[s("Checkbox",{attrs:{label:"搜索词"}}),e._v(" "),s("Checkbox",{attrs:{label:"接待客服"}}),e._v(" "),s("Checkbox",{attrs:{label:"本次访问时间"}}),e._v(" "),s("Checkbox",{attrs:{label:"对话时长"}}),e._v(" "),s("Checkbox",{attrs:{label:"响应时间"}}),e._v(" "),s("Checkbox",{attrs:{label:"消息数"}}),e._v(" "),s("Checkbox",{attrs:{label:"访问"}}),e._v(" "),s("Checkbox",{attrs:{label:"对话方式"}}),e._v(" "),s("Checkbox",{attrs:{label:"对话结果"}}),e._v(" "),s("Checkbox",{attrs:{label:"访问页面"}}),e._v(" "),s("Checkbox",{attrs:{label:"浏览器标签"}})],1)],1),e._v(" "),s("div",{staticStyle:{"text-align":"right",margin:"10px"}},[s("Button",{attrs:{type:"primary"},on:{click:e.handleClose}},[e._v("关闭")])],1)])],1),e._v(" "),s("Button",{attrs:{type:"ghost"}},[e._v("导出数据")])],1),e._v(" "),s("Col",{staticStyle:{"text-align":"right"},attrs:{span:"14"}},[s("Button",{attrs:{type:"primary"}},[e._v("筛选")])],1)],1),e._v(" "),s("Table",{staticStyle:{"margin-top":"30px"},attrs:{columns:e.columns1,data:e.data1}})],1)},staticRenderFns:[]};var Tn=s("VU/8")({name:"orderstatics",data:function(){return{visible:!1,indeterminate:!0,checkAll:!1,checkAllGroup:["搜索词","接待客服","本次访问时间","对话时长","响应时间","消息数","访问","对话方式","对话结果","访问页面","浏览器标签"],columns1:[{title:"访客信息",key:"message"},{title:"对话时间",key:"time"},{title:"搜索词",key:"seach"},{title:"本次访问时间",key:"nowtime"},{title:"接待客服",key:"customer"},{title:"响应时间",key:"responsetime"},{title:"消息数",key:"messagesNum"},{title:"访问",key:"Visit"},{title:"对话结果",key:"result"},{title:"访问页数",key:"pagesNum"}],data1:[{message:"访客信息",time:"对话时间",seach:"21245",nowtime:"2016-10-03",customer:"客服001",responsetime:"10:02",messagesNum:"22",Visit:"访问",result:"对话结果",pagesNum:"2333"},{message:"访客信息",time:"对话时间",seach:"21245",nowtime:"2016-10-03",customer:"客服001",responsetime:"10:02",messagesNum:"22",Visit:"访问",result:"对话结果",pagesNum:"2333"},{message:"访客信息",time:"对话时间",seach:"21245",nowtime:"2016-10-03",customer:"客服001",responsetime:"10:02",messagesNum:"22",Visit:"访问",result:"对话结果",pagesNum:"2333"},{message:"访客信息",time:"对话时间",seach:"21245",nowtime:"2016-10-03",customer:"客服001",responsetime:"10:02",messagesNum:"22",Visit:"访问",result:"对话结果",pagesNum:"2333"},{message:"访客信息",time:"对话时间",seach:"21245",nowtime:"2016-10-03",customer:"客服001",responsetime:"10:02",messagesNum:"22",Visit:"访问",result:"对话结果",pagesNum:"2333"},{message:"访客信息",time:"对话时间",seach:"21245",nowtime:"2016-10-03",customer:"客服001",responsetime:"10:02",messagesNum:"22",Visit:"访问",result:"对话结果",pagesNum:"2333"}]}},methods:{handleOpen:function(){this.visible=!0},handleClose:function(){this.visible=!1},handleCheckAll:function(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.checkAllGroup=["搜索词","接待客服","本次访问时间","对话时长","响应时间","消息数","访问","对话方式","对话结果","访问页面","浏览器标签"]:this.checkAllGroup=[]},checkAllGroupChange:function(e){11===e.length?(this.indeterminate=!1,this.checkAll=!0):e.length>0?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)}}},Sn,!1,function(e){s("RQUv")},"data-v-3a88656e",null).exports;u.default.use(p.a);var Mn,Nn=new p.a({routes:[{path:"/",name:"Login",component:je},{path:"/login",name:"Login2",component:je},{path:"/index",name:"Index",component:Pt,children:[{path:"test",name:"Test",component:Gs}]},{path:"/kfplatform",name:"KFPlatform",component:Pt,redirect:"/kfplatform/session",children:[{path:"session",name:"Session",component:Ss},{path:"waitin",name:"WaitIn",component:Ps},{path:"commonphrase",name:"CommonPhrase",component:Qt},{path:"history",name:"History",component:ya}]},{path:"/authoritymanage",name:"AuthorityManage",component:Pt,redirect:"/authoritymanage/company",children:[{path:"company",name:"Company",component:Ys},{path:"kfcenter",name:"KFCenter",component:sa},{path:"sensitive",name:"Sensitive",component:ca},{path:"role",name:"Role",component:pa},{path:"subrole",name:"SubRole",component:ha}]},{path:"/systemconfig",name:"SystemConfig",component:Pt,redirect:"/systemconfig/enterpriseInfo",children:[{path:"enterpriseInfo",name:"EnterpriseInfo",component:Ia},{path:"systemswitch",name:"SystemSwitch",component:Ba},{path:"sessiontag",name:"SessionTag",component:Ta},{path:"sessionrules",name:"SessionRules",component:ka}]},{path:"/channelmanage",name:"ChannelManage",component:Pt,redirect:"/channelmanage/application",children:[{path:"application",name:"Application",component:Oa}]},{path:"/kfmanage",name:"KFManage",component:Pt,redirect:"/kfmanage/kf",children:[{path:"kf",name:"KF",component:Ua},{path:"kfgroup",name:"KFGroup",component:za}]},{path:"/customercenter",name:"customercenter",component:Pt,redirect:"/customercenter/customer",children:[{path:"customer",name:"customer",component:An},{path:"customerTags",name:"customerTags",component:_n}]},{path:"/operationdata",name:"OperationData",component:Pt,redirect:"/operationdata/index",children:[{path:"index",name:"Index",component:Tn}]},{path:"/statics",name:"statics",component:Pt,redirect:"/statics/summerystatistics",children:[{path:"summerystatistics",name:"summerystatistics",component:Qa},{path:"visitor",name:"visitor",component:Za},{path:"orderstatics",name:"orderstatics",component:en}]},{path:"/remotelogin",name:"RemoteLogin",component:Oe},{path:"/warningpage",name:"WarningPage",component:Le},{path:"/errorpage",name:"ErrorPage",component:Le},{path:"/chatbox",name:"ChatBox",component:Re}]}),Rn=s("424j");u.default.use(Vt.a);var Fn=new Vt.a.Store({plugins:[Object(Rn.a)()],state:{userLogo:"",userName:"",userId:"",password:"",curCustomerId:"",curCusHxAccount:"",accessToken:"",remoteToken:"",connContext:{},tipsSwitch:!1,menu:{},servedTenant:[],curHxAccount:"",curHxPwd:"",curTenantId:"",curSessionId:"",endSession:!1,sessionHistory:"",remember:!1,allSensitiveWords:[]},mutations:(Mn={setAllSensitiveWords:function(e,t){e.allSensitiveWords=t},getAllSensitiveWords:function(e){return e.allSensitiveWords},setUserLogo:function(e,t){e.userLogo=t},getUserLogo:function(e){return e.userLogo},setRemember:function(e,t){e.remember=t},getRemember:function(e){return e.remember},setSessionHistory:function(e,t){e.sessionHistory=t},getSessionHistory:function(e){return e.sessionHistory},setEndSession:function(e,t){e.endSession=t},getEndSession:function(e){return e.endSession},setCurCusHxAccount:function(e,t){e.curCusHxAccount=t},getCurCusHxAccount:function(e){return e.curCusHxAccount},setCurSessionId:function(e,t){e.curSessionId=t},getCurSessionId:function(e){return e.curSessionId},setUserId:function(e,t){e.userId=t},getUserId:function(e){return e.userId},setCurTenantId:function(e,t){e.curTenantId=t},getCurTenantId:function(e){return e.curTenantId},getCurHxPwd:function(e){return e.curHxPwd},setCurHxPwd:function(e,t){e.curHxPwd=t}},ge()(Mn,"getCurHxPwd",function(e){return e.curHxPwd}),ge()(Mn,"setCurHxAccount",function(e,t){e.curHxAccount=t}),ge()(Mn,"getCurHxAccount",function(e){return e.curHxAccount}),ge()(Mn,"setServedTenant",function(e,t){e.servedTenant=t}),ge()(Mn,"getServedTenant",function(e){return e.servedTenant}),ge()(Mn,"setMenu",function(e,t){e.menu=t}),ge()(Mn,"getMenu",function(e){return e.menu}),ge()(Mn,"setUserName",function(e,t){e.userName=t}),ge()(Mn,"getUserName",function(e){return e.userName}),ge()(Mn,"setPassword",function(e,t){e.password=t}),ge()(Mn,"getPassword",function(e){return e.password}),ge()(Mn,"setCurCustomerId",function(e,t){e.curCustomerId=t}),ge()(Mn,"getCurCustomerId",function(e){return e.curCustomerId}),ge()(Mn,"setAccessToken",function(e,t){e.accessToken=t}),ge()(Mn,"getAccessToken",function(e){return e.accessToken}),ge()(Mn,"setRemoteToken",function(e,t){e.remoteToken=t}),ge()(Mn,"getRemoteToken",function(e){return e.remoteToken}),ge()(Mn,"setConnContext",function(e,t){e.connContext=Object(ke.deepClone)(t)}),ge()(Mn,"getConnContext",function(e){return e.connContext}),ge()(Mn,"setTipsSwitch",function(e,t){e.tipsSwitch=t}),ge()(Mn,"getTipsSwitch",function(e){return e.tipsSwitch}),Mn),actions:{setAllSensitiveWords:function(e,t){(0,e.commit)("setAllSensitiveWords",t)},getAllSensitiveWords:function(e){(0,e.commit)("getAllSensitiveWords")},setUserLogo:function(e,t){(0,e.commit)("setUserLogo",t)},getUserLogo:function(e){(0,e.commit)("getUserLogo")},setRemember:function(e,t){(0,e.commit)("setRemember",t)},getRemember:function(e){(0,e.commit)("getRemember")},setSessionHistory:function(e,t){(0,e.commit)("setSessionHistory",t)},getSessionHistory:function(e){(0,e.commit)("getSessionHistory")},setEndSession:function(e,t){(0,e.commit)("setEndSession",t)},getEndSession:function(e){(0,e.commit)("getEndSession")},setCurCusHxAccount:function(e,t){(0,e.commit)("setCurCusHxAccount",t)},getCurCusHxAccount:function(e){(0,e.commit)("getCurCusHxAccount")},setCurSessionId:function(e,t){(0,e.commit)("setCurSessionId",t)},getCurSessionId:function(e){(0,e.commit)("getCurSessionId")},setUserId:function(e,t){(0,e.commit)("setUserId",t)},getUserId:function(e){(0,e.commit)("getUserId")},setCurTenantId:function(e,t){(0,e.commit)("setCurTenantId",t)},getCurTenantId:function(e){(0,e.commit)("getCurTenantId")},setCurHxPwd:function(e,t){(0,e.commit)("setCurHxPwd",t)},getCurHxPwd:function(e){(0,e.commit)("getCurHxPwd")},setCurHxAccount:function(e,t){(0,e.commit)("setCurHxAccount",t)},getCurHxAccount:function(e){(0,e.commit)("getCurHxAccount")},setServedTenant:function(e,t){(0,e.commit)("setServedTenant",t)},getServedTenant:function(e){(0,e.commit)("getServedTenant")},setMenu:function(e,t){(0,e.commit)("setMenu",t)},getMenu:function(e){(0,e.commit)("getMenu")},getUserName:function(e){(0,e.commit)("getUserName")},setUserName:function(e,t){(0,e.commit)("setUserName",t)},getPassword:function(e){(0,e.commit)("getPassword")},setPassword:function(e,t){(0,e.commit)("setPassword",t)},setCurCustomerId:function(e,t){(0,e.commit)("setCurCustomerId",t)},getCurCustomerId:function(e){(0,e.commit)("getCurCustomerId")},setAccessToken:function(e,t){(0,e.commit)("setAccessToken",t)},getAccessToken:function(e){(0,e.commit)("getAccessToken")},setRemoteToken:function(e,t){(0,e.commit)("setRemoteToken",t)},getRemoteToken:function(e){(0,e.commit)("getRemoteToken")},setConnContext:function(e,t){(0,e.commit)("setConnContext",t)},getConnContext:function(e){commit("getConnContext")},setTipsSwitch:function(e,t){(0,e.commit)("setTipsSwitch",t)},getTipsSwitch:function(e){commit("getTipsSwitch")}},getters:{userName:function(e){return"getterUserName"+e.userName}}}),Bn=(s("+skl"),s("BTaQ")),jn=s.n(Bn),$n=(s("P1I3"),s("cTzj")),On=s.n($n),Dn=s("LgDO"),Pn=s.n(Dn),Ln={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"upload"}},[s("uploader",{staticClass:"uploader-example",attrs:{options:e.options}},[s("uploader-unsupport"),e._v(" "),s("uploader-drop",[s("p",[e._v("Drop files here to upload or")]),e._v(" "),s("uploader-btn",[e._v("select files")]),e._v(" "),s("uploader-btn",{attrs:{attrs:e.attrs}},[e._v("select images")]),e._v(" "),s("uploader-btn",{attrs:{directory:!0}},[e._v("select folder")])],1),e._v(" "),s("uploader-list")],1)],1)},staticRenderFns:[]};s("VU/8")({data:function(){return{options:{target:"//localhost:8080/upload",testChunks:!1},attrs:{accept:"image/*"}}},mounted:function(){}},Ln,!1,function(e){s("WvIM")},null,null).exports,s("OMJi");var En=s("4wP/").webimConfig,qn=s("zecL");qn.config=En;var Hn=new qn.connection({isMultiLoginSessions:qn.config.isMultiLoginSessions,https:"boolean"==typeof qn.config.https?qn.config.https:"https:"===location.protocol,url:qn.config.xmppURL,heartBeatWait:qn.config.heartBeatWait,autoReconnectNumMax:qn.config.autoReconnectNumMax,autoReconnectInterval:qn.config.autoReconnectInterval,apiUrl:qn.config.apiURL,isAutoLogin:!0,delivery:!0});Hn.listen({onClosed:function(e){console.log("global连接关闭=>",e)},onTextMessage:function(e){console.log("global收到文本信息message=>",e)},onOpened:function(e){console.log("global连接打开=>",e)},onEmojiMessage:function(e){console.log("global收到表情消息message=>",e)},onPictureMessage:function(e){},onCmdMessage:function(e){},onAudioMessage:function(e){},onLocationMessage:function(e){},onFileMessage:function(e){},onVideoMessage:function(e){var t=document.getElementById("privateVideo"),s={url:e.url,headers:{Accept:"audio/mp4"},onFileDownloadComplete:function(e){var s=qn.utils.parseDownloadResponse.call(Hn,e);t.src=s},onFileDownloadError:function(){console.log("File down load error.")}};qn.utils.download.call(Hn,s)},onPresence:function(e){},onRoster:function(e){},onInviteMessage:function(e){},onOnline:function(){},onOffline:function(){},onError:function(e){},onBlacklistUpdate:function(e){console.log(e)},onReceivedMessage:function(e){},onDeliveredMessage:function(e){},onReadMessage:function(e){},onCreateGroup:function(e){},onMutedMessage:function(e){}});var Un,Wn={apiUrl:qn.config.apiURL,user:null,pwd:null,appKey:qn.config.appkey,accessToken:null},Vn={login:function(e,t,s,a,n){console.log("login start!");var o={apiUrl:En.apiURL,user:e,pwd:t,accessToken:s,appKey:En.appkey,success:function(e){console.log("login success callback!token is :%o",e),a&&a(e)},error:function(e){console.log("用户名或密码错误：%o",e),e=e||"token is invalid！",n&&n(e)}};console.log("login end!"),Hn.open(o)},reLogin:function(e,t,s,a,n){console.log("relogin start!");var o={apiUrl:En.apiURL,user:e,pwd:t,appKey:En.appkey,accessToken:s,success:function(e){console.log("relogin success callback!"),a&&a(e)},error:function(e){console.log("relogin用户名或密码错误"),n&&n(e)}};console.log("relogin end!"),Hn.open(o)},close:function(){Hn.close()},sendPrivateText:function(e){console.log("sendPrivateText %o",e),Hn.send(e.body)},sendGroupText:function(e,t,s,a){var n=Hn.getUniqueId(),o=new qn.message("txt",n),r={msg:e,to:t,roomType:!1,chatType:"chatRoom",success:function(e){console.log("send room text success"),s&&s(e)},fail:function(e){console.log("failed"),a&&a(e)}};o.set(r),o.setGroup("groupchat"),Hn.send(o.body)},sendRoomText:function(e,t,s,a){var n=Hn.getUniqueId(),o=new qn.message("txt",n),r={msg:e,to:t,roomType:!0,chatType:"chatRoom",success:function(e){console.log("send room text success"),s&&s(e)},fail:function(e){console.log("failed"),a&&a(e)}};o.set(r),o.setGroup("groupchat"),Hn.send(o.body)}},zn=s("7S1C"),Gn=s.n(zn),Kn=s("8smA"),Qn=(Un=l()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:ve.json},e.next=3,j(t).then(function(e){return"0"==e.code?Zn.$store.dispatch("setServedTenant",e.resultData):console.log("getServedTenant warning: %s",e.message),e},function(e){return console.log("getServedTenant error: %o",e),e});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e,this)})),function(){return Un.apply(this,arguments)});u.default.use(jn.a),u.default.use(On.a,{error:s("HxCj"),loading:s("7vKx")}),u.default.config.productionTip=!1,u.default.prototype.$IM=a,u.default.use(Gn.a);var Jn=s("Icdr");function Xn(){var e;Zn.$worker.run(function(e){e&&e()},[(e={data:{},headers:ve.urlencoded},void me.querySensitiveWordListForPage(e).then(function(e){if("0"==e.code){var t=[],s=void 0;e.resultData.list.map(function(e,a){s=e.sensitiveWord,t.push(s)}),Zn.$store.dispatch("setAllSensitiveWords",t)}else console.log(e.message)},function(e){console.log(e)}))]).then(function(e){console.log("_this.allSensitiveWords: %o",e)}).catch(function(e){null,console.log("runWebWork error: %o",e)})}u.default.prototype.$echarts=Jn,u.default.use(Pn.a),u.default.use(Kn.a),Nn.beforeEach(function(e,t,s){if(e.meta.requireAuth)Fn.state.token?s():s({path:"/login",query:{redirect:e.fullPath}});else if("RemoteLogin"==e.name){var a=o()({},e.query),n=a.userAccount,r=a.userPwd,i=a.orgUserId,c={data:{userAccount:n,userPwd:r,orgUserId:i},headers:{"Content-Type":"application/json",Authorization:"bearer "+e.query.access_token||""}};B(c).then(function(t){if("0"==t.code){Xn();var a=t.resultData.menuList[0].menuAddress||"/kfplatform";Zn.$store.dispatch("setRemoteToken",e.query.access_token),Zn.$store.dispatch("setUserName",n),Zn.$store.dispatch("setUserLogo",t.resultData.tenantLogo||""),Zn.$store.dispatch("setUserId",t.resultData.roleEntity.sysId);var o={};o.topNav=t.resultData.menuList.filter(function(e){return"0"==e.parentCode}),o.subMenus=t.resultData.menuList.filter(function(e){return"0"!=e.parentCode}),Zn.$store.dispatch("setMenu",o),Qn().then(function(e){"0"==e.code&&s({path:a})})}else s({path:"/warningpage",query:{redirect:e.fullPath,msg:t.message||"出错啦",type:"warning"}})},function(t){s({path:"/errorpage",query:{redirect:e.fullPath,msg:t||"出错啦",type:"error"}})})}else s()});var Zn=new u.default({el:"#app",store:Fn,router:Nn,components:{App:m},template:"<App/>"})},P1I3:function(e,t){},"Q/t3":function(e,t){},QDfD:function(e,t){e.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},QSLo:function(e,t){},RQUv:function(e,t){},SgoW:function(e,t){},U43l:function(e,t){},V5PX:function(e,t){},WvIM:function(e,t){},YCqe:function(e,t){},Z12n:function(e,t){},ZrVV:function(e,t){},a0IG:function(e,t){e.exports={BOSH_SERVICE:"http://192.168.1.10:5280",acAccount:"albert@DESKTOP-L7PRRDN",acPwd:"123456",acCusAccount:"albert2@DESKTOP-L7PRRDN",acCusPwd:"123456",jid:""}},aPj9:function(e,t){},aoJ3:function(e,t){},dS29:function(e,t){},deUy:function(e,t){},dmoX:function(e,t){},ejIc:function(e,t){e.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},fhr5:function(e,t){},gHSG:function(e,t){e.exports={production:{target:"http://47.99.209.73:8016",host:"0.0.0.0",port:80,appkey:"1150181010228220#peidou",appName:"peidou",client_id:"YXA6R57_IMxcEeiZhp1p159oDA",client_secret:"YXA6YjqJUoSE5UxISEpaL7mHEam_p7Q"},development:{target:"http://192.168.1.12:9090",host:"192.168.1.10",port:8080,appkey:"1150181010228220#peidou-dev",appName:"peidou-dev",client_id:"YXA6WJoA6vHmEeihVjdUFlgg1Q",client_secret:"YXA6Yz24ZVugVkfz-l3MRy_YP3eL9c0"},private:{target:"http://192.168.1.19:8080",host:"192.168.1.10",port:8080,appkey:"1150181010228220#peidou-dev",appName:"peidou-dev",client_id:"YXA6WJoA6vHmEeihVjdUFlgg1Q",client_secret:"YXA6Yz24ZVugVkfz-l3MRy_YP3eL9c0"}}},gjCx:function(e,t){},gvW7:function(e,t){},"i2+4":function(e,t){},"i4/8":function(e,t){},iqGl:function(e,t){},jktY:function(e,t){e.exports="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAAAeAAD/4QMvaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzEzOCA3OS4xNTk4MjQsIDIwMTYvMDkvMTQtMDE6MDk6MDEgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE3IChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo3QzJCRTcwREY5Q0MxMUU4QUQ5REY2OUFDMjM1OUZEMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3QzJCRTcwRUY5Q0MxMUU4QUQ5REY2OUFDMjM1OUZEMiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjdDMkJFNzBCRjlDQzExRThBRDlERjY5QUMyMzU5RkQyIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjdDMkJFNzBDRjlDQzExRThBRDlERjY5QUMyMzU5RkQyIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+/+4ADkFkb2JlAGTAAAAAAf/bAIQAEAsLCwwLEAwMEBcPDQ8XGxQQEBQbHxcXFxcXHx4XGhoaGhceHiMlJyUjHi8vMzMvL0BAQEBAQEBAQEBAQEBAQAERDw8RExEVEhIVFBEUERQaFBYWFBomGhocGhomMCMeHh4eIzArLicnJy4rNTUwMDU1QEA/QEBAQEBAQEBAQEBA/8AAEQgATABMAwEiAAIRAQMRAf/EAHEAAAIDAQEAAAAAAAAAAAAAAAQFAAIDAQcBAQEAAAAAAAAAAAAAAAAAAAABEAABAwEGAwYFBQEAAAAAAAABAAIDESExQVESBCITBWGRoTJCFYHB0WIUosIjg0QlEQEBAQAAAAAAAAAAAAAAAAAAATH/2gAMAwEAAhEDEQA/APQFFEDvN5prFEeK5zhh2BBvPuooQQTqfg0fPJBv6hM6ugBgwxKFJJNTaTeVZjHPcGtFSUFnbidxqZHV7CR4BXZvNwynFqAwdb43rUdNeRa8A5UWU+0khGqupuYQERdRFQJW0zc36IxrmvGppBBxFqSLWDcSQuBaatxbgUDhRUilZKwPYbMcwVdBhu5+TFZ53WN+qUkkmptJvKK6hJqm0YMHibUKgiM6aBrccaINF9PeGylp9QsViUyVJQDE6t1CrrLcPDIXE5U71LizSdRRRBvtJ+TKK+R9jvkU1SNMue78Dmeqmmtba101qgBnJM8hNvEfArNbbtmjcPFtCdQr22rFBFaN5jka8XgrSHayzWgUbmUbFsImULuIjuQEg1AOaC6jIQ1sYudaUaqSwRzCjxdccUpCZRGy9OcKmI1+0oNzS0lrhQjBBxbf4/7f2rFFcr/n66+vVT46EGvUYjRsoF3C75IBO3ND2lrriKH4pTuIHQyFpHCfKcwgLi38DI2tIdUChsVvcdvk7uS1RAy9x2+Tu5T3Hb5O7ktUQMvcdvk7uQe6lZNJrZWlLarFRBZjHPeGNvcaBN+U3k8q3Tp09t1EPstqWDmyDiPlGICMQRUliZKwseLM8QVdRAqn2UkVXN4oxbXEDtQ6eIfcfhV/m06q20812Om1ArURD/wdR08yn20p+q1axe3UbWuqvrrnjThQCMY97tLAXHIJhtti2Mh8nE8XDAIiPl6Ry6acNN3groOLqiiD/9k="},pA4l:function(e,t){},"qyR+":function(e,t){},"u+Fi":function(e,t){},wdEl:function(e,t,s){var a=this,n=s("0xDb").generateId,o=s("Zt3A"),r=(s("a0IG"),o.Strophe),i=!1,c=function(e){console.log("onListen接收到消息=> %o",e),a.onMessage(e)};e.exports={onConnect:function(e,t){e==r.Status.CONNFAIL?console.log("连接失败！"):e==r.Status.AUTHFAIL?console.log("登录失败！"):e==r.Status.DISCONNECTED?(console.log("连接断开！"),i=!1):e==r.Status.CONNECTED&&(console.log("连接成功！"),i=!0,null.addHandler(t||c,null,"message",null,null,null),null.send($pres().tree()))},onMessage:function(e){console.log("onMessage接收到消息=> %o",e)},onSend:function(e,t,s,a){if(i){if(a&&"function"==typeof a)return void a(s);s=$msg({to:t,from:e,type:"chat"}).c("body",null,s),null.send(s.tree())}},sendReceipts:function(e,t,s){var a=$msg({to:e,from:t,type:"receipts",xmlns:"peidou",id:"chat-"+n(6)}).c("mobilePeidou",null,"").c("receipts",{msgid:s,type:"chat"},"");null.send(a.tree())}}},xb25:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.00704f40468de5087d2f.js.map